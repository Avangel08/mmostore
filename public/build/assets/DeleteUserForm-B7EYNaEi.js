import{d as o,j as e,G as Fe,R as Ae}from"./index-BFOjcQ0e.js";import{u as h,c as u,d as Ee,a as Te,R as Oe,C as G,B as k}from"./Row-BMTVMOiq.js";import{C as Ue}from"./Card-DDsiJl8P.js";import{c as V,u as $e,a as q,r as J,o as Ie,F as X,b as He,t as Le}from"./Fade-BBQAkpzE.js";import{u as We}from"./useWillUnmount-ha8neWLk.js";import{A as ze,M as _e,B as Ke,g as Ge}from"./AbstractModalHeader-BcS1XhD1.js";import{F as x}from"./Form-BJRDAsTZ.js";import"./hasClass-ChTFEsgt.js";import"./CloseButton-B9XM4ESY.js";import"./index-Cl-orj2q.js";var C;function Q(t){if((!C&&C!==0||t)&&V){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),C=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return C}function qe(){return o.useState(null)}const Y=o.forwardRef(({className:t,bsPrefix:s,as:n="div",...r},l)=>(s=h(s,"modal-body"),e.jsx(n,{ref:l,className:u(t,s),...r})));Y.displayName="ModalBody";const B=o.forwardRef(({bsPrefix:t,className:s,contentClassName:n,centered:r,size:l,fullscreen:d,children:g,scrollable:y,...f},w)=>{t=h(t,"modal");const m=`${t}-dialog`,j=typeof d=="string"?`${t}-fullscreen-${d}`:`${t}-fullscreen`;return e.jsx("div",{...f,ref:w,className:u(m,s,l&&`${t}-${l}`,r&&`${m}-centered`,y&&`${m}-scrollable`,d&&j),children:e.jsx("div",{className:u(`${t}-content`,n),children:g})})});B.displayName="ModalDialog";const Z=o.forwardRef(({className:t,bsPrefix:s,as:n="div",...r},l)=>(s=h(s,"modal-footer"),e.jsx(n,{ref:l,className:u(t,s),...r})));Z.displayName="ModalFooter";const P=o.forwardRef(({bsPrefix:t,className:s,closeLabel:n="Close",closeButton:r=!1,...l},d)=>(t=h(t,"modal-header"),e.jsx(ze,{ref:d,...l,className:u(s,t),closeLabel:n,closeButton:r})));P.displayName="ModalHeader";const Je=Ee("h4"),ee=o.forwardRef(({className:t,bsPrefix:s,as:n=Je,...r},l)=>(s=h(s,"modal-title"),e.jsx(n,{ref:l,className:u(t,s),...r})));ee.displayName="ModalTitle";function Qe(t){return e.jsx(X,{...t,timeout:null})}function Ve(t){return e.jsx(X,{...t,timeout:null})}const te=o.forwardRef(({bsPrefix:t,className:s,style:n,dialogClassName:r,contentClassName:l,children:d,dialogAs:g=B,"data-bs-theme":y,"aria-labelledby":f,"aria-describedby":w,"aria-label":m,show:j=!1,animation:c=!0,backdrop:i=!0,keyboard:ae=!0,onEscapeKeyDown:F,onShow:se,onHide:R,container:oe,autoFocus:ne=!0,enforceFocus:re=!0,restoreFocus:le=!0,restoreFocusOptions:de,onEntered:ce,onExit:A,onExiting:ie,onEnter:E,onEntering:T,onExited:O,backdropClassName:U,manager:$,...ue},me)=>{const[fe,pe]=o.useState({}),[he,I]=o.useState(!1),b=o.useRef(!1),v=o.useRef(!1),N=o.useRef(null),[M,ge]=qe(),ye=$e(me,ge),H=q(R),we=Te();t=h(t,"modal");const je=o.useMemo(()=>({onHide:H}),[H]);function L(){return $||Ge({isRTL:we})}function W(a){if(!V)return;const p=L().getScrollbarWidth()>0,K=a.scrollHeight>Ie(a).documentElement.clientHeight;pe({paddingRight:p&&!K?Q():void 0,paddingLeft:!p&&K?Q():void 0})}const S=q(()=>{M&&W(M.dialog)});We(()=>{J(window,"resize",S),N.current==null||N.current()});const Ne=()=>{b.current=!0},Me=a=>{b.current&&M&&a.target===M.dialog&&(v.current=!0),b.current=!1},z=()=>{I(!0),N.current=Le(M.dialog,()=>{I(!1)})},Re=a=>{a.target===a.currentTarget&&z()},xe=a=>{if(i==="static"){Re(a);return}if(v.current||a.target!==a.currentTarget){v.current=!1;return}R==null||R()},Ce=a=>{ae?F==null||F(a):(a.preventDefault(),i==="static"&&z())},be=(a,p)=>{a&&W(a),E==null||E(a,p)},ve=a=>{N.current==null||N.current(),A==null||A(a)},Se=(a,p)=>{T==null||T(a,p),He(window,"resize",S)},ke=a=>{a&&(a.style.display=""),O==null||O(a),J(window,"resize",S)},De=o.useCallback(a=>e.jsx("div",{...a,className:u(`${t}-backdrop`,U,!c&&"show")}),[c,U,t]),_={...n,...fe};_.display="block";const Be=a=>e.jsx("div",{role:"dialog",...a,style:_,className:u(s,t,he&&`${t}-static`,!c&&"show"),onClick:i?xe:void 0,onMouseUp:Me,"data-bs-theme":y,"aria-label":m,"aria-labelledby":f,"aria-describedby":w,children:e.jsx(g,{...ue,onMouseDown:Ne,className:r,contentClassName:l,children:d})});return e.jsx(_e.Provider,{value:je,children:e.jsx(Ke,{show:j,ref:ye,backdrop:i,container:oe,keyboard:!0,autoFocus:ne,enforceFocus:re,restoreFocus:le,restoreFocusOptions:de,onEscapeKeyDown:Ce,onShow:se,onHide:R,onEnter:be,onEntering:Se,onEntered:ce,onExit:ve,onExiting:ie,onExited:ke,manager:L(),transition:c?Qe:void 0,backdropTransition:c?Ve:void 0,renderBackdrop:De,renderDialog:Be})})});te.displayName="Modal";const D=Object.assign(te,{Body:Y,Header:P,Title:ee,Footer:Z,Dialog:B,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function rt({className:t=""}){const[s,n]=o.useState(!1),r=o.useRef(),{data:l,setData:d,delete:g,processing:y,reset:f,errors:w}=Fe({password:""}),m=()=>{n(!0)},j=i=>{i.preventDefault(),g(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>r.current.focus(),onFinish:()=>f()})},c=()=>{n(!1),f()};return e.jsxs(Ae.Fragment,{children:[e.jsx(Oe,{children:e.jsxs(G,{lg:12,children:[e.jsx("h2",{children:"Delete Account"}),e.jsxs(Ue,{children:[e.jsx("p",{className:"text-muted p-2",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."}),e.jsx(G,{lg:6,children:e.jsx(k,{variant:"danger",onClick:m,type:"submit",className:"btn btn-danger m-2",children:"Delete Account"})})]})]})}),e.jsxs(D,{show:s,onHide:c,centered:!0,children:[e.jsx(D.Header,{className:"bg-light p-3",closeButton:!0,children:e.jsx("h5",{className:"modal-title",children:"Are you sure you want to delete your account?"})}),e.jsxs(x,{onSubmit:j,className:"p-6",children:[e.jsx(D.Body,{children:e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"mt-1 ",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e.jsx(x.Label,{htmlFor:"password",value:"Password",className:"sr-only"}),e.jsx(x.Control,{id:"password",type:"password",name:"password",ref:r,value:l.password,onChange:i=>d("password",i.target.value),className:"mt-1 block w-3/4",autoFocus:!0,placeholder:"Password"}),e.jsxs(x.Control.Feedback,{type:"invalid",className:"d-block",children:[" ",w.password," "]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end mb-4",children:[e.jsx(k,{variant:"light",onClick:c,className:"btn ms-2",type:"submit",children:"Cancel"}),e.jsx(k,{variant:"danger",className:"btn ml-3 ms-3",disabled:y,type:"submit",children:"Delete Account"})]})]})]})]})}export{rt as default};
