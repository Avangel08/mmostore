import{X as f,d as n,f as T,u as _,j as e,R as k,x as N,A as O}from"./ContextMenuProvider-BnbZ3Xw_.js";import{N as $,_ as H}from"./scrollspy-L89SZfXR.js";import{c as A}from"./reselect-CiXCCDx7.js";import"./react-toastify.esm-Dj3bmGVf.js";/* empty css                      */import{L as I}from"./LightDark-DNWszmZt.js";import{l as b}from"./logo-light-D3OEWz0M.js";import P from"./ModalLogin-D66ESeoA.js";import{L as R}from"./LanguageDropdown-BKUk_KR5.js";import{u as B}from"./useTranslation-CtwHyjpC.js";import{C as J}from"./Container-xmF8fBYZ.js";import{C as U}from"./Collapse-DMC4Mlvv.js";import{N as m}from"./NavLink-BV4-k6Vz.js";import{B as S}from"./Button-BRcUTJGP.js";const u={set(s,t){try{localStorage.setItem(s,JSON.stringify(t))}catch(o){console.error("Storage set error:",o)}},get(s,t){try{const o=localStorage.getItem(s);return o?JSON.parse(o):t}catch(o){return console.error("Storage get error:",o),t}},remove(s){try{localStorage.removeItem(s)}catch(t){console.error("Storage remove error:",t)}},clear(){try{localStorage.clear()}catch(s){console.error("Storage clear error:",s)}}},x="app_theme",z={theme:"theme_1",pageHeaderImage:"",pageHeaderText:"Hello, welcome to MMO Store",storeLogo:"",storeName:"MMO Store",metaDescription:""},y={get:()=>u.get(x,z),set:s=>u.set(x,s),clear:()=>u.remove(x)};function F(){const{settings:s}=f().props,[t,o]=n.useState(null);return n.useEffect(()=>{if(s&&typeof s=="object"&&!Array.isArray(s))o(s),y.set(s);else{const d=y.get();d&&o(d)}},[s]),t}const K=({onChangeLayoutMode:s,layoutModeType:t})=>{T();const[o,d]=n.useState(!1),[L,v]=n.useState(""),[w,g]=n.useState(!1),{user:a}=f().props.auth,{t:i}=B(),j=f().props.storageUrl,c=F(),{settings:l}=f().props,C=()=>{O.post(route("buyer.logout"),{},{onSuccess:()=>{window.location.reload()}})};n.useEffect(()=>{a&&g(!1)},[a]);const M=()=>d(!o);n.useEffect(()=>{window.addEventListener("scroll",D,!0)});const D=()=>{var r=document.documentElement.scrollTop;r>50?v(" is-sticky"):v("")},E=A(r=>r.Layout,r=>r.sidebarVisibilitytype);_(E);const[V,X]=n.useState(!1),p=n.useMemo(()=>l!=null&&l.menus?l==null?void 0:l.menus.filter(h=>h.status==="active"):[],[l==null?void 0:l.menus]);return e.jsxs(k.Fragment,{children:[e.jsx("nav",{className:"navbar navbar-expand-lg navbar-landing fixed-top job-navbar"+L,id:"navbar",children:e.jsxs(J,{fluid:!0,className:"custom-container",children:[e.jsxs(N,{className:"navbar-brand",href:"/",children:[e.jsx("img",{src:c!=null&&c.storeLogo?`${j}/${c.storeLogo}?v=${Date.now()}`:b,className:"card-logo card-logo-dark",alt:"logo dark",height:"17"}),e.jsx("img",{src:c!=null&&c.storeLogo?`${j}/${c.storeLogo}?v=${Date.now()}`:b,className:"card-logo card-logo-light",alt:"logo light",height:"17"})]}),e.jsx($,{onClick:M,className:"navbar-toggler py-0 fs-20 text-body",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("i",{className:"mdi mdi-menu"})}),e.jsx(U,{className:"navbar-collapse",in:o,children:e.jsxs("div",{children:[e.jsxs(H,{offset:-18,items:["hero","process"],currentClassName:"active",className:"navbar-nav mx-auto mt-2 mt-lg-0 ms-5",id:"navbar-example",children:[e.jsx("li",{className:"nav-item",children:e.jsx(m,{className:"fs-16",href:"/",children:i("Home")})}),e.jsx("li",{className:"nav-item",children:!!a&&e.jsx(m,{className:"fs-16",href:"/profile",children:i("Personal profile")})}),e.jsx("li",{className:"nav-item",children:!!a&&e.jsx(m,{className:"fs-16",href:"/order",children:i("Order history")})}),e.jsx("li",{className:"nav-item",children:!!a&&e.jsx(m,{className:"fs-16",href:"/deposits",children:i("Deposits")})}),e.jsx("li",{className:"nav-item",children:!!a&&e.jsx(m,{className:"fs-16",href:"/payment-history",children:i("Payment History")})}),p&&(p==null?void 0:p.map((r,h)=>e.jsx("li",{className:"nav-item",children:!!a&&e.jsx(m,{target:"_blank",rel:"noopener noreferrer",className:"fs-16",href:`https://${r==null?void 0:r.value}`,children:(r==null?void 0:r.label)??""})},h)))]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(R,{}),e.jsx(I,{layoutMode:t,onChangeLayoutMode:s}),a&&e.jsx(N,{href:"/profile",children:e.jsx("div",{className:"ms-sm-2 text-white",children:e.jsxs("span",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-user-line fs-22"}),e.jsxs("span",{className:"d-flex flex-row align-items-center",children:[e.jsx("span",{className:"ms-1 fw-medium user-name-text",children:a==null?void 0:a.name}),e.jsxs("span",{className:"ms-1 fs-12",children:[": ",(a==null?void 0:a.balance)??0," VND"]})]})]})})}),e.jsx("div",{className:"ms-sm-3 header-item d-none d-sm-flex",children:a?e.jsxs(S,{variant:"primary",onClick:C,children:[e.jsx("i",{className:"ri-logout-box-r-line"})," ",i("Logout")]}):e.jsx(S,{variant:"primary",onClick:()=>{g(!0)},children:i("Login")})})]})]})})]})}),e.jsx(P,{show:w,handleClose:()=>{g(!1)}})]})},ce=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{K as N,ce as a,F as u};
