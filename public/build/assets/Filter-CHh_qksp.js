import{d as g,j as e}from"./ContextMenuProvider-1cB75p-p.js";import{F as L,_ as R,v as k}from"./default-CGh85sJm.js";import{h as D}from"./moment-C5S46NFB.js";import{u as A}from"./useQueryParam-C88XvqE4.js";import{u as I}from"./useTranslation-C7Yq1257.js";import{B as f}from"./Button-DzpAM0nN.js";import{R as Y}from"./Row-Cp0Qg_e-.js";import{C as l}from"./Col-D0392pNZ.js";import{F as i}from"./Form-vqhQI7d8.js";import"./index-hS6bo2zO.js";import"./ThemeProvider-CK0LS3qr.js";import"./Button-BmeryA7r.js";const J=({onFilter:j,categories:h=[],products:x=[]})=>{const{t:a,i18n:F}=I(),o=g.useRef(null),[d,y]=g.useState(!1),s=A(),v=(s==null?void 0:s.perPage)??"10",_=()=>({search:(s==null?void 0:s.search)??"",createdDateStart:(s==null?void 0:s.createdDateStart)??"",createdDateEnd:(s==null?void 0:s.createdDateEnd)??"",status:(s==null?void 0:s.status)??"",payment_status:(s==null?void 0:s.payment_status)??"",category_id:(s==null?void 0:s.category_id)??"",product_id:(s==null?void 0:s.product_id)??""}),[t,p]=g.useState(_()),b=()=>{switch(F.language){case"vi":return k.Vietnamese;default:return R.english}},n=(r,c)=>{p(u=>{const m={...u,[r]:c};return r==="category_id"&&(m.product_id=""),m})},E=r=>{const[c,u]=r;p(m=>({...m,createdDateStart:c?D(c).format("YYYY-MM-DD"):"",createdDateEnd:u?D(u).format("YYYY-MM-DD"):""}))},S=()=>{j(1,Number(v),t)},C=()=>!!(t.search&&t.search.trim()!==""||t.createdDateStart&&t.createdDateStart!==""||t.createdDateEnd&&t.createdDateEnd!==""||t.status&&t.status!==""||t.payment_status&&t.payment_status!==""||t.category_id&&t.category_id!==""||t.product_id&&t.product_id!==""),N=()=>{const r={search:"",createdDateStart:"",createdDateEnd:"",status:"",payment_status:"",category_id:"",product_id:""};p(r),o.current&&o.current.flatpickr&&o.current.flatpickr.clear(),j(1,Number(v),r)},P=()=>{y(!d)};return e.jsxs("div",{className:"filter-container mb-5",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[e.jsxs(f,{variant:"outline-primary",onClick:P,className:"d-flex align-items-center",children:[e.jsx("i",{className:`ri-filter-${d?"off":"2"}-line align-bottom me-2`}),a(d?"Hide Filters":"Show Filters")]}),C()&&e.jsxs(f,{variant:"outline-secondary",onClick:N,className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),a("Reset")]})]}),d&&e.jsx("div",{className:"p-3 border rounded bg-light",children:e.jsxs(Y,{className:"g-2 align-items-end",children:[e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-search",children:a("Order number")}),e.jsx(i.Control,{type:"text",id:"filter-search",placeholder:a("Enter order number"),value:t.search,onChange:r=>n("search",r.target.value),size:"sm"})]}),e.jsxs(l,{md:1,children:[e.jsx(i.Label,{htmlFor:"filter-date",children:a("Created Date Range")}),e.jsx(L,{ref:o,className:"form-control form-control-sm",id:"filter-date",placeholder:a("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:b()},value:t.createdDateStart&&t.createdDateEnd?[new Date(t.createdDateStart),new Date(t.createdDateEnd)]:t.createdDateStart?[new Date(t.createdDateStart)]:[],onChange:E})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-status",children:a("Status")}),e.jsxs(i.Select,{id:"filter-status",value:t.status,onChange:r=>n("status",r.target.value),size:"sm",children:[e.jsx("option",{value:"",children:a("All Status")}),e.jsx("option",{value:"PENDING",children:a("Pending")}),e.jsx("option",{value:"PROCESSING",children:a("Processing")}),e.jsx("option",{value:"COMPLETED",children:a("Completed")}),e.jsx("option",{value:"CANCELLED",children:a("Cancelled")}),e.jsx("option",{value:"FAILED",children:a("Failed")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-payment-status",children:a("Payment Status")}),e.jsxs(i.Select,{id:"filter-payment-status",value:t.payment_status,onChange:r=>n("payment_status",r.target.value),size:"sm",children:[e.jsx("option",{value:"",children:a("All Status")}),e.jsx("option",{value:"PENDING",children:a("Pending")}),e.jsx("option",{value:"PAID",children:a("Paid")}),e.jsx("option",{value:"FAILED",children:a("Failed")}),e.jsx("option",{value:"REFUNDED",children:a("Refunded")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-category",children:a("Category")}),e.jsxs(i.Select,{id:"filter-category",value:t.category_id,onChange:r=>n("category_id",r.target.value),size:"sm",children:[e.jsx("option",{value:"",children:a("All Categories")}),h&&h.length>0?h.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)):e.jsx("option",{value:"",disabled:!0,children:a("No categories available")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-product",children:a("Product")}),e.jsxs(i.Select,{id:"filter-product",value:t.product_id,onChange:r=>n("product_id",r.target.value),size:"sm",children:[e.jsx("option",{value:"",children:a("All Products")}),x&&x.length>0?x.filter(r=>!t.category_id||r.category_id===t.category_id).map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)):e.jsx("option",{value:"",disabled:!0,children:a("No products available")})]})]}),e.jsx(l,{md:1,className:"d-flex gap-1",children:e.jsxs(f,{variant:"primary",onClick:S,size:"sm",children:[e.jsx("i",{className:"ri-search-line align-bottom me-1"}),a("Filter")]})})]})})]})};export{J as default};
