import{d as m,j as t}from"./ContextMenuProvider-DoI9LuTu.js";import{F as M,_ as L,v as B}from"./default-DKET8U34.js";import{N as E}from"./react-number-format.es-CUqECRIb.js";import{h as D}from"./moment-C5S46NFB.js";import{u as K}from"./useQueryParam-xm9iNkis.js";import{u as P}from"./useTranslation-Bh5zzBC_.js";import{B as x}from"./Button-CdshqBqI.js";import{R as T}from"./Row-DaX0pFtU.js";import{C as u}from"./Col-BERnSmBs.js";import{F as o}from"./Form-C6Oq7frR.js";import{I as F}from"./InputGroup-CDI3KljJ.js";import"./index-B7rcZTdA.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";import"./InputGroupContext-CIB_KQgH.js";const te=({onFilter:g})=>{const{t:i,i18n:N}=P(),s=m.useRef(null),[d,Y]=m.useState(!1),a=K(),v=(a==null?void 0:a.perPage)??"10",f=m.useRef(null),C=()=>({rateMin:(a==null?void 0:a.rateMin)??"",rateMax:(a==null?void 0:a.rateMax)??"",createdDateStart:(a==null?void 0:a.createdDateStart)??"",createdDateEnd:(a==null?void 0:a.createdDateEnd)??"",effectiveDateStart:(a==null?void 0:a.effectiveDateStart)??"",effectiveDateEnd:(a==null?void 0:a.effectiveDateEnd)??""}),[e,l]=m.useState(C()),p=()=>{switch(N.language){case"vi":return B.Vietnamese;default:return L.english}},b=r=>{const[n,c]=r;l(h=>({...h,createdDateStart:n?D(n).format("YYYY-MM-DD"):"",createdDateEnd:c?D(c).format("YYYY-MM-DD"):""}))},w=r=>{const[n,c]=r;l(h=>({...h,effectiveDateStart:n?D(n).format("YYYY-MM-DD"):"",effectiveDateEnd:c?D(c).format("YYYY-MM-DD"):""}))},k=r=>{const{floatValue:n}=r;l(c=>({...c,rateMin:n?n.toString():""}))},R=r=>{const{floatValue:n}=r;l(c=>({...c,rateMax:n?n.toString():""}))},S=()=>{g(1,Number(v),e)},j=r=>{r.key==="Enter"&&S()},y=()=>!!(e.rateMin&&e.rateMin.trim()!==""||e.rateMax&&e.rateMax.trim()!==""||e.createdDateStart&&e.createdDateStart!==""||e.createdDateEnd&&e.createdDateEnd!==""||e.effectiveDateStart&&e.effectiveDateStart!==""||e.effectiveDateEnd&&e.effectiveDateEnd!==""),V=()=>{const r={rateMin:"",rateMax:"",createdDateStart:"",createdDateEnd:"",effectiveDateStart:"",effectiveDateEnd:""};l(r),s.current&&s.current.flatpickr&&s.current.flatpickr.clear(),f.current&&f.current.flatpickr&&f.current.flatpickr.clear(),g(1,Number(v),r)},I=()=>{Y(!d)};return t.jsxs("div",{className:"filter-container mb-3",children:[t.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[t.jsxs(x,{variant:"outline-primary",onClick:I,className:"d-flex align-items-center",children:[t.jsx("i",{className:`ri-filter-${d?"off":"2"}-line align-bottom me-2`}),i(d?"Hide Filters":"Show Filters")]}),y()&&t.jsxs(x,{variant:"outline-danger",onClick:V,className:"d-flex align-items-center",children:[t.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),i("Reset")]})]}),d&&t.jsx("div",{className:"p-3 border rounded bg-light",children:t.jsxs(T,{className:"g-3",children:[t.jsxs(u,{md:6,children:[t.jsx(o.Label,{children:i("Rate range")}),t.jsxs(F,{children:[t.jsx(E,{customInput:o.Control,id:"filter-rate-min",value:e.rateMin,onValueChange:k,onKeyDown:j,thousandSeparator:".",decimalSeparator:",",decimalScale:2,placeholder:i("From"),allowNegative:!1,fixedDecimalScale:!1}),t.jsx(F.Text,{children:"â€“"}),t.jsx(E,{customInput:o.Control,id:"filter-rate-max",value:e.rateMax,onValueChange:R,onKeyDown:j,thousandSeparator:".",decimalSeparator:",",decimalScale:2,placeholder:i("To"),allowNegative:!1,fixedDecimalScale:!1})]})]}),t.jsxs(u,{md:3,children:[t.jsx(o.Label,{htmlFor:"filter-effective-date",children:i("Effective date range")}),t.jsx(M,{ref:f,className:"form-control",id:"filter-effective-date",placeholder:i("Select effective date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:p()},value:e.effectiveDateStart&&e.effectiveDateEnd?[new Date(e.effectiveDateStart),new Date(e.effectiveDateEnd)]:e.effectiveDateStart?[new Date(e.effectiveDateStart)]:[],onChange:w})]}),t.jsxs(u,{md:3,children:[t.jsx(o.Label,{htmlFor:"filter-date",children:i("Created Date Range")}),t.jsx(M,{ref:s,className:"form-control",id:"filter-date",placeholder:i("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:p()},value:e.createdDateStart&&e.createdDateEnd?[new Date(e.createdDateStart),new Date(e.createdDateEnd)]:e.createdDateStart?[new Date(e.createdDateStart)]:[],onChange:b})]}),t.jsx(u,{md:3,className:"d-flex align-items-end",children:t.jsxs(x,{variant:"primary",onClick:S,children:[t.jsx("i",{className:"ri-search-line align-bottom me-1"}),i("Filter")]})})]})})]})};export{te as default};
