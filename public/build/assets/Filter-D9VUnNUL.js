import{d as i,j as a}from"./ContextMenuProvider-DoI9LuTu.js";import{F as J,_ as W,v as X}from"./default-DKET8U34.js";import{S as p}from"./react-select.esm-Ci0lS3LH.js";import{h as Y}from"./moment-C5S46NFB.js";import{u as Z}from"./useQueryParam-xm9iNkis.js";import{u as U}from"./useTranslation-Bh5zzBC_.js";import{B as F}from"./Button-CdshqBqI.js";import{R as M}from"./Row-DaX0pFtU.js";import{C as m}from"./Col-BERnSmBs.js";import{F as u}from"./Form-C6Oq7frR.js";import"./index-B7rcZTdA.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-BsRiVy2U.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";const ye=({onFilter:C,status:E,type:S,verifyStatus:N})=>{const{t:l,i18n:R}=U(),x=i.useRef(null),[y,A]=i.useState(!1),e=Z(),P=(e==null?void 0:e.perPage)??"10",L=()=>({name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",type:(e==null?void 0:e.type)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??"",verifyStatus:(e==null?void 0:e.verifyStatus)??""}),[r,D]=i.useState(L()),d=i.useMemo(()=>[{value:"",label:l("All")},...Object.keys(S||{}).map(t=>({value:S[t],label:l(S[t])}))],[S,l]),f=i.useMemo(()=>[{value:"",label:l("All")},...Object.entries(E||{}).map(([t,s])=>({value:t,label:l(t)}))],[E,l]),h=i.useMemo(()=>[{value:"",label:l("All")},...Object.entries(N||{}).map(([t,s])=>({value:s,label:l(t)}))],[N,l]),[I,v]=i.useState({value:"",label:l("All")}),[O,b]=i.useState({value:"",label:l("All")}),[z,j]=i.useState({value:"",label:l("All")});i.useEffect(()=>{d.length>0&&v(d[0]),f.length>0&&b(f[0]),h.length>0&&j(h[0])},[d,f]),i.useEffect(()=>{const t=e==null?void 0:e.type;if(t!==null){const n=d.find(c=>c.value.toString()===t);n&&v(n)}const s=e==null?void 0:e.status;if(s!==null){const n=f.find(c=>c.value.toString()===s);n&&b(n)}const o=e==null?void 0:e.verifyStatus;if(o!==null){const n=h.find(c=>c.value.toString()===o);n&&j(n)}},[e==null?void 0:e.type,e==null?void 0:e.status,e==null?void 0:e.verifyStatus,d,f,h]);const B=()=>{switch(R.language){case"vi":return X.Vietnamese;default:return W.english}},g=(t,s)=>{D(o=>({...o,[t]:s}))},K=t=>{const[s,o]=t;D(n=>({...n,createdDateStart:s?Y(s).format("YYYY-MM-DD"):"",createdDateEnd:o?Y(o).format("YYYY-MM-DD"):""}))},_=t=>{v(t),g("type",t.value)},$=t=>{b(t),g("status",t.value)},H=t=>{j(t),g("verifyStatus",t.value)},T=()=>{C(1,Number(P),r)},V=t=>{t.key==="Enter"&&T()},Q=()=>{const t=(e==null?void 0:e.name)||"",s=(e==null?void 0:e.email)||"",o=(e==null?void 0:e.type)||"",n=(e==null?void 0:e.createdDateStart)||"",c=(e==null?void 0:e.createdDateEnd)||"",k=(e==null?void 0:e.status)||"",w=(e==null?void 0:e.verifyStatus)||"";return t!==null&&t!==""||s!==null&&s!==""||o!==null&&o!==""||n!==null&&n!==""||c!==null&&c!==""||k!==null&&k!==""||w!==null&&w!==""},q=()=>{const t={name:"",email:"",type:"",createdDateStart:"",createdDateEnd:"",status:"",verifyStatus:""};D(t),v(d[0]),b(f[0]),j(h[0]),x.current&&x.current.flatpickr&&x.current.flatpickr.clear(),C(1,Number(P),t)},G=()=>{A(!y)};return a.jsxs("div",{className:"filter-container mb-3",children:[a.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[a.jsxs(F,{variant:"outline-primary",onClick:G,className:"d-flex align-items-center",children:[a.jsx("i",{className:`ri-filter-${y?"off":"2"}-line align-bottom me-2`}),l(y?"Hide Filters":"Show Filters")]}),Q()&&a.jsxs(F,{variant:"outline-danger",onClick:q,className:"d-flex align-items-center",children:[a.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),l("Reset")]})]}),y&&a.jsxs("div",{className:"p-3 border rounded bg-light",children:[a.jsxs(M,{className:"g-3",style:{marginBottom:"20px"},children:[a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-name",children:l("Name")}),a.jsx(u.Control,{type:"text",id:"filter-name",placeholder:l("Enter name"),value:r.name,onChange:t=>g("name",t.target.value),onKeyDown:V})]}),a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-email",children:l("Email")}),a.jsx(u.Control,{type:"text",id:"filter-email",placeholder:l("Enter email"),value:r.email,onChange:t=>g("email",t.target.value),onKeyDown:V})]}),a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-date",children:l("Created Date Range")}),a.jsx(J,{ref:x,className:"form-control",id:"filter-date",placeholder:l("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:B()},value:r.createdDateStart&&r.createdDateEnd?[new Date(r.createdDateStart),new Date(r.createdDateEnd)]:r.createdDateStart?[new Date(r.createdDateStart)]:[],onChange:K})]})]}),a.jsxs(M,{className:"g-3",children:[a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-type",children:l("Type")}),a.jsx(p,{id:"filter-type",value:I,onChange:_,options:d,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select type"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-status",children:l("Status")}),a.jsx(p,{id:"filter-status",value:O,onChange:$,options:f,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select status"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsxs(m,{md:3,children:[a.jsx(u.Label,{htmlFor:"filter-verify-status",children:l("Verify status")}),a.jsx(p,{id:"filter-verify-status",value:z,onChange:H,options:h,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select verify status"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsx(m,{md:12,children:a.jsxs(F,{variant:"primary",onClick:T,children:[a.jsx("i",{className:"ri-search-line align-bottom me-1"}),l("Filter")]})})]})]})]})};export{ye as default};
