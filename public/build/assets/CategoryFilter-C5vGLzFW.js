import{d as l,j as t}from"./ContextMenuProvider-DoI9LuTu.js";import{F as P,_ as V,v as A}from"./default-DKET8U34.js";import{S as M}from"./react-select.esm-Ci0lS3LH.js";import{h as v}from"./moment-C5S46NFB.js";import{u as L}from"./useQueryParam-xm9iNkis.js";import{u as T}from"./useTranslation-Bh5zzBC_.js";import{R as _}from"./Row-DaX0pFtU.js";import{C as u}from"./Col-BERnSmBs.js";import{F as f}from"./Form-C6Oq7frR.js";import{B as x}from"./Button-CdshqBqI.js";import"./index-B7rcZTdA.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-BsRiVy2U.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";const ne=({onFilter:S,additionalButtons:D})=>{const{t:s,i18n:b}=T(),c=l.useRef(null),[o,F]=l.useState(!1),e=L(),j=(e==null?void 0:e.perPage)??"10",N=()=>({name:(e==null?void 0:e.name)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??""}),[i,h]=l.useState(N()),d=[{value:"",label:s("All")},{value:"ACTIVE",label:s("Active")},{value:"INACTIVE",label:s("Inactive")}],[C,g]=l.useState(d[0]);l.useEffect(()=>{const a=e==null?void 0:e.status;if(a!==null){const n=d.find(r=>r.value.toString()===a);n&&g(n)}},[]);const E=()=>{switch(b.language){case"vi":return A.Vietnamese;default:return V.english}},p=(a,n)=>{h(r=>({...r,[a]:n}))},y=a=>{const[n,r]=a;h(m=>({...m,createdDateStart:n?v(n).format("YYYY-MM-DD"):"",createdDateEnd:r?v(r).format("YYYY-MM-DD"):""}))},k=a=>{g(a),p("status",a.value)},Y=()=>{S(1,Number(j),i)},I=()=>{const a=(e==null?void 0:e.name)||"",n=(e==null?void 0:e.createdDateStart)||"",r=(e==null?void 0:e.createdDateEnd)||"",m=(e==null?void 0:e.status)||"";return a!==null&&a!==""||n!==null&&n!==""||r!==null&&r!==""||m!==null&&m!==""},R=()=>{const a={name:"",createdDateStart:"",createdDateEnd:"",status:""};h(a),g(d[0]),c.current&&c.current.flatpickr&&c.current.flatpickr.clear(),S(1,Number(j),a)},w=()=>{F(!o)};return t.jsxs("div",{className:"filter-container mb-3",children:[o&&t.jsx("div",{className:"p-3 border rounded bg-light mb-3",children:t.jsxs(_,{className:"g-3",children:[t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-name",children:s("Name")}),t.jsx(f.Control,{type:"text",id:"filter-name",placeholder:s("Enter category name"),value:i.name,onChange:a=>p("name",a.target.value)})]}),t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-date",children:s("Created Date Range")}),t.jsx(P,{ref:c,className:"form-control",id:"filter-date",placeholder:s("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:E()},value:i.createdDateStart&&i.createdDateEnd?[new Date(i.createdDateStart),new Date(i.createdDateEnd)]:i.createdDateStart?[new Date(i.createdDateStart)]:[],onChange:y})]}),t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-status",children:s("Status")}),t.jsx(M,{id:"filter-status",value:C,onChange:k,options:d,classNamePrefix:"select",isSearchable:!0,placeholder:s("Select status"),menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}})]}),t.jsx(u,{md:3,className:"d-flex align-items-end",children:t.jsxs(x,{variant:"primary",onClick:Y,children:[t.jsx("i",{className:"ri-search-line align-bottom me-1"}),s("Filter")]})})]})}),t.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[t.jsxs(x,{variant:"outline-primary",onClick:w,className:"d-flex align-items-center",children:[t.jsx("i",{className:`ri-filter-${o?"off":"2"}-line align-bottom me-2`}),s(o?"Hide Filters":"Show Filters")]}),I()&&t.jsxs(x,{variant:"outline-danger",onClick:R,className:"d-flex align-items-center",children:[t.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),s("Reset")]})]}),D&&t.jsx("div",{className:"d-flex align-items-center gap-2",children:D})]})]})};export{ne as default};
