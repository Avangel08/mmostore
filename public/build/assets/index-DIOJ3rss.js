import{d as r,A as b,t as s,j as e,R as v,S,x as N}from"./ContextMenuProvider-DoI9LuTu.js";import{u as y,c as C,a as p}from"./index.esm-yjK6ua4W.js";import{l as k}from"./logo-light-D3OEWz0M.js";import{G as E}from"./GuestLayout-YFUlxgu5.js";import{C as F}from"./Container-AKEw1NBh.js";import{R as u}from"./Row-DaX0pFtU.js";import{C as x}from"./Col-BERnSmBs.js";import{C as j}from"./Card-BP66js0B.js";import{A as M}from"./Alert-DmeDZGUk.js";import{F as i}from"./Form-C6Oq7frR.js";import{B as R}from"./Button-CdshqBqI.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-BsRiVy2U.js";import"./ApplicationLogo-FnpUeiwx.js";import"./reselect-CiXCCDx7.js";import"./ThemeProvider-CQKb4rSK.js";import"./divWithClassName-Ct-4CK0x.js";import"./hook-Crll79d-.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./useEventCallback-BA23UYAQ.js";import"./Anchor-B8rOyTnZ.js";import"./useEventCallback-Bsoi2xyD.js";import"./Button-lElTeqs9.js";import"./Fade-iG7JUvQW.js";import"./TransitionWrapper-CRtjL7Sb.js";import"./useMergedRefs-Cm3LQ1VB.js";import"./setPrototypeOf-DgZC2w_0.js";import"./CloseButton-feMrj_cP.js";import"./index-B7rcZTdA.js";const le=()=>{const[o,g]=r.useState(!1),[n,m]=r.useState(null),[c,l]=r.useState(!1),[w,d]=r.useState(!1);r.useEffect(()=>{if(new URLSearchParams(window.location.search).get("reset")==="success"){d(!0);const t=window.location.pathname;window.history.replaceState({},document.title,t),setTimeout(()=>{d(!1)},5e3)}},[]);const a=y({enableReinitialize:!0,initialValues:{email:"",password:""},validationSchema:C({email:p().email(s("Invalid email")).required(s("Email is required")),password:p().required(s("Password is required"))}),onSubmit:h=>{l(!0),b.post(route("home.login.post"),h,{preserveScroll:!0,onSuccess:()=>{m(null),l(!1)},onError:t=>{a.setErrors(t);const f=Array.isArray(t==null?void 0:t.login)?t.login[0]:t==null?void 0:t.login;m(f||s("Invalid credentials")),l(!1)}})}});return e.jsx(v.Fragment,{children:e.jsxs(E,{children:[e.jsx(S,{title:"Login | MMO Store"}),e.jsx("div",{className:"auth-page-content mt-lg-5",children:e.jsxs(F,{children:[e.jsx(u,{children:e.jsx(x,{lg:12,children:e.jsxs("div",{className:"text-center mt-sm-5 mb-4 text-white-50",children:[e.jsx("div",{children:e.jsx(N,{href:"/",className:"d-inline-block auth-logo",children:e.jsx("img",{src:k,alt:"",height:"20"})})}),e.jsx("p",{className:"mt-3 fs-15 fw-medium",children:"MMO Store Platform"})]})})}),e.jsx(u,{className:"justify-content-center",children:e.jsxs(x,{md:8,lg:6,xl:5,children:[e.jsx(j,{className:"mt-4",children:e.jsxs(j.Body,{className:"p-4",children:[e.jsxs("div",{className:"text-center mt-2",children:[e.jsx("h5",{className:"text-primary",children:s("Welcome Back!")}),e.jsx("p",{className:"text-muted",children:s("Sign in to continue to MMO Store.")})]}),w&&e.jsxs(M,{variant:"success",className:"mb-4",style:{fontSize:"14px",borderRadius:"8px"},children:[e.jsx("i",{className:"ri-check-line me-2"}),s("The password has been reset! You can now log in using your new password")]}),n&&e.jsx("div",{className:"alert alert-danger",children:n}),e.jsx("div",{className:"p-2 mt-4",children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(i.Label,{htmlFor:"email",children:[s("Email")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(i.Control,{type:"email",id:"email",placeholder:s("Enter email"),value:a.values.email,onChange:a.handleChange,isInvalid:a.touched.email&&!!a.errors.email}),a.touched.email&&a.errors.email&&e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(i.Label,{htmlFor:"password",children:[s("Password")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"position-relative auth-pass-inputgroup mb-3",children:[e.jsx(i.Control,{type:o?"text":"password",id:"password",placeholder:s("Enter password"),value:a.values.password,onChange:a.handleChange,isInvalid:a.touched.password&&!!a.errors.password}),e.jsx("button",{className:"btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon",type:"button",onClick:()=>g(!o),children:e.jsx("i",{className:`ri-eye${o?"":"-off"}-fill align-middle`})}),a.touched.password&&a.errors.password&&e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.password})]})]}),e.jsxs("div",{className:"form-check d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx(i.Check.Input,{className:"form-check-input",type:"checkbox",id:"auth-remember-check"}),e.jsx(i.Check.Label,{htmlFor:"auth-remember-check",children:s("Remember me")})]}),e.jsx("a",{href:route("home.forgot-password"),children:s("Forgot password?")})]}),e.jsx("div",{className:"mt-4",children:e.jsx(R,{variant:"success",className:"w-100",type:"submit",disabled:c,children:c?s("Signing in..."):s("Sign In")})})]})})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"mb-0",children:[s("Don't have an account?")," ",e.jsx("a",{href:"/register",className:"fw-semibold text-primary text-decoration-underline",children:s("Signup")})]})})]})})]})})]})})};export{le as default};
