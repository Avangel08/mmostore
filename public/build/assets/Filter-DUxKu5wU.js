import{d,j as e}from"./ContextMenuProvider-DoI9LuTu.js";import{F as Y,_ as R,v as w}from"./default-DKET8U34.js";import{h as x}from"./moment-C5S46NFB.js";import{u as y}from"./useQueryParam-xm9iNkis.js";import{u as M}from"./useTranslation-Bh5zzBC_.js";import{B as m}from"./Button-CdshqBqI.js";import{R as V}from"./Row-DaX0pFtU.js";import{C as f}from"./Col-BERnSmBs.js";import{F as h}from"./Form-C6Oq7frR.js";import"./index-B7rcZTdA.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";const G=({onFilter:u})=>{const{t:r,i18n:D}=M(),s=d.useRef(null),[i,p]=d.useState(!1),a=y(),g=(a==null?void 0:a.perPage)??"10",j=()=>({name:(a==null?void 0:a.name)??"",createdDateStart:(a==null?void 0:a.createdDateStart)??"",createdDateEnd:(a==null?void 0:a.createdDateEnd)??""}),[t,c]=d.useState(j()),F=()=>{switch(D.language){case"vi":return w.Vietnamese;default:return R.english}},b=(n,l)=>{c(o=>({...o,[n]:l}))},N=n=>{const[l,o]=n;c(k=>({...k,createdDateStart:l?x(l).format("YYYY-MM-DD"):"",createdDateEnd:o?x(o).format("YYYY-MM-DD"):""}))},S=()=>{u(1,Number(g),t)},v=()=>!!(t.name&&t.name.trim()!==""||t.createdDateStart&&t.createdDateStart!==""||t.createdDateEnd&&t.createdDateEnd!==""),E=()=>{const n={name:"",createdDateStart:"",createdDateEnd:""};c(n),s.current&&s.current.flatpickr&&s.current.flatpickr.clear(),u(1,Number(g),n)},C=()=>{p(!i)};return e.jsxs("div",{className:"filter-container mb-3",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[e.jsxs(m,{variant:"outline-primary",onClick:C,className:"d-flex align-items-center",children:[e.jsx("i",{className:`ri-filter-${i?"off":"2"}-line align-bottom me-2`}),r(i?"Hide Filters":"Show Filters")]}),v()&&e.jsxs(m,{variant:"outline-secondary",onClick:E,className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),r("Reset")]})]}),i&&e.jsx("div",{className:"p-3 border rounded bg-light",children:e.jsxs(V,{className:"g-3",children:[e.jsxs(f,{md:3,children:[e.jsx(h.Label,{htmlFor:"filter-name",children:r("Name")}),e.jsx(h.Control,{type:"text",id:"filter-name",placeholder:r("Enter name and transaction"),value:t.name,onChange:n=>b("name",n.target.value)})]}),e.jsxs(f,{md:3,children:[e.jsx(h.Label,{htmlFor:"filter-date",children:r("Created Date Range")}),e.jsx(Y,{ref:s,className:"form-control",id:"filter-date",placeholder:r("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:F()},value:t.createdDateStart&&t.createdDateEnd?[new Date(t.createdDateStart),new Date(t.createdDateEnd)]:t.createdDateStart?[new Date(t.createdDateStart)]:[],onChange:N})]}),e.jsx(f,{md:3,className:"d-flex align-items-end",children:e.jsxs(m,{variant:"primary",onClick:S,children:[e.jsx("i",{className:"ri-search-line align-bottom me-1"}),r("Filter")]})})]})})]})};export{G as default};
