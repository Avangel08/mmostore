import{d as l,j as e,R as I}from"./ContextMenuProvider-BnbZ3Xw_.js";import{u as V,f as p,g as z,a as G,c as H,b as B}from"./index-y1QhNd26.js";import{r as O}from"./index-H0Krwn6i.js";import{u as q}from"./useTranslation-CtwHyjpC.js";import{R as C}from"./Row-D4DhAVVB.js";import{C as A}from"./Card-bUFuojd-.js";import{C as J}from"./Col-DMyGedr-.js";import{T as K}from"./Table-BNpvKU-5.js";import"./ThemeProvider-C0xt9VP8.js";import"./divWithClassName-Egl5q-Z9.js";const L=({column:r})=>{const a=r.getFilterValue();return e.jsxs(e.Fragment,{children:[e.jsx(F,{type:"text",value:a??"",onChange:o=>r.setFilterValue(o),placeholder:"Search...",className:"w-36 border shadow rounded",list:r.id+"list"}),e.jsx("div",{className:"h-1"})]})},F=({value:r,onChange:a,debounce:o=500,...n})=>{const[i,d]=l.useState(r);return l.useEffect(()=>{d(r)},[r]),l.useEffect(()=>{const c=setTimeout(()=>{a(i)},o);return()=>clearTimeout(c)},[o,i]),e.jsx("input",{...n,value:i,id:"search-bar-0",className:"form-control border-0 search",onChange:c=>d(c.target.value)})},ce=({columns:r,data:a,isGlobalFilter:o,customPageSize:n,borderClass:i,tableClass:d,theadClass:c,trClass:R,thClass:N,divClass:v,SearchPlaceholder:w,onSubmit:M=u=>{u.preventDefault()},onRowContextMenu:m})=>{const{t:u}=q(),[P,S]=l.useState([]),[g,x]=l.useState(""),h=(s,t,k,D)=>{const j=O(s.getValue(t),k);return D({itemRank:j}),j.passed},b=V({columns:r,data:a,filterFns:{fuzzy:h},state:{columnFilters:P,globalFilter:g},onColumnFiltersChange:S,onGlobalFilterChange:x,globalFilterFn:h,getCoreRowModel:B(),getFilteredRowModel:H(),getPaginationRowModel:G(),getSortedRowModel:z()}),{getHeaderGroups:T,getRowModel:y,getCanPreviousPage:Q,getCanNextPage:U,getPageOptions:W,setPageIndex:X,nextPage:Y,previousPage:Z,setPageSize:f,getState:_}=b;l.useEffect(()=>{Number(n)&&f(Number(n))},[n,f]);const E=(s,t)=>{m&&m(s,t)};return e.jsxs(l.Fragment,{children:[o&&e.jsx(C,{className:"mb-3",children:e.jsx(A.Body,{className:"border border-dashed border-end-0 border-start-0",children:e.jsx("form",{onSubmit:M,children:e.jsx(C,{children:e.jsx(J,{sm:5,children:e.jsxs("div",{className:"search-box me-2 mb-2 d-inline-block col-12",children:[e.jsx(F,{value:g??"",onChange:s=>x(String(s)),placeholder:w}),e.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})})})}),e.jsx("div",{className:v,children:e.jsxs(K,{hover:!0,className:d,bordered:i,children:[e.jsx("thead",{className:c,children:T().map(s=>e.jsx("tr",{className:R,children:s.headers.map(t=>e.jsx("th",{className:N,onClick:t.column.getToggleSortingHandler(),children:t.isPlaceholder?null:e.jsxs(I.Fragment,{children:[p(t.column.columnDef.header,t.getContext()),{asc:" ",desc:" "}[t.column.getIsSorted()]??null,t.column.getCanFilter()?e.jsx("div",{children:e.jsx(L,{column:t.column,table:b})}):null]})},t.id))},s.id))}),e.jsx("tbody",{children:y().rows.map(s=>e.jsx("tr",{onContextMenu:t=>E(t,s.original),style:{cursor:m?"context-menu":"default"},children:s.getVisibleCells().map(t=>e.jsx("td",{children:p(t.column.columnDef.cell,t.getContext())},t.id))},s.id))})]})})]})};export{ce as default};
