import{X as b,A as _,d as y,j as e}from"./ContextMenuProvider-DFREiPcv.js";import{u as C,c as N,a as o}from"./index.esm-Czd_L4t5.js";import{s as v}from"./showToast-CeZv7gLT.js";import{u as E}from"./useTranslation-D39YeQFB.js";import{T as B}from"./Tab-CwMmTn06.js";import{F as t}from"./Form-Cjorq_0x.js";import{R as F}from"./Row-FJwLRO1g.js";import{C as i}from"./Col-DBI5tkGA.js";import{B as g}from"./Button-BsBmyVLd.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./react-toastify.esm-DomHVano.js";import"./index-CQRQ5BRm.js";import"./SSRProvider-CKSEFffS.js";import"./TabContext-DOMDy1DP.js";import"./SelectableContext-e1epI3o3.js";import"./NoopTransition-BAZ5VDex.js";import"./useEventCallback-Dzm3lM-z.js";import"./TransitionWrapper-C34d5mhF.js";import"./setPrototypeOf-B4fUID9J.js";import"./Fade-BueSG0hR.js";import"./ThemeProvider-BDla6bcB.js";import"./Button-DuratkUs.js";function W(){var m,c,d,p;const{t:a}=E(),s=b().props.auth.user,l=b().props.errors,r=C({initialValues:{first_name:(s==null?void 0:s.first_name)||((m=s==null?void 0:s.name)==null?void 0:m.split(" ")[0])||"",last_name:(s==null?void 0:s.last_name)||((c=s==null?void 0:s.name)==null?void 0:c.split(" ")[1])||"",email:(s==null?void 0:s.email)||""},validationSchema:N({first_name:o().min(2,a("Must be at least 2 characters")).max(50,a("Must be 50 characters or less")).required(a("Please enter your first name")),last_name:o().min(2,a("Must be at least 2 characters")).max(50,a("Must be 50 characters or less")).required(a("Please enter your last name")),email:o().email(a("Invalid email address")).required(a("Please enter your email"))}),onSubmit:h=>{_.put(route("seller.profile.update-info"),h,{onSuccess:n=>{var u,x,f,j;if((x=(u=n.props)==null?void 0:u.message)!=null&&x.error){v(a(n.props.message.error),"error");return}(j=(f=n.props)==null?void 0:f.message)!=null&&j.success&&v(a(n.props.message.success),"success"),r.resetForm({values:h})}})}});return y.useEffect(()=>{r.setErrors(l||{})},[l]),e.jsx(B.Pane,{eventKey:"personal-info",children:e.jsx(t,{onSubmit:r.handleSubmit,noValidate:!0,children:e.jsxs(F,{children:[e.jsx(i,{lg:12,className:"mb-3",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"fw-semibold",children:"Email:"})," ",r.values.email]})})}),e.jsx(i,{lg:6,children:e.jsx("div",{className:"mb-3",children:e.jsxs(t.Group,{controlId:"first_name",children:[e.jsxs(t.Label,{children:[a("First Name")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(t.Control,{type:"text",className:"form-control",placeholder:a("Enter your first name"),value:r.values.first_name,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:!!(r.touched.first_name&&r.errors.first_name)}),e.jsx(t.Control.Feedback,{type:"invalid",children:((d=r==null?void 0:r.errors)==null?void 0:d.first_name)??""})]})})}),e.jsx(i,{lg:6,children:e.jsx("div",{className:"mb-3",children:e.jsxs(t.Group,{controlId:"last_name",children:[e.jsxs(t.Label,{children:[a("Last Name")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(t.Control,{type:"text",className:"form-control",placeholder:a("Enter your last name"),value:r.values.last_name,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:!!(r.touched.last_name&&r.errors.last_name)}),e.jsx(t.Control.Feedback,{type:"invalid",children:((p=r==null?void 0:r.errors)==null?void 0:p.last_name)??""})]})})}),e.jsx(i,{lg:12,children:e.jsxs("div",{className:"hstack gap-2 justify-content-end",children:[e.jsx(g,{type:"submit",variant:"primary",children:a("Update")}),e.jsx(g,{type:"button",variant:"soft-success",onClick:()=>r.resetForm(),children:a("Cancel")})]})})]})})})}export{W as default};
