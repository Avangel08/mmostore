import{d as u,j as l}from"./ContextMenuProvider-BhVN3MI2.js";import{F as W,_ as X,v as Z}from"./default-IqKp8mNI.js";import{S as D}from"./react-select.esm-kG1LW6sX.js";import{N as T}from"./react-number-format.es-C8XVrj_T.js";import{h as I}from"./moment-C5S46NFB.js";import{u as U}from"./useQueryParam-CLHEKvAC.js";import{u as ee}from"./useTranslation-ZbZFIHja.js";import{B as P}from"./Button-CT1W-dlW.js";import{R as te}from"./Row-DTCryV-T.js";import{C as d}from"./Col-CDTbDU3W.js";import{F as c}from"./Form-B_1_SP-R.js";import{I as k}from"./InputGroup-CbYy0et-.js";import"./index-CMi1q9xw.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-3lIPCjJv.js";import"./ThemeProvider-CUiVOj3n.js";import"./Button-ItoOpMhW.js";import"./InputGroupContext-BOLuIn5_.js";const De=({onFilter:w})=>{const{t:n,i18n:Y}=ee(),m=u.useRef(null),[f,R]=u.useState(!1),e=U(),F=(e==null?void 0:e.perPage)??"10",V=()=>({name:(e==null?void 0:e.name)??"",type:(e==null?void 0:e.type)??"",priceMin:(e==null?void 0:e.priceMin)??"",priceMax:(e==null?void 0:e.priceMax)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??"",showPublic:(e==null?void 0:e.showPublic)??""}),[o,h]=u.useState(V()),x=[{value:"",label:n("All")},{value:0,label:n("Default")},{value:1,label:n("Normal")}],p=[{value:"",label:n("All")},{value:1,label:n("Active")},{value:0,label:n("Inactive")}],g=[{value:"",label:n("All")},{value:1,label:n("Yes")},{value:0,label:n("No")}],[L,b]=u.useState(x[0]),[A,v]=u.useState(p[0]),[K,j]=u.useState(g[0]);u.useEffect(()=>{const t=e==null?void 0:e.type;if(t!==null){const s=x.find(r=>r.value.toString()===t);s&&b(s)}const a=e==null?void 0:e.status;if(a!==null){const s=p.find(r=>r.value.toString()===a);s&&v(s)}const i=e==null?void 0:e.showPublic;if(i!==null){const s=g.find(r=>r.value.toString()===i);s&&j(s)}},[]);const z=()=>{switch(Y.language){case"vi":return Z.Vietnamese;default:return X.english}},S=(t,a)=>{h(i=>({...i,[t]:a}))},O=t=>{const[a,i]=t;h(s=>({...s,createdDateStart:a?I(a).format("YYYY-MM-DD"):"",createdDateEnd:i?I(i).format("YYYY-MM-DD"):""}))},B=t=>{b(t),S("type",t.value)},_=t=>{v(t),S("status",t.value)},$=t=>{j(t),S("showPublic",t.value)},G=t=>{const{floatValue:a}=t;h(i=>({...i,priceMin:a?a.toString():""}))},H=t=>{const{floatValue:a}=t;h(i=>({...i,priceMax:a?a.toString():""}))},C=()=>{w(1,Number(F),o)},y=t=>{t.key==="Enter"&&C()},Q=()=>{const t=(e==null?void 0:e.name)||"",a=(e==null?void 0:e.type)||"",i=(e==null?void 0:e.priceMin)||"",s=(e==null?void 0:e.priceMax)||"",r=(e==null?void 0:e.createdDateStart)||"",M=(e==null?void 0:e.createdDateEnd)||"",N=(e==null?void 0:e.status)||"",E=(e==null?void 0:e.showPublic)||"";return t!==null&&t!==""||a!==null&&a!==""||i!==null&&i!==""||s!==null&&s!==""||r!==null&&r!==""||M!==null&&M!==""||N!==null&&N!==""||E!==null&&E!==""},q=()=>{const t={name:"",type:"",priceMin:"",priceMax:"",createdDateStart:"",createdDateEnd:"",status:"",showPublic:""};h(t),b(x[0]),v(p[0]),j(g[0]),m.current&&m.current.flatpickr&&m.current.flatpickr.clear(),w(1,Number(F),t)},J=()=>{R(!f)};return l.jsxs("div",{className:"filter-container mb-3",children:[l.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[l.jsxs(P,{variant:"outline-primary",onClick:J,className:"d-flex align-items-center",children:[l.jsx("i",{className:`ri-filter-${f?"off":"2"}-line align-bottom me-2`}),n(f?"Hide Filters":"Show Filters")]}),Q()&&l.jsxs(P,{variant:"outline-danger",onClick:q,className:"d-flex align-items-center",children:[l.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),n("Reset")]})]}),f&&l.jsx("div",{className:"p-3 border rounded bg-light",children:l.jsxs(te,{className:"g-3",children:[l.jsxs(d,{md:3,children:[l.jsx(c.Label,{htmlFor:"filter-name",children:n("Plan name")}),l.jsx(c.Control,{type:"text",id:"filter-name",placeholder:n("Enter plan name"),value:o.name,onChange:t=>S("name",t.target.value),onKeyDown:y})]}),l.jsxs(d,{md:3,children:[l.jsx(c.Label,{htmlFor:"filter-type",children:n("Type")}),l.jsx(D,{id:"filter-type",value:L,onChange:B,options:x,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select type"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),l.jsxs(d,{md:6,children:[l.jsx(c.Label,{children:n("Price range")}),l.jsxs(k,{children:[l.jsx(T,{customInput:c.Control,id:"filter-price-min",value:o.priceMin,onValueChange:G,onKeyDown:y,thousandSeparator:!0,placeholder:n("From"),allowNegative:!1,decimalScale:2,fixedDecimalScale:!1}),l.jsx(k.Text,{children:"â€“"}),l.jsx(T,{customInput:c.Control,id:"filter-price-max",value:o.priceMax,onValueChange:H,onKeyDown:y,thousandSeparator:!0,placeholder:n("To"),allowNegative:!1,decimalScale:2,fixedDecimalScale:!1})]})]}),l.jsxs(d,{md:3,children:[l.jsx(c.Label,{htmlFor:"filter-date",children:n("Created Date Range")}),l.jsx(W,{ref:m,className:"form-control",id:"filter-date",placeholder:n("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:z()},value:o.createdDateStart&&o.createdDateEnd?[new Date(o.createdDateStart),new Date(o.createdDateEnd)]:o.createdDateStart?[new Date(o.createdDateStart)]:[],onChange:O})]}),l.jsxs(d,{md:3,children:[l.jsx(c.Label,{htmlFor:"filter-status",children:n("Status")}),l.jsx(D,{id:"filter-status",value:A,onChange:_,options:p,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select status"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),l.jsxs(d,{md:3,children:[l.jsx(c.Label,{htmlFor:"filter-show-public",children:n("Show public")}),l.jsx(D,{id:"filter-show-public",value:K,onChange:$,options:g,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select visibility"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),l.jsx(d,{md:12,children:l.jsxs(P,{variant:"primary",onClick:C,children:[l.jsx("i",{className:"ri-search-line align-bottom me-1"}),n("Filter")]})})]})})]})};export{De as default};
