import{r as l,X as H,G as z,j as e,x as U,R as W,S as Q}from"./app-C_imZoF0.js";import{B as X}from"./BreadCrumb-C00yNM42.js";import{T as q}from"./TableContainer-BceMUcLv.js";import{D as J}from"./DeleteModal-DCREPZEW.js";import{l as Y}from"./lodash-BDM5bw6U.js";import{E as Z}from"./ExportCSVModal-GUY393J3.js";import{c as x}from"./ThemeProvider-BgNfJ2va.js";import{B as O,Q as $}from"./ReactToastify-Di-UfFur.js";import{L as ee}from"./index-DMGGnaBe.js";import"./calender-BnoOcmFC.js";import{d}from"./ecommerce-l-QAH1Ax.js";import{B as N}from"./Button-Bf-ARDgb.js";import{C as te}from"./Container-DaXU6qSP.js";import{R as C}from"./Row-DobresNW.js";import{C as k}from"./Col-D2FFEe0z.js";import{C as _}from"./Card-Sa3TEIaF.js";import{T as re}from"./Tab-C9DdOmdq.js";import{N as i}from"./Nav-C0wCx15l.js";import{M as S}from"./Modal-C1v7Qzp_.js";import{F as s}from"./Form-B2ULHLsW.js";import"./index-B9X5thmm.js";import"./index-DsC0T2Mz.js";import"./index-BKImiHfV.js";import"./react-select.esm-Bja0gg7N.js";import"./toConsumableArray-m4MoSTlc.js";import"./setPrototypeOf-DgZC2w_0.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-BFqQA52f.js";import"./hoist-non-react-statics.cjs-YkW0Mh93.js";import"./Dropdown-C0olPdju.js";import"./querySelectorAll-Cwpyv69p.js";import"./useMergedRefs-D5M2xeyX.js";import"./SSRProvider-STu0eyPD.js";import"./usePrevious-Cv_kvgm3.js";import"./useForceUpdate-DktAuxGS.js";import"./useEventCallback-DAHbDopE.js";import"./mergeOptionsWithPopperConfig-BLG57SsL.js";import"./useWindow-ClVgsiBQ.js";import"./NavContext-FkOgOrOt.js";import"./Button-DNJMW3Qv.js";import"./DataKey-DjdvojM5.js";import"./hook-C4I3UsWs.js";import"./useEventCallback-uS_0ohrr.js";import"./Anchor-BtEDnqx0.js";import"./useIsomorphicEffect-Wwjx-0F8.js";import"./InputGroupContext-GcmSuCiA.js";import"./NavbarContext-C3mezffZ.js";import"./Table-BEcGUwz8.js";import"./logo-sm-DmJR8Lua.js";import"./logo-dark-Dh4DV6bR.js";import"./logo-light-l2wwNDet.js";import"./reselect-CiXCCDx7.js";import"./index-DdlklFEg.js";import"./isSymbol-qHNDJudD.js";import"./avatar-2-B-1-S_lh.js";import"./avatar-3-CSm6kh8B.js";import"./avatar-5-D7m8bZ3v.js";import"./russia-DLyLD2KG.js";import"./bitbucket-C11sTxQc.js";import"./dropbox-kAuTPoR1.js";import"./slack-CK7S0DPT.js";import"./img-1-DS69PRDs.js";import"./img-2-9-eXUNQa.js";import"./img-3-BgFVQ164.js";import"./img-6-BK084NdC.js";import"./img-5-BJiQRUIS.js";import"./avatar-1-PHP4S1R6.js";import"./avatar-8-BaCFiEfo.js";import"./avatar-6-DJX3lkeY.js";import"./NavLink-BlYtFPkz.js";import"./NavItem-a2rmtqig.js";import"./Collapse-DYw8KE2K.js";import"./TransitionWrapper-BV-6Cb3S.js";import"./utils-DY8FBDwT.js";import"./Offcanvas-DLNkQh-w.js";import"./AbstractModalHeader-CG60WB_j.js";import"./hasClass-CgmwrhBn.js";import"./useMergedRefs-DpSVrFtl.js";import"./NoopTransition-x7hAH2F6.js";import"./CloseButton-jtaFubxZ.js";import"./Fade-DQJ8Wr-W.js";import"./divWithClassName-BGRXe9sD.js";import"./ltc-BjMPbQSH.js";import"./dash-TnNMg90k.js";import"./img-1-Jhxup-Mz.js";import"./img-2-BKxLD3CN.js";import"./img-3-B4j7qXDU.js";import"./img-6-B4dmEj4y.js";import"./img-4-C2PlA4fB.js";import"./img-8-BJHS-sPF.js";import"./img-10-DeVk1Tlu.js";import"./img-10-h_gqqnMv.js";import"./img-12-DPX2B3oR.js";import"./img-5-DVLY-X7O.js";import"./img-2-vFB13_q9.js";import"./img-3-BL14nKmC.js";import"./img-4-CtrsL6tB.js";import"./img-6-_pG5cMGi.js";import"./img-7-BS2xckWT.js";import"./img-8-RHtA4ZFb.js";import"./CardHeaderContext-C_pxSs-D.js";import"./Nav-AdNDxwY2.js";import"./useWillUnmount-CW7bO4oa.js";import"./ElementChildren-4nUeGy8C.js";const se=o=>{const[v,p]=l.useState(!1),[a,F]=l.useState([]),{flash:n}=H().props,j=l.useCallback(()=>{v?(p(!1),F(null)):p(!0)},[v]),{data:c,setData:m,post:b,reset:D}=z({id:"",order_id:"",customer_name:"",product:"",amount:"",payment_method:"",delivery_status:""}),[ae,le]=l.useState({order_id:a?a.order_id:"",customer_name:a?a.customer_name:"",product:a?a.product:"",amount:a?a.amount:"",payment_method:a?a.payment_method:"",delivery_status:a?a.delivery_status:""});function A(t){t.preventDefault();const r=c;f?(a&&a.id,r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-update",{preserveScroll:!0,onSuccess:()=>{p(!1),D()}})):((Math.floor(Math.random()*10)+20).toString(),r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-create",{preserveScroll:!0,onSuccess:()=>{p(!1),D()}}))}const L=l.useCallback(t=>{m({...t}),P(!0),j()},[j]),V=t=>{F(t),y(!0),c.id=t.id},I=()=>{b("order-delete",{preserveScroll:!0,onSuccess:()=>{y(!1)}})},[f,P]=l.useState(!1),[M,g]=l.useState([]),[u,T]=l.useState("1"),[B,y]=l.useState(!1);l.useEffect(()=>{g(d)},[d]),l.useEffect(()=>{Y.isEmpty(d)||g(d)},[d]);const h=(t,r)=>{if(u!==t){T(t);let E=d;r!=="all"&&(E=d.filter(G=>G.status===r)),g(E||M)}},K=l.useMemo(()=>[{header:"Order Id",accessorKey:"order_id",enableColumnFilter:!1,cell:t=>e.jsx(U,{href:"/apps-ecommerce-order-details",className:"fw-medium link-primary",children:t.getValue()})},{header:"Customer",accessorKey:"customer_name",enableColumnFilter:!1},{header:"Product",accessorKey:"product",enableColumnFilter:!1},{header:"Amount",accessorKey:"amount",enableColumnFilter:!1},{header:"Payment Method",accessorKey:"payment_method",enableColumnFilter:!1},{header:"Delivery Status",accessorKey:"delivery_status",enableColumnFilter:!1,cell:t=>{switch(t.getValue()){case"Pending":return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]});case"Cancelled":return e.jsxs("span",{className:"badge text-uppercase bg-danger-subtle text-danger",children:[" ",t.getValue()," "]});case"Inprogress":return e.jsxs("span",{className:"badge text-uppercase bg-secondary-subtle text-secondary",children:[" ",t.getValue()," "]});case"Pickups":return e.jsxs("span",{className:"badge text-uppercase bg-info-subtle text-info",children:[" ",t.getValue()," "]});case"Returns":return e.jsxs("span",{className:"badge text-uppercase bg-primary-subtle text-primary",children:[" ",t.getValue()," "]});case"Delivered":return e.jsxs("span",{className:"badge text-uppercase bg-success-subtle text-success",children:[" ",t.getValue()," "]});default:return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]})}}},{header:"Action",cell:t=>e.jsxs("ul",{className:"list-inline hstack gap-2 mb-0",children:[e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",href:"/apps-ecommerce-order-details",className:"text-primary d-inline-block p-0",children:e.jsx("i",{className:"ri-eye-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item edit",children:e.jsx(N,{variant:"link",className:"text-primary d-inline-block edit-item-btn p-0",onClick:()=>{const r=t.row.original;L(r)},children:e.jsx("i",{className:"ri-pencil-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",className:"text-danger d-inline-block remove-item-btn p-0",onClick:()=>{const r=t.row.original;V(r)},children:e.jsx("i",{className:"ri-delete-bin-5-fill fs-16"})})})]})}],[]),[R,w]=l.useState(!1);return l.useEffect(()=>{n&&(n.success&&n.success!=null&&O.success(n.success,{autoClose:3e3}),n.error&&n.error!=null&&O.error(n.error,{autoClose:3e3}))},[n]),e.jsxs(W.Fragment,{children:[e.jsx(Q,{title:"Orders | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsx(Z,{show:R,onCloseClick:()=>w(!1),data:d}),e.jsx(J,{show:B,onDeleteClick:I,onCloseClick:()=>y(!1)}),e.jsxs(te,{fluid:!0,children:[e.jsx(X,{title:"Orders",pageTitle:"Ecommerce"}),e.jsx(C,{children:e.jsx(k,{lg:12,children:e.jsxs(_,{id:"orderList",children:[e.jsx(_.Header,{className:"card-header border-0",children:e.jsxs(C,{className:"align-items-center gy-3",children:[e.jsx("div",{className:"col-sm",children:e.jsx("h5",{className:"card-title mb-0",children:"Order History"})}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("div",{className:"d-flex gap-1 flex-wrap",children:[e.jsxs("button",{type:"button",className:"btn btn-success add-btn",id:"create-btn",onClick:()=>{P(!1),j()},children:[e.jsx("i",{className:"ri-add-line align-bottom me-1"})," Create Order"]})," ",e.jsxs("button",{type:"button",className:"btn btn-info",onClick:()=>w(!0),children:[e.jsx("i",{className:"ri-file-download-line align-bottom me-1"})," ","Export"]})]})})]})}),e.jsxs(_.Body,{className:"pt-0",children:[e.jsx("div",{children:e.jsxs(re.Container,{defaultActiveKey:"1",children:[e.jsxs(i,{className:"nav-tabs nav-tabs-custom nav-success",role:"tablist",children:[e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"all",className:x({active:u==="all"},"all py-3"),onClick:()=>{h("all","1")},children:[e.jsx("i",{className:"ri-store-2-fill me-1 align-bottom"})," ","All Orders"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"deliverd",className:x({active:u==="deliverd"},"deliverd py-3"),onClick:()=>{h("deliverd","2")},href:"#",children:[e.jsx("i",{className:"ri-checkbox-circle-line me-1 align-bottom"})," ","Delivered"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"pickups",className:x({active:u==="pickups"},"pickups py-3"),onClick:()=>{h("pickups","3")},children:[e.jsx("i",{className:"ri-truck-line me-1 align-bottom"})," ","Pickups"," ",e.jsx("span",{className:"badge bg-danger align-middle ms-1",children:"2"})]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"returns",href:"#",className:x({active:u==="returns"},"returns py-3"),onClick:()=>{h("returns","4")},children:[e.jsx("i",{className:"ri-arrow-left-right-fill me-1 align-bottom"})," ","Returns"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"cancelled",href:"#",className:x({active:u==="cancelled"},"cancelled py-3"),onClick:()=>{h("cancelled","5")},children:[e.jsx("i",{className:"ri-close-circle-line me-1 align-bottom"})," ","Cancelled"]})})]}),e.jsx(q,{columns:K,data:o.orders||[],isGlobalFilter:!0,customPageSize:8,divClass:"table-responsive table-card mb-1 mt-0",tableClass:"align-middle table-nowrap",theadClass:"table-light text-muted text-uppercase",isOrderFilter:!0,SearchPlaceholder:"Search for order ID, customer, order status or something..."})]})}),e.jsxs(S,{id:"showModal",show:v,onHide:j,centered:!0,children:[e.jsx(S.Header,{className:"bg-light p-3",closeButton:!0,children:e.jsx("h5",{className:"modal-title",children:f?"Edit Order":"Add Order"})}),e.jsxs(s,{className:"tablelist-form",onSubmit:A,children:[e.jsxs(S.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"order_id",className:"form-label",children:"Order Id"}),e.jsx(s.Control,{name:"orderId",id:"order_id",className:"form-control",placeholder:"Enter Order Id",type:"text",value:c.order_id,onChange:t=>m("order_id",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.order_id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"customer_name",className:"form-label",children:"Customer Name"}),e.jsx(s.Control,{name:"customer",id:"customer_name",className:"form-control",placeholder:"Enter Name",type:"text",value:c.customer_name,onChange:t=>m("customer_name",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.customer_name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"product",className:"form-label",children:"Product"}),e.jsxs(s.Select,{name:"product",id:"product",value:c.product,onChange:t=>{m("product",t.target.value)},children:[e.jsx("option",{value:"Product",children:"Product "}),e.jsx("option",{value:"Puma Tshirt",children:"Puma Tshirt "}),e.jsx("option",{value:"Adidas Sneakers",children:"Adidas Sneakers "}),e.jsx("option",{value:"350 ml Glass Grocery Container",children:"350 ml Glass Grocery Container "}),e.jsx("option",{value:"American egale outfitters Shirt",children:"American egale outfitters Shirt "}),e.jsx("option",{value:"Galaxy Watch4",children:"Galaxy Watch4 "}),e.jsx("option",{value:"Apple iPhone 12",children:"Apple iPhone 12 "}),e.jsx("option",{value:"Funky Prints T-shirt",children:"Funky Prints T-shirt "}),e.jsx("option",{value:"USB Flash Drive Personalized with 3D Print",children:"USB Flash Drive Personalized with 3D Print "}),e.jsx("option",{value:"Oxford Button-Down Shirt",children:"Oxford Button-Down Shirt "}),e.jsx("option",{value:"Classic Short Sleeve Shirt",children:"Classic Short Sleeve Shirt "}),e.jsx("option",{value:"Half Sleeve T-Shirts (Blue)",children:"Half Sleeve T-Shirts (Blue) "}),e.jsx("option",{value:"Noise Evolve Smartwatch",children:"Noise Evolve Smartwatch "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.product})]}),e.jsxs(C,{className:"gy-4 mb-3",children:[e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"amount-field",className:"form-label",children:"Amount"}),e.jsx(s.Control,{name:"amount",type:"text",value:c.amount,onChange:t=>m("amount",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.amount})]})}),e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"payment_method",className:"form-label",children:"Payment Method"}),e.jsxs(s.Select,{name:"payment_method",id:"payment_method",value:c.payment_method,onChange:t=>{m("payment_method",t.target.value)},children:[e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Mastercard",children:"Mastercard "}),e.jsx("option",{value:"Paypal",children:"Paypal "}),e.jsx("option",{value:"Visa",children:"Visa "}),e.jsx("option",{value:"COD",children:"COD "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.payment_method})]})})]}),e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"delivery_status",className:"form-label",children:"Delivery Status"}),e.jsxs(s.Select,{name:"delivery_status",id:"delivery_status",value:c.delivery_status,onChange:t=>{m("delivery_status",t.target.value)},children:[e.jsx("option",{value:"Status",children:"Status "}),e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Pending",children:"Pending "}),e.jsx("option",{value:"Inprogress",children:"Inprogress "}),e.jsx("option",{value:"Cancelled",children:"Cancelled "}),e.jsx("option",{value:"Pickups",children:"Pickups "}),e.jsx("option",{value:"Returns",children:"Returns "}),e.jsx("option",{value:"Delivered",children:"Delivered "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.delivery_status})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("div",{className:"hstack gap-2 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>{p(!1)},children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-success",children:f?"Update":"Add Customer"})]})})]})]})]})]})})})]})]}),e.jsx($,{})]})};se.layout=o=>e.jsx(ee,{children:o});export{se as default};
