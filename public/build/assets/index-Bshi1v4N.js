import{X as C,d,A as S,t as r,j as s,R as k,S as F,x as w}from"./ContextMenuProvider-CUf15T8b.js";import{G as E}from"./GuestLayout-CjbrBccl.js";import{l as B}from"./logo-light-D3OEWz0M.js";import{u as I}from"./formik.esm-D3LnCktS.js";import{c as $,a as n,b as R}from"./index.esm-Dr9W4QE-.js";import{C as P}from"./Container-BlrnZ9Ps.js";import{R as g}from"./Row-Cl0apHvl.js";import{C as j}from"./Col-6EOqiNtv.js";import{C as v}from"./Card-kFH9kF2D.js";import{F as o}from"./Form-tX-X8fEq.js";import{B as b}from"./Button-D8tMtwFd.js";import"./ApplicationLogo-BnPVeT49.js";import"./reselect-CiXCCDx7.js";import"./toString-DZQbVhdU.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-BQLgnwv_.js";import"./ThemeProvider-B97jU0sy.js";import"./CardHeaderContext-CqMd3CTm.js";import"./divWithClassName-F6D8z14O.js";import"./index-DKnNWrZg.js";import"./Button-NCU6JKbY.js";function re(){const{props:m}=C(),l=(m==null?void 0:m.domainSuffix)||"mmostore.local",[p,N]=d.useState(!1),[u,y]=d.useState(!1),[h,x]=d.useState(null),[f,c]=d.useState(!1),e=I({enableReinitialize:!0,initialValues:{email:"",store_name:"",domain_store:"",password:"",confirm_password:""},validationSchema:$({email:n().email(r("Invalid email")).required(r("Email is required")),store_name:n().min(3,r("Store name must be at least 3 characters")).max(20,r("Store name must be at most 20 characters")).required(r("Store name is required")),domain_store:n().transform(t=>{if(!t)return t;let a=t.replace(new RegExp(`\\.?${l.replace(/\./g,"\\.")}$`,"i"),"");return a=a.replace(/^\.+/,""),a}).min(3,r("Domain store must be at least 3 characters")).max(15,r("Domain store must be at most 15 characters")).required(r("Domain store is required")),password:n().min(8,r("Password must be at least 8 characters")).required(r("Password is required")),confirm_password:n().oneOf([R("password")],r("Passwords must match")).required(r("Password is required"))}),onSubmit:t=>{const a={...t,domain_store:t.domain_store.replace(new RegExp(`\\.?${l.replace(/\./g,"\\.")}$`,"i"),"").replace(/^\.+/,"")};c(!0),S.post(route("home.register.post"),a,{preserveScroll:!0,onSuccess:()=>{x(null),c(!1)},onError:i=>{e.setErrors(i);const _=Array.isArray(i==null?void 0:i.register)?i.register[0]:i==null?void 0:i.register;x(_||r("Something went wrong. Please try again.")),c(!1)}})}});return s.jsxs(k.Fragment,{children:[s.jsxs(E,{children:[s.jsx(F,{title:"Basic SignUp | Velzon - React Admin & Dashboard Template"}),s.jsx("div",{className:"auth-page-content mt-lg-5",children:s.jsxs(P,{children:[s.jsx(g,{children:s.jsx(j,{lg:12,children:s.jsxs("div",{className:"text-center mt-sm-5 mb-4 text-white-50",children:[s.jsx("div",{children:s.jsx(w,{href:"/",className:"d-inline-block auth-logo",children:s.jsx("img",{src:B,alt:"",height:"20"})})}),s.jsx("p",{className:"mt-3 fs-15 fw-medium",children:"Premium Admin & Dashboard Template"})]})})}),s.jsx(g,{className:"justify-content-center",children:s.jsx(j,{md:8,lg:6,xl:5,children:s.jsx(v,{className:"mt-4",children:s.jsxs(v.Body,{className:"p-4",children:[s.jsxs("div",{className:"text-center mt-2",children:[s.jsx("h5",{className:"text-primary",children:"Create New Account"}),s.jsx("p",{className:"text-muted",children:"Get your free mmoshop account now"})]}),s.jsxs("div",{className:"p-2 mt-4",children:[h&&s.jsx("div",{className:"alert alert-danger",role:"alert",children:h}),s.jsxs(o,{onSubmit:e.handleSubmit,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs(o.Label,{className:"form-label",htmlFor:"user-email",children:["Email ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs("div",{className:"position-relative auth-email-inputgroup",children:[s.jsx(o.Control,{type:"email",className:"form-control pe-5 user-email-input",placeholder:r("Enter your email"),id:"user-email",name:"email",value:e.values.email,onBlur:e.handleBlur,onChange:e.handleChange,isInvalid:!!(e.errors.email&&e.touched.email),style:{borderColor:e.errors.email&&e.touched.email?"#ced4da":void 0,backgroundImage:e.errors.email&&e.touched.email?"none":void 0}}),e.errors.email&&e.touched.email?s.jsx(o.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.errors.email}):null]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs(o.Label,{className:"form-label",htmlFor:"store-name",children:[r("Store name")," ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs("div",{className:"position-relative auth-store-name-inputgroup",children:[s.jsx(o.Control,{type:"text",className:"form-control pe-5 store-name-input",placeholder:r("Enter your store name"),id:"store-name",name:"store_name",value:e.values.store_name,onBlur:e.handleBlur,onChange:e.handleChange,isInvalid:!!(e.errors.store_name&&e.touched.store_name),style:{borderColor:e.errors.store_name&&e.touched.store_name?"#ced4da":void 0,backgroundImage:e.errors.store_name&&e.touched.store_name?"none":void 0}}),e.errors.store_name&&e.touched.store_name?s.jsx(o.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.errors.store_name}):null]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs(o.Label,{className:"form-label",htmlFor:"domain-store",children:[r("Domain store")," ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs("div",{className:"position-relative auth-store-name-inputgroup",children:[s.jsx(o.Control,{type:"text",className:"form-control pe-5 domain-store-input",placeholder:r("Enter your domain store"),id:"domain-store",name:"domain_store",value:e.values.domain_store,onChange:t=>{let a=t.target.value.replace(new RegExp(`\\.?${l.replace(/\./g,"\\.")}$`,"i"),"");a=a.replace(/^\.+/,""),e.setFieldValue("domain_store",a)},onBlur:t=>{e.handleBlur(t);let a=e.values.domain_store.trim();a=a.replace(/^\.+/,""),a&&!a.toLowerCase().endsWith(l)&&e.setFieldValue("domain_store",`${a}.${l}`)},onFocus:()=>{const t=e.values.domain_store;let a=t.replace(new RegExp(`\\.?${l.replace(/\./g,"\\.")}$`,"i"),"");a=a.replace(/^\.+/,""),a!==t&&e.setFieldValue("domain_store",a)},isInvalid:!!(e.errors.domain_store&&e.touched.domain_store),style:{borderColor:e.errors.domain_store&&e.touched.domain_store?"#ced4da":void 0,backgroundImage:e.errors.domain_store&&e.touched.domain_store?"none":void 0}}),e.errors.domain_store&&e.touched.domain_store?s.jsx(o.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.errors.domain_store}):null]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(o.Label,{className:"form-label",htmlFor:"password-input",children:r("Password")}),s.jsxs("div",{className:"position-relative auth-pass-inputgroup",children:[s.jsx(o.Control,{type:p?"text":"password",className:"form-control pe-5 password-input",placeholder:r("Enter your password"),id:"password-input",name:"password",value:e.values.password,onBlur:e.handleBlur,onChange:e.handleChange,isInvalid:!!(e.errors.password&&e.touched.password),style:{borderColor:e.errors.password&&e.touched.password?"#ced4da":void 0,backgroundImage:e.errors.password&&e.touched.password?"none":void 0}}),e.errors.password&&e.touched.password?s.jsx(o.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.errors.password}):null,s.jsx(b,{variant:"link",onClick:()=>N(!p),className:"position-absolute end-0 top-0 text-decoration-none text-muted password-addon material-shadow-none",type:"button",id:"password-addon",children:s.jsx("i",{className:"ri-eye-fill align-middle"})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(o.Label,{className:"form-label",htmlFor:"confirm-password-input",children:r("Confirm password")}),s.jsxs("div",{className:"position-relative auth-pass-inputgroup",children:[s.jsx(o.Control,{type:u?"text":"password",className:"form-control pe-5 password-input",placeholder:r("Enter your password"),id:"confirm-password-input",name:"confirm_password",value:e.values.confirm_password,onBlur:e.handleBlur,onChange:e.handleChange,isInvalid:!!(e.errors.confirm_password&&e.touched.confirm_password),style:{borderColor:e.errors.confirm_password&&e.touched.confirm_password?"#ced4da":void 0,backgroundImage:e.errors.confirm_password&&e.touched.confirm_password?"none":void 0}}),e.errors.confirm_password&&e.touched.confirm_password?s.jsx(o.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.errors.confirm_password}):null,s.jsx(b,{variant:"link",onClick:()=>y(!u),className:"position-absolute end-0 top-0 text-decoration-none text-muted confirm-password-addon material-shadow-none",type:"button",id:"confirm-password-addon",children:s.jsx("i",{className:"ri-eye-fill align-middle"})})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"mb-0 fs-12 text-muted fst-italic",children:["By registering you agree to the MMO Store",s.jsx(w,{href:"#",className:"text-primary text-decoration-underline fst-normal fw-medium ms-2",children:"Terms of Use"})]})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"btn btn-success w-100",type:"submit",disabled:f,children:r("Sign up store")})})]})]})]})})})})]})})]}),f&&s.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0,0,0,0.45)",zIndex:2e3},children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"spinner-border text-light",role:"status",style:{width:48,height:48},children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("div",{className:"mt-3 fw-medium",children:r("Processing")})]})})]})}export{re as default};
