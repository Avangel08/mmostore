import{d}from"./index-DE5nCN_T.js";const H=(e,t,n,a)=>{var s,f,h,m;const i=[n,{code:t,...a||{}}];if((f=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&f.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);p(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(m=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&m.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},L={},E=(e,t,n,a)=>{p(n)&&L[n]||(p(n)&&(L[n]=new Date),H(e,t,n,a))},k=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},b=(e,t,n)=>{e.loadNamespaces(t,k(e,n))},A=(e,t,n,a)=>{if(p(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return b(e,n,a);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,k(e,a))},M=(e,t,n={})=>!t.languages||!t.languages.length?(E(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),Z=e=>e.displayName||e.name||(p(e)&&e.length>0?e:"Unknown"),p=e=>typeof e=="string",_=e=>typeof e=="object"&&e!==null,G=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},q=e=>$[e],B=e=>e.replace(G,q);let S={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:B};const V=(e={})=>{S={...S,...e}},D=()=>S;let P;const ee=e=>{P=e},W=()=>P,J=d.createContext();class K{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const X=(e,t)=>{const n=d.useRef();return d.useEffect(()=>{n.current=e},[e,t]),n.current},U=(e,t,n,a)=>e.getFixedT(t,n,a),Y=(e,t,n,a)=>d.useCallback(U(e,t,n,a),[e,t,n,a]),te=(e,t={})=>{var R,v,z,F;const{i18n:n}=t,{i18n:a,defaultNS:i}=d.useContext(J)||{},s=n||a||W();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new K),!s){E(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=(l,u)=>p(u)?u:_(u)&&p(u.defaultValue)?u.defaultValue:Array.isArray(l)?l[l.length-1]:l,c=[o,{},!1];return c.t=o,c.i18n={},c.ready=!1,c}(R=s.options.react)!=null&&R.wait&&E(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...D(),...s.options.react,...t},{useSuspense:h,keyPrefix:m}=f;let r=i||((v=s.options)==null?void 0:v.defaultNS);r=p(r)?[r]:r||["translation"],(F=(z=s.reportNamespaces).addUsedNamespaces)==null||F.call(z,r);const g=(s.isInitialized||s.initializedStoreOnce)&&r.every(o=>M(o,s,f)),j=Y(s,t.lng||null,f.nsMode==="fallback"?r:r[0],m),I=()=>j,x=()=>U(s,t.lng||null,f.nsMode==="fallback"?r:r[0],m),[C,y]=d.useState(I);let w=r.join();t.lng&&(w=`${t.lng}${w}`);const O=X(w),N=d.useRef(!0);d.useEffect(()=>{const{bindI18n:o,bindI18nStore:c}=f;N.current=!0,!g&&!h&&(t.lng?A(s,t.lng,r,()=>{N.current&&y(x)}):b(s,r,()=>{N.current&&y(x)})),g&&O&&O!==w&&N.current&&y(x);const l=()=>{N.current&&y(x)};return o&&(s==null||s.on(o,l)),c&&(s==null||s.store.on(c,l)),()=>{N.current=!1,s&&o&&(o==null||o.split(" ").forEach(u=>s.off(u,l))),c&&s&&c.split(" ").forEach(u=>s.store.off(u,l))}},[s,w]),d.useEffect(()=>{N.current&&g&&y(I)},[s,m,g]);const T=[C,s,g];if(T.t=C,T.i18n=s,T.ready=g,g||!g&&!h)return T;throw new Promise(o=>{t.lng?A(s,t.lng,r,()=>o()):b(s,r,()=>o())})};export{ee as a,Z as g,V as s,te as u};
