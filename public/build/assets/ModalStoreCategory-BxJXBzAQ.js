import{X as f,A as $,d as M,j as r}from"./ContextMenuProvider-BnbZ3Xw_.js";import{u as G,c as q,a as h}from"./index.esm-bbsQyNAz.js";import{S as P}from"./react-select.esm-BoayILgX.js";import{s as V}from"./showToast-CDGTjd8l.js";import{C as z}from"./CustomCKEditor-B8wkvf5w.js";import{u as D}from"./useTranslation-CtwHyjpC.js";import{M as i}from"./Modal-mwm3tf-U.js";import{F as a}from"./Form-kohAgaPo.js";import{B as I}from"./Button-BRcUTJGP.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-D_S65KpP.js";import"./inherits-C5_PO-Hh.js";import"./setPrototypeOf-DgZC2w_0.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./react-toastify.esm-Dj3bmGVf.js";/* empty css                  */import"./ThemeProvider-C0xt9VP8.js";import"./useMergedRefs-0e-0eNkH.js";import"./useEventCallback-CWLYZk1t.js";import"./useWillUnmount-JMQ9EYbt.js";import"./TransitionWrapper-DdJIchS_.js";import"./AbstractModalHeader-DeFu7Xk5.js";import"./useWindow-ByxVeiaK.js";import"./querySelectorAll-6mKGZXEM.js";import"./useEventCallback-BuAGpOO_.js";import"./hasClass-D5mdPDLg.js";import"./NoopTransition-Ck7A0kGI.js";import"./DataKey-DjdvojM5.js";import"./CloseButton-Be0iGRvt.js";import"./index-DJrr_1Uz.js";import"./Fade-DiSce4YX.js";import"./divWithClassName-Egl5q-Z9.js";import"./Col-DMyGedr-.js";import"./Button-C_zChQbi.js";const Ce=({show:m,onHide:u,dataEdit:s})=>{var x,y,d,j,v,b,C,S;const{t:o}=D(),c=!!s,_=f().props.errors,T=f().props.statusConst,n=Object.entries(T||{}).map(([t,p])=>{var g;return{value:(g=t??"")==null?void 0:g.toString(),label:o(p??"")}}),e=G({initialValues:{store_category_name:(s==null?void 0:s.name)||"",store_category_status:(s==null?void 0:s.status)??"ACTIVE",description:(s==null?void 0:s.description)??""},validationSchema:q({store_category_name:h().max(150,"Must be 150 characters or less").required(o("Please enter this field")),store_category_status:h().required(o("Please select status")),description:h()}),onSubmit:t=>{const p=c?route("admin.store-categories.update",{id:s.id}):route("admin.store-categories.store");$[c?"put":"post"](p,t,{replace:!0,preserveScroll:!0,preserveState:!0,onSuccess:l=>{var F,N,B,L;if((N=(F=l.props)==null?void 0:F.message)!=null&&N.error){V(o(l.props.message.error),"error");return}e.resetForm(),u(),(L=(B=l.props)==null?void 0:B.message)!=null&&L.success&&V(o(l.props.message.success),"success")}})}}),A=(n==null?void 0:n.find(t=>(t==null?void 0:t.value)===e.values.store_category_status))??null;return M.useEffect(()=>{m?e.setValues({store_category_name:(s==null?void 0:s.name)||"",store_category_status:(s==null?void 0:s.status)??"ACTIVE",description:(s==null?void 0:s.description)??""}):e.resetForm()},[m,s]),M.useEffect(()=>{e.setErrors(_||{})},[_]),r.jsx(i,{id:"myModal",backdrop:"static",show:m,onHide:()=>{e.resetForm(),u()},centered:!0,size:"xl",enforceFocus:!1,children:r.jsxs(a,{onSubmit:e.handleSubmit,noValidate:!0,children:[r.jsx(i.Header,{closeButton:!0,children:r.jsx("h5",{children:o(c?"Edit store category":"Add store category")})}),r.jsxs(i.Body,{children:[r.jsxs(a.Group,{className:"mb-3",controlId:"store_category_name",children:[r.jsxs(a.Label,{children:[o("Store category name"),r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(a.Control,{type:"text",placeholder:o("Enter store category name"),maxLength:150,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.store_category_name,isInvalid:!!(e.touched.store_category_name&&e.errors.store_category_name)}),r.jsx(a.Control.Feedback,{type:"invalid",children:o(e.errors.store_category_name??"")})]}),r.jsxs(a.Group,{className:"mb-3",controlId:"store_category_status",children:[r.jsxs(a.Label,{children:[o("Status")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(P,{options:n,placeholder:o("Select status"),value:A,onChange:t=>{e.setFieldValue("store_category_status",(t==null?void 0:t.value)??"")},onBlur:()=>e.setFieldTouched("store_category_status",!0),className:(x=e==null?void 0:e.touched)!=null&&x.store_category_status&&((y=e==null?void 0:e.errors)!=null&&y.store_category_status)?"is-invalid":""}),((d=e==null?void 0:e.touched)==null?void 0:d.store_category_status)&&((j=e==null?void 0:e.errors)==null?void 0:j.store_category_status)&&r.jsx("div",{className:"invalid-feedback d-block",children:o(((v=e==null?void 0:e.errors)==null?void 0:v.store_category_status)??"")}),r.jsx(a.Control.Feedback,{type:"invalid",children:o(e.errors.store_category_status??"")})]}),r.jsxs(a.Group,{className:"mb-3",controlId:"description",children:[r.jsx(a.Label,{children:o("Description")}),r.jsx(z,{data:e.values.description,onChange:t=>{e.setFieldValue("description",t)},onBlur:()=>e.setFieldTouched("description",!0),placeholder:o("Enter store category description")}),((b=e==null?void 0:e.touched)==null?void 0:b.description)&&((C=e==null?void 0:e.errors)==null?void 0:C.description)&&r.jsx("div",{className:"invalid-feedback d-block",children:o(((S=e==null?void 0:e.errors)==null?void 0:S.description)??"")})]})]}),r.jsxs(i.Footer,{children:[r.jsx(I,{variant:"light",onClick:()=>{e.resetForm(),u()},children:o("Close")}),r.jsx(I,{variant:"primary",type:"submit",children:o(c?"Update":"Save changes")})]})]})})};export{Ce as ModalStoreCategory};
