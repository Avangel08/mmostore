import{d,j as t}from"./ContextMenuProvider-8rBguBkL.js";import{F as Y,_ as R,v as w}from"./default-DwxJr9YX.js";import{h as x}from"./moment-C5S46NFB.js";import{u as y}from"./useQueryParam-n1NdO8Sx.js";import{u as M}from"./useTranslation-BPBxc4-B.js";import{B as m}from"./Button-Br3adEhm.js";import{R as V}from"./Row-Bf35mGJo.js";import{C as f}from"./Col-CtjW1edu.js";import{F as u}from"./Form-DoI29bDO.js";import"./index-BKO7ubHG.js";import"./ThemeProvider-C1jYdK3n.js";import"./Button-DQMQVwOo.js";const G=({onFilter:h})=>{const{t:r,i18n:D}=M(),l=d.useRef(null),[c,p]=d.useState(!1),e=y(),g=(e==null?void 0:e.perPage)??"10",j=()=>({name:(e==null?void 0:e.name)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??""}),[n,o]=d.useState(j()),F=()=>{switch(D.language){case"vi":return w.Vietnamese;default:return R.english}},b=(a,s)=>{o(i=>({...i,[a]:s}))},N=a=>{const[s,i]=a;o(k=>({...k,createdDateStart:s?x(s).format("YYYY-MM-DD"):"",createdDateEnd:i?x(i).format("YYYY-MM-DD"):""}))},S=()=>{h(1,Number(g),n)},v=()=>{const a=(e==null?void 0:e.name)||"",s=(e==null?void 0:e.createdDateStart)||"",i=(e==null?void 0:e.createdDateEnd)||"";return a!==null&&a!==""||s!==null&&s!==""||i!==null&&i!==""},E=()=>{const a={name:"",createdDateStart:"",createdDateEnd:""};o(a),l.current&&l.current.flatpickr&&l.current.flatpickr.clear(),h(1,Number(g),a)},C=()=>{p(!c)};return t.jsxs("div",{className:"filter-container mb-3",children:[t.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[t.jsxs(m,{variant:"outline-primary",onClick:C,className:"d-flex align-items-center",children:[t.jsx("i",{className:`ri-filter-${c?"off":"2"}-line align-bottom me-2`}),r(c?"Hide Filters":"Show Filters")]}),v()&&t.jsxs(m,{variant:"outline-secondary",onClick:E,className:"d-flex align-items-center",children:[t.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),r("Reset")]})]}),c&&t.jsx("div",{className:"p-3 border rounded bg-light",children:t.jsxs(V,{className:"g-3",children:[t.jsxs(f,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-name",children:r("Name")}),t.jsx(u.Control,{type:"text",id:"filter-name",placeholder:r("Enter name and transaction"),value:n.name,onChange:a=>b("name",a.target.value)})]}),t.jsxs(f,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-date",children:r("Created Date Range")}),t.jsx(Y,{ref:l,className:"form-control",id:"filter-date",placeholder:r("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:F()},value:n.createdDateStart&&n.createdDateEnd?[new Date(n.createdDateStart),new Date(n.createdDateEnd)]:n.createdDateStart?[new Date(n.createdDateStart)]:[],onChange:N})]}),t.jsx(f,{md:3,className:"d-flex align-items-end",children:t.jsxs(m,{variant:"primary",onClick:S,children:[t.jsx("i",{className:"ri-search-line align-bottom me-1"}),r("Filter")]})})]})})]})};export{G as default};
