import{X as A,d as f,A as M,j as e,R as q,S as D}from"./ContextMenuProvider-DK3oxQYr.js";import{Q as G}from"./react-toastify.esm-9xgEgjS9.js";import{u as $,c as O,a as R,g as U}from"./index.esm-BSLmOO6X.js";import{s as j}from"./showToast-CF18EvDS.js";import{L as H}from"./index-BH8_7VGO.js";import{S as Q,R as W}from"./RecentUpload-RytSVNf2.js";import X from"./SellingProduct-Bv0HXTi8.js";import{u as Y}from"./useTranslation-DPKXtvuf.js";import{C as J}from"./Container-CKD4fvms.js";import{R as p}from"./Row-yXb5PzTN.js";import{C as x}from"./Col-CTtgbep0.js";import{C as d}from"./Card-D2trc0lm.js";import{B as z}from"./Button-CFXbok-i.js";import{F as a}from"./Form-BL_QAQYe.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-CLORWFEJ.js";import"./index-DBORkYtJ.js";import"./moment-C5S46NFB.js";import"./RightSidebar-wPRgELvY.js";import"./thunk-BTJGEviI.js";/* empty css                      */import"./LightDark-NCPZk2Cu.js";import"./Dropdown-_eQxxY7W.js";import"./ThemeProvider-Ct_rgNLL.js";import"./querySelectorAll-DyAC2eix.js";import"./useMergedRefs-DpVwXFtQ.js";import"./SSRProvider-Bm_IBhbN.js";import"./useEventCallback-CkenMm09.js";import"./useIsomorphicEffect-DCEK52HO.js";import"./useWindow-C0YEyK7V.js";import"./SelectableContext-D5B5znED.js";import"./NavbarContext-6IejjhSq.js";import"./Button-V6sZ7J-q.js";import"./DataKey-DjdvojM5.js";import"./hook-CKvhJRCT.js";import"./extends-BFqQA52f.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./useEventCallback-vOopJezb.js";import"./Anchor-CwUEsFps.js";import"./InputGroupContext-baOa1g_u.js";import"./reselect-CiXCCDx7.js";import"./AbstractModalHeader-CvVyook-.js";import"./hasClass-FKaqrMiU.js";import"./NoopTransition-CTkquFTR.js";import"./TransitionWrapper-Cd1cgGa9.js";import"./setPrototypeOf-DgZC2w_0.js";import"./CloseButton-moyFQeDE.js";import"./Fade-BVcVAuqg.js";import"./divWithClassName-D5EYi2Il.js";import"./Collapse-D97udJ4R.js";import"./logo-dark-CCAAFdaA.js";import"./logo-light-D3OEWz0M.js";import"./user-dummy-img-BMkyJzBF.js";import"./avatar-1-PHP4S1R6.js";import"./TableWithContextMenu-Bakbo1hf.js";import"./index-BYuVoWqq.js";import"./index-H0Krwn6i.js";import"./Table-CpJjHnPb.js";import"./react-select.esm-BelfbI4k.js";import"./inherits-BJ6TuR_q.js";import"./useQueryParam-C_Ie3zdw.js";import"./Badge-CUsHlo8u.js";import"./sweetAlert-SIy78xZI.js";import"./sweetalert2.esm.all-5zhdP7Ax.js";import"./SellerAccountFilter-CeuNxwlC.js";import"./default-gjMU6hcX.js";const K=()=>{var y,b,v,w,F,C,E,S,_,I,k;const{t}=Y(),o=A().props.errors,{subProduct:s}=A().props,[u,g]=f.useState(!1),[n,N]=f.useState("file"),c=((y=s==null?void 0:s.product)==null?void 0:y.category)&&((b=s==null?void 0:s.product)==null?void 0:b.product_type),r=$({initialValues:{file:null,content:""},validationSchema:O().shape({file:n==="file"?U().required(t("Please select a file to upload")).test("fileType",t("Only .txt files are allowed"),i=>i?i.name.toLowerCase().endsWith(".txt"):!1).test("fileSize",t("The file must not be greater than 50MB"),i=>i?i.size<=50*1024*1024:!1):U().nullable(),content:n==="textarea"?R().required(t("Please enter content")).test("contentNotEmpty",t("Please enter content"),i=>!!i&&i.trim().length>0):R().nullable()}),onSubmit:i=>{g(!0);const m=new FormData;m.append("sub_product_id",(s==null?void 0:s.id)||""),m.append("product_id",(s==null?void 0:s.product_id)||""),m.append("input_method",n),n==="file"&&i.file?m.append("file",i.file):n==="textarea"&&i.content&&m.append("content",i.content),M.post(route("seller.account.store"),m,{preserveScroll:!0,onSuccess:l=>{var h,T,V,B;if((T=(h=l.props)==null?void 0:h.message)!=null&&T.error){j(t(l.props.message.error),"error");return}if((B=(V=l.props)==null?void 0:V.message)!=null&&B.success&&j(t(l.props.message.success),"success"),r.resetForm(),n==="file"){const L=document.querySelector('input[type="file"]');L&&(L.value="")}},onError:l=>{Object.keys(l).forEach(h=>{j(t(l[h]),"error")})},onFinish:()=>g(!1)})}});return f.useEffect(()=>{r.validateForm()},[n]),e.jsxs(q.Fragment,{children:[e.jsx(D,{title:t("Resource")}),e.jsxs("div",{className:"page-content",children:[e.jsx(G,{}),e.jsx(J,{fluid:!0,children:e.jsx(p,{children:e.jsx(x,{xs:12,children:e.jsxs(d,{children:[e.jsxs(d.Header,{children:[e.jsxs("h5",{className:"text-black",children:[t("Product"),": ",t(((v=s==null?void 0:s.product)==null?void 0:v.name)||"N/A")]}),e.jsxs("h6",{children:[t("Variant"),": ",t((s==null?void 0:s.name)||"N/A")]})]}),e.jsxs(d.Body,{children:[(!((w=s==null?void 0:s.product)!=null&&w.category)||!((F=s==null?void 0:s.product)!=null&&F.product_type))&&e.jsx(p,{style:{marginBottom:"32px"},children:e.jsx(x,{xs:12,children:e.jsx(d,{bg:"warning",text:"dark",className:"border-warning",children:e.jsx(d.Body,{children:e.jsxs("div",{className:"d-flex align-items-center gap-5",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"ri-alert-line me-2"}),t("Product Configuration Required")]}),e.jsxs("div",{className:"mb-1",children:[!((C=s==null?void 0:s.product)!=null&&C.category)&&!((E=s==null?void 0:s.product)!=null&&E.product_type)&&e.jsx("span",{children:t("Category and Product Type are not defined for this product")}),!((S=s==null?void 0:s.product)!=null&&S.category)&&((_=s==null?void 0:s.product)==null?void 0:_.product_type)&&e.jsx("span",{children:t("Category is not defined for this product")}),((I=s==null?void 0:s.product)==null?void 0:I.category)&&!((k=s==null?void 0:s.product)!=null&&k.product_type)&&e.jsx("span",{children:t("Product Type is not defined for this product")})]}),e.jsx("small",{className:"text-muted",children:t("Please configure the missing information to ensure proper product management")})]}),e.jsx("div",{children:e.jsxs(z,{variant:"dark",size:"sm",onClick:()=>{window.open(route("seller.product.edit",{id:s==null?void 0:s.product_id}),"_blank")},children:[e.jsx("i",{className:"ri-edit-line me-1"}),t("Edit Product")]})})]})})})})}),e.jsxs(p,{style:{marginBottom:"32px"},children:[e.jsxs(x,{lg:6,children:[!c&&e.jsx(d,{bg:"danger",text:"white",className:"mb-3 border-danger",children:e.jsxs(d.Body,{children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"ri-error-warning-line me-2"}),t("Import Disabled")]}),e.jsxs("p",{className:"mb-0",children:[t("You cannot import accounts until the product category and product type are configured.")," ",e.jsx("a",{href:route("seller.product.edit",{id:s==null?void 0:s.product_id}),className:"text-white text-decoration-underline",target:"_blank",children:t("Please edit the product first.")})]})]})}),e.jsxs(a,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsxs(a.Group,{className:"mb-4",children:[e.jsxs(a.Label,{className:"fw-bold",children:[t("Input method"),e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"d-flex gap-4 mt-2",children:[e.jsx(a.Check,{type:"radio",id:"method-file",name:"inputMethod",label:t("Upload file"),checked:n==="file",onChange:()=>{N("file"),r.setFieldValue("content",""),r.setFieldValue("file",null),r.setFieldError("content",""),r.setFieldError("file",""),r.setFieldTouched("content",!1),r.setFieldTouched("file",!1)},disabled:!c}),e.jsx(a.Check,{type:"radio",id:"method-textarea",name:"inputMethod",label:t("Input list"),checked:n==="textarea",onChange:()=>{N("textarea"),r.setFieldValue("file",null),r.setFieldValue("content",""),r.setFieldError("file",""),r.setFieldError("content",""),r.setFieldTouched("file",!1),r.setFieldTouched("content",!1)},disabled:!c})]})]}),n==="file"&&e.jsxs(a.Group,{className:"mb-3",children:[e.jsxs(a.Label,{children:[t("Upload .txt file")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(a.Control,{type:"file",name:"file",accept:".txt",disabled:!c,onChange:i=>{var l;const m=((l=i.target.files)==null?void 0:l[0])||null;r.setFieldValue("file",m)},onBlur:r.handleBlur,isInvalid:!!(r.touched.file&&r.errors.file||o!=null&&o.file)}),e.jsx(a.Control.Feedback,{type:"invalid",children:t(r.errors.file||(o==null?void 0:o.file))}),!c&&e.jsx(a.Text,{className:"text-muted",children:t("File upload is disabled until product configuration is complete")})]}),n==="textarea"&&e.jsxs(a.Group,{className:"mb-3",children:[e.jsxs(a.Label,{children:[t("Content")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(a.Control,{as:"textarea",rows:8,placeholder:t("Enter content here (each line will be 1 resource)")+`

`+t("Example")+`:
john1@example.com|mypass123|2fa_code
john2@example.com|mypass123|2fa_code
john3@example.com|mypass123|2fa_code`,name:"content",disabled:!c,onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.content,isInvalid:!!(r.touched.content&&r.errors.content||o!=null&&o.content),style:{fontFamily:"monospace",fontSize:"0.9rem"}}),e.jsx(a.Control.Feedback,{type:"invalid",children:t(r.errors.content||(o==null?void 0:o.content))}),!c&&e.jsx(a.Text,{className:"text-muted",children:t("Text input is disabled until product configuration is complete")})]}),e.jsx(z,{variant:"primary",type:"submit",disabled:u||!c,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Q,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),t(n==="file"?"Uploading":"Processing"),"..."]}):t(n==="file"?"Upload":"Submit")})]})]}),e.jsx(x,{lg:6,children:e.jsx(d,{bg:"light",className:"mb-3",children:e.jsxs(d.Body,{children:[e.jsx("h5",{children:t("Instructions")}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("strong",{children:[t("Format"),":"]}),e.jsxs("div",{className:"ms-2",children:["• ",e.jsx("code",{className:"fs-6",children:"data1|data2|..."}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:t("or")}),e.jsx("br",{}),"• ",e.jsx("code",{className:"fs-6",children:"status:STATUS|data1|data2|..."})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("small",{children:[e.jsxs("strong",{children:[t("Note"),":"]})," ",t("Each line will be 1 resource"),".",e.jsx("br",{}),t("Define status after 'status:' keyword"),". ",t("If no status specified, default status is LIVE"),".",e.jsx("br",{}),e.jsx("strong",{children:t("LIVE means the resource is ready for sale")}),"."]})}),e.jsx("div",{className:"mb-3",children:e.jsxs("strong",{children:[t("Examples"),":"]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"font-monospace small bg-white p-2 rounded border-start border-info border-3",children:"john@example.com|mypass123|2fa_code"}),e.jsxs("div",{className:"small text-info mt-1 ms-2",children:[e.jsx("i",{className:"ri-arrow-up-line me-1"}),t("Account without status: prefix")," - ",e.jsx("em",{children:t("default status is LIVE")})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"font-monospace small bg-white p-2 rounded border-start border-success border-3",children:"status:LIVE|username123|password456|2fa_code"}),e.jsxs("div",{className:"small text-success mt-1 ms-2",children:[e.jsx("i",{className:"ri-arrow-up-line me-1"}),t("Account with LIVE status (ready for sale)")]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"font-monospace small bg-white p-2 rounded border-start border-danger border-3",children:"status:Ban|@username|pass789|verified"}),e.jsxs("div",{className:"small text-danger mt-1 ms-2",children:[e.jsx("i",{className:"ri-arrow-up-line me-1"}),t("Account with non LIVE status (non LIVE status not available for sale)")]})]})]})})})]}),e.jsx("hr",{}),e.jsx(p,{className:"my-5",children:e.jsx(W,{})}),e.jsx("hr",{}),e.jsx(p,{className:"my-5",children:e.jsx(X,{})})]})]})})})})]})]})};K.layout=t=>e.jsx(H,{children:t});export{K as default};
