import{d as l,j as e,R as I}from"./ContextMenuProvider-8rBguBkL.js";import{u as V,T as z,f as p,g as G,a as H,b as B,c as O,r as q}from"./index-Bz37LvyY.js";import{u as A}from"./useTranslation-BPBxc4-B.js";import{R as C}from"./Row-Bf35mGJo.js";import{C as J}from"./Card-vz-8t6RR.js";import{C as K}from"./Col-CtjW1edu.js";import"./ThemeProvider-C1jYdK3n.js";import"./CardHeaderContext-DirSPmZm.js";import"./divWithClassName-sdpgvpBT.js";const L=({column:r})=>{const o=r.getFilterValue();return e.jsxs(e.Fragment,{children:[e.jsx(F,{type:"text",value:o??"",onChange:a=>r.setFilterValue(a),placeholder:"Search...",className:"w-36 border shadow rounded",list:r.id+"list"}),e.jsx("div",{className:"h-1"})]})},F=({value:r,onChange:o,debounce:a=500,...n})=>{const[c,d]=l.useState(r);return l.useEffect(()=>{d(r)},[r]),l.useEffect(()=>{const i=setTimeout(()=>{o(c)},a);return()=>clearTimeout(i)},[a,c]),e.jsx("input",{...n,value:c,id:"search-bar-0",className:"form-control border-0 search",onChange:i=>d(i.target.value)})},ce=({columns:r,data:o,isGlobalFilter:a,customPageSize:n,borderClass:c,tableClass:d,theadClass:i,trClass:R,thClass:N,divClass:v,SearchPlaceholder:w,onSubmit:M=u=>{u.preventDefault()},onRowContextMenu:m})=>{const{t:u}=A(),[P,S]=l.useState([]),[g,x]=l.useState(""),h=(s,t,k,D)=>{const f=q(s.getValue(t),k);return D({itemRank:f}),f.passed},b=V({columns:r,data:o,filterFns:{fuzzy:h},state:{columnFilters:P,globalFilter:g},onColumnFiltersChange:S,onGlobalFilterChange:x,globalFilterFn:h,getCoreRowModel:O(),getFilteredRowModel:B(),getPaginationRowModel:H(),getSortedRowModel:G()}),{getHeaderGroups:T,getRowModel:y,getCanPreviousPage:Q,getCanNextPage:U,getPageOptions:W,setPageIndex:X,nextPage:Y,previousPage:Z,setPageSize:j,getState:_}=b;l.useEffect(()=>{Number(n)&&j(Number(n))},[n,j]);const E=(s,t)=>{m&&m(s,t)};return e.jsxs(l.Fragment,{children:[a&&e.jsx(C,{className:"mb-3",children:e.jsx(J.Body,{className:"border border-dashed border-end-0 border-start-0",children:e.jsx("form",{onSubmit:M,children:e.jsx(C,{children:e.jsx(K,{sm:5,children:e.jsxs("div",{className:"search-box me-2 mb-2 d-inline-block col-12",children:[e.jsx(F,{value:g??"",onChange:s=>x(String(s)),placeholder:w}),e.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})})})}),e.jsx("div",{className:v,children:e.jsxs(z,{hover:!0,className:d,bordered:c,children:[e.jsx("thead",{className:i,children:T().map(s=>e.jsx("tr",{className:R,children:s.headers.map(t=>e.jsx("th",{className:N,onClick:t.column.getToggleSortingHandler(),children:t.isPlaceholder?null:e.jsxs(I.Fragment,{children:[p(t.column.columnDef.header,t.getContext()),{asc:" ",desc:" "}[t.column.getIsSorted()]??null,t.column.getCanFilter()?e.jsx("div",{children:e.jsx(L,{column:t.column,table:b})}):null]})},t.id))},s.id))}),e.jsx("tbody",{children:y().rows.map(s=>e.jsx("tr",{onContextMenu:t=>E(t,s.original),style:{cursor:m?"context-menu":"default"},children:s.getVisibleCells().map(t=>e.jsx("td",{children:p(t.column.columnDef.cell,t.getContext())},t.id))},s.id))})]})})]})};export{ce as default};
