import{X as j,d as l,j as s}from"./ContextMenuProvider-C6Zbl1jY.js";import{T as M}from"./TableWithContextMenu-6Mgwj4Yx.js";import{C as y}from"./ContextMenuBuilder-BNNvuvxc.js";import{h as T}from"./moment-C5S46NFB.js";import{u as V}from"./useTranslation-BhZFnGss.js";import"./index-C4NTLr_9.js";import"./ThemeProvider-pZJi_k1m.js";import"./Row-BBuYYMjV.js";import"./Card-Dc5dOtLU.js";import"./CardHeaderContext-CzkAZqub.js";import"./divWithClassName-BLdvSJyI.js";import"./Col-L5NkX0nX.js";import"./Button-Chz4fRXx.js";import"./Button-CsU7cm0L.js";import"./react-select.esm-V42ev51G.js";import"./setPrototypeOf-B4fUID9J.js";import"./extends-CF3RwP-h.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./useQueryParam-CmnuEJgR.js";const J=({data:r,onReloadTable:b,onEdit:d,onDelete:p,onSelectionChange:o})=>{const{t}=V(),{statusConst:f}=j().props,[m,a]=l.useState([]),[i,c]=l.useState(!1);l.useEffect(()=>{o&&o(m)},[m,o]),l.useEffect(()=>{a([]),c(!1)},[r]);const h=e=>new y().addCustomOption("permissions",t("Edit"),"ri-edit-2-fill","",()=>{d&&d(e==null?void 0:e.id)}).addDivider().addDeleteOption(t("Delete"),"ri-delete-bin-fill",()=>{p&&p(e==null?void 0:e.id)}).build(),C=l.useCallback(()=>{var e;if(i)a([]);else{const u=((e=r==null?void 0:r.data)==null?void 0:e.map(n=>n.id))||[];a(u)}c(!i)},[i,r]),x=l.useCallback((e,u)=>{u?a(n=>[...n,e]):(a(n=>n.filter(S=>S!==e)),c(!1))},[]),g=l.useMemo(()=>[{header:t("Customer"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"customer.name",enableColumnFilter:!1,enableSorting:!0},{header:t("Amount"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"amount",enableColumnFilter:!1,enableSorting:!0},{header:t("Amount VND"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"amount_vnd",enableColumnFilter:!1,enableSorting:!0},{header:t("Transaction"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"transaction",enableColumnFilter:!1,enableSorting:!0},{header:t("Created date"),accessorKey:"created_at",enableColumnFilter:!1,enableSorting:!0,cell:e=>s.jsx("span",{children:T(e.getValue()).format("DD/MM/YYYY HH:mm")})}],[t,m,i,C,x,f]);return s.jsx("div",{children:s.jsx(M,{columns:g,data:r||[],divClass:"table-responsive table-card mb-3",tableClass:"table align-middle table-nowrap mb-0",theadClass:"table-light",SearchPlaceholder:t("Search..."),enableContextMenu:!0,contextMenuOptions:h,isPaginateTable:!0,onReloadTable:b})})};export{J as default};
