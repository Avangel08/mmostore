import{c as $,o as ue,s as C,j as m,g as V,l as ne,k as Oe,a as we,C as ke}from"./CloseButton-DsugLeO_.js";import{d as o,j as h,T as Me}from"./index-EM1BjBMV.js";function je(){const e=o.useRef(!0),t=o.useRef(()=>e.current);return o.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ne(e){const t=o.useRef(null);return o.useEffect(()=>{t.current=e}),t.current}const Ae=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Le=typeof document<"u",re=Le||Ae?o.useLayoutEffect:o.useEffect;var Be=Function.prototype.bind.call(Function.prototype.call,[].slice);function b(e,t){return Be(e.querySelectorAll(t))}function oe(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Se="data-rr-ui-";function De(e){return`${Se}${e}`}const le=o.createContext($?window:void 0);le.Provider;function U(){return o.useContext(le)}const se=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Fe(e,t){const n=se(e),r=se(t);return s=>{n&&n(s),r&&r(s)}}function X(e,t){return o.useMemo(()=>Fe(e,t),[e,t])}function _(e){e===void 0&&(e=ue());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function We(e){const t=o.useRef(e);return t.current=e,t}function Ie(e){const t=We(e);o.useEffect(()=>()=>t.current(),[])}function Pe(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const ie=De("modal-open");class q{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Pe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[r]:s.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(C(s,r)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(ie,""),C(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(ie),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const G=(e,t)=>$?e==null?(t||ue()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function _e(e,t){const n=U(),[r,s]=o.useState(()=>G(e,n==null?void 0:n.document));if(!r){const i=G(e);i&&s(i)}return o.useEffect(()=>{},[t,r]),o.useEffect(()=>{const i=G(e);i!==r&&s(i)},[e,r]),r}function Ge({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=o.useRef(null),l=o.useRef(t),d=m(n);o.useEffect(()=>{t?l.current=!0:d(i.current)},[t,d]);const f=X(i,V(e)),c=o.cloneElement(e,{ref:f});return t?c:s||!l.current&&r?null:c}const He=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Ke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $e(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:l,addEndListener:d,children:f}=e,c=Ke(e,He);const g=o.useRef(null),p=X(g,V(f)),E=v=>T=>{v&&g.current&&v(g.current,T)},M=o.useCallback(E(t),[t]),j=o.useCallback(E(n),[n]),N=o.useCallback(E(r),[r]),A=o.useCallback(E(s),[s]),L=o.useCallback(E(i),[i]),B=o.useCallback(E(l),[l]),y=o.useCallback(E(d),[d]);return Object.assign({},c,{nodeRef:g},t&&{onEnter:M},n&&{onEntering:j},r&&{onEntered:N},s&&{onExit:A},i&&{onExiting:L},l&&{onExited:B},d&&{addEndListener:y},{children:typeof f=="function"?(v,T)=>f(v,Object.assign({},T,{ref:p})):o.cloneElement(f,{ref:p})})}const Ve=["component"];function Ue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Xe=o.forwardRef((e,t)=>{let{component:n}=e,r=Ue(e,Ve);const s=$e(r);return h.jsx(n,Object.assign({ref:t},s))});function qe({in:e,onTransition:t}){const n=o.useRef(null),r=o.useRef(!0),s=m(t);return re(()=>{if(!n.current)return;let i=!1;return s({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,s]),re(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Ye({children:e,in:t,onExited:n,onEntered:r,transition:s}){const[i,l]=o.useState(!t);t&&i&&l(!1);const d=qe({in:!!t,onTransition:c=>{const g=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(l(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(g,p=>{throw c.in||l(!0),p})}}),f=X(d,V(e));return i&&!t?null:o.cloneElement(e,{ref:f})}function ae(e,t,n){return e?h.jsx(Xe,Object.assign({},n,{component:e})):t?h.jsx(Ye,Object.assign({},n,{transition:t})):h.jsx(Ge,Object.assign({},n))}const ze=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Je(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let H;function Qe(e){return H||(H=new q({ownerDocument:e==null?void 0:e.document})),H}function Ze(e){const t=U(),n=e||Qe(t),r=o.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:o.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:o.useCallback(s=>{r.current.backdrop=s},[])})}const de=o.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:l,backdrop:d=!0,keyboard:f=!0,onBackdropClick:c,onEscapeKeyDown:g,transition:p,runTransition:E,backdropTransition:M,runBackdropTransition:j,autoFocus:N=!0,enforceFocus:A=!0,restoreFocus:L=!0,restoreFocusOptions:B,renderDialog:y,renderBackdrop:v=a=>h.jsx("div",Object.assign({},a)),manager:T,container:fe,onShow:Y,onHide:z=()=>{},onExit:he,onExited:J,onExiting:ge,onEnter:Ee,onEntering:me,onEntered:pe}=e,ve=Je(e,ze);const R=U(),O=_e(fe),u=Ze(T),Re=je(),be=Ne(n),[S,Q]=o.useState(!n),w=o.useRef(null);o.useImperativeHandle(t,()=>u,[u]),$&&!be&&n&&(w.current=_(R==null?void 0:R.document)),n&&S&&Q(!1);const Z=m(()=>{if(u.add(),W.current=ne(document,"keydown",Ce),F.current=ne(document,"focus",()=>setTimeout(xe),!0),Y&&Y(),N){var a,te;const P=_((a=(te=u.dialog)==null?void 0:te.ownerDocument)!=null?a:R==null?void 0:R.document);u.dialog&&P&&!oe(u.dialog,P)&&(w.current=P,u.dialog.focus())}}),D=m(()=>{if(u.remove(),W.current==null||W.current(),F.current==null||F.current(),L){var a;(a=w.current)==null||a.focus==null||a.focus(B),w.current=null}});o.useEffect(()=>{!n||!O||Z()},[n,O,Z]),o.useEffect(()=>{S&&D()},[S,D]),Ie(()=>{D()});const xe=m(()=>{if(!A||!Re()||!u.isTopModal())return;const a=_(R==null?void 0:R.document);u.dialog&&a&&!oe(u.dialog,a)&&u.dialog.focus()}),Te=m(a=>{a.target===a.currentTarget&&(c==null||c(a),d===!0&&z())}),Ce=m(a=>{f&&Oe(a)&&u.isTopModal()&&(g==null||g(a),a.defaultPrevented||z())}),F=o.useRef(),W=o.useRef(),ye=(...a)=>{Q(!0),J==null||J(...a)};if(!O)return null;const ee=Object.assign({role:r,ref:u.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ve,{style:i,className:s,tabIndex:-1});let I=y?y(ee):h.jsx("div",Object.assign({},ee,{children:o.cloneElement(l,{role:"document"})}));I=ae(p,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:he,onExiting:ge,onExited:ye,onEnter:Ee,onEntering:me,onEntered:pe,children:I});let k=null;return d&&(k=v({ref:u.setBackdropRef,onClick:Te}),k=ae(M,j,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k})),h.jsx(h.Fragment,{children:Me.createPortal(h.jsxs(h.Fragment,{children:[k,I]}),O)})});de.displayName="Modal";const ct=Object.assign(de,{Manager:q});function et(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function tt(e,t){e.classList?e.classList.add(t):et(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ce(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nt(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ce(e.className,t):e.setAttribute("class",ce(e.className&&e.className.baseVal||"",t))}const x={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rt extends q{adjustAndStore(t,n,r){const s=n.style[t];n.dataset[t]=s,C(n,{[t]:`${parseFloat(C(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],C(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(tt(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";b(n,x.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),b(n,x.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-t.scrollBarWidth)),b(n,x.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();nt(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";b(n,x.FIXED_CONTENT).forEach(i=>this.restore(r,i)),b(n,x.STICKY_CONTENT).forEach(i=>this.restore(s,i)),b(n,x.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let K;function ut(e){return K||(K=new rt(e)),K}const ot=o.createContext({onHide(){}}),st=o.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:s,...i},l)=>{const d=o.useContext(ot),f=we(()=>{d==null||d.onHide(),r==null||r()});return h.jsxs("div",{ref:l,...i,children:[s,n&&h.jsx(ke,{"aria-label":e,variant:t,onClick:f})]})});st.displayName="AbstractModalHeader";export{st as A,ct as B,ot as M,U as a,Ne as b,oe as c,De as d,rt as e,ut as g,b as q,je as u};
