import{X as S,d as a,j as r}from"./ContextMenuProvider-Bgjy8Wg_.js";import{T as N}from"./TableWithContextMenu-C9UP903_.js";import{C as y}from"./ContextMenuBuilder-BNNvuvxc.js";import{h as E}from"./moment-C5S46NFB.js";import{u as F}from"./useTranslation-i33--018.js";import"./index-CN6wmjNw.js";import"./index-H0Krwn6i.js";import"./Row-C_tKnLHn.js";import"./ThemeProvider-CYM_k5Zw.js";import"./Card-CBOUm2ms.js";import"./divWithClassName-N3RGU5tF.js";import"./Col-Dir6tpbB.js";import"./Table-RDBMq32C.js";import"./Button-RncLFi2F.js";import"./Button-m8XipgEK.js";import"./react-select.esm-D-kJikdD.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-jrBPyUKT.js";import"./useQueryParam-CHocvwWE.js";const Q=({data:n,onReloadTable:m,onSelectionChange:c})=>{const{t:s}=F(),{statusConst:b}=S().props,[u,i]=a.useState([]),[o,d]=a.useState(!1);a.useEffect(()=>{c&&c(u)},[u,c]),a.useEffect(()=>{i([]),d(!1)},[n]);const g=e=>new y().build(),p=a.useCallback(()=>{var e;if(o)i([]);else{const t=((e=n==null?void 0:n.data)==null?void 0:e.map(l=>l.id))||[];i(t)}d(!o)},[o,n]),x=a.useCallback((e,t)=>{t?i(l=>[...l,e]):(i(l=>l.filter(j=>j!==e)),d(!1))},[]),h=e=>{const t={PENDING:{class:"bg-warning",text:s("Pending")},PROCESSING:{class:"bg-info",text:s("Processing")},COMPLETED:{class:"bg-success",text:s("Completed")},CANCELLED:{class:"bg-danger",text:s("Cancelled")},FAILED:{class:"bg-danger",text:s("Failed")}},l=t[e]||t.PENDING;return r.jsx("span",{className:`badge ${l.class} text-white`,children:l.text})},f=e=>{const t={PENDING:{class:"bg-warning",text:s("Pending")},PAID:{class:"bg-success",text:s("Paid")},FAILED:{class:"bg-danger",text:s("Failed")},REFUNDED:{class:"bg-warning",text:s("Refunded")}},l=t[e]||t.PENDING;return r.jsx("span",{className:`badge ${l.class} text-white`,children:l.text})},C=a.useMemo(()=>[{header:s("Order Number"),cell:e=>r.jsx("span",{children:e.getValue()}),accessorKey:"order_number",enableColumnFilter:!1,enableSorting:!0},{header:s("Customer"),cell:e=>{const t=e.row.original.customer;return r.jsxs("div",{children:[r.jsx("span",{children:(t==null?void 0:t.name)||"N/A"}),r.jsx("br",{}),r.jsx("small",{className:"text-secondary",children:(t==null?void 0:t.email)||"N/A"})]})},accessorKey:"customer_id",enableColumnFilter:!1,enableSorting:!0},{header:s("Product Name"),cell:e=>{const t=e.row.original.product;return r.jsxs("div",{children:[r.jsx("span",{children:(t==null?void 0:t.name)||"N/A"}),r.jsx("br",{})]})},accessorKey:"product_id",enableColumnFilter:!1,enableSorting:!0},{header:s("Sub Product"),cell:e=>{const t=e.row.original.sub_product;return r.jsxs("div",{children:[r.jsx("div",{className:"fw-medium",children:(t==null?void 0:t.name)||"N/A"}),(t==null?void 0:t.description)&&r.jsx("small",{className:"text-secondary d-block",children:t.description})]})},accessorKey:"sub_product_id",enableColumnFilter:!1,enableSorting:!0},{header:s("Category"),cell:e=>{const t=e.row.original.category;return r.jsxs("div",{children:[r.jsx("span",{children:(t==null?void 0:t.name)||"N/A"}),r.jsx("br",{})]})},accessorKey:"category_id",enableColumnFilter:!1,enableSorting:!0},{header:s("Quantity"),cell:e=>r.jsx("span",{children:e.getValue()}),accessorKey:"quantity",enableColumnFilter:!1,enableSorting:!0},{header:s("Unit Price"),cell:e=>r.jsx("span",{children:e.getValue()}),accessorKey:"unit_price",enableColumnFilter:!1,enableSorting:!0},{header:s("Total Price"),cell:e=>r.jsx("span",{children:e.getValue()}),accessorKey:"total_price",enableColumnFilter:!1,enableSorting:!0},{header:s("Status"),cell:e=>h(e.getValue()),accessorKey:"status",enableColumnFilter:!1,enableSorting:!0},{header:s("Payment Status"),cell:e=>f(e.getValue()),accessorKey:"payment_status",enableColumnFilter:!1,enableSorting:!0},{header:s("Created at"),accessorKey:"created_at",enableColumnFilter:!1,enableSorting:!0,cell:e=>r.jsx("span",{children:E(e.getValue()).format("DD/MM/YYYY HH:mm")})}],[s,u,o,p,x,b]);return r.jsx("div",{children:r.jsx(N,{columns:C,data:n||[],divClass:"table-responsive table-card mb-3",tableClass:"table align-middle table-nowrap mb-0",theadClass:"table-light",SearchPlaceholder:s("Search..."),enableContextMenu:!0,contextMenuOptions:g,isPaginateTable:!0,onReloadTable:m})})};export{Q as default};
