import{d,j as e}from"./ContextMenuProvider-DoI9LuTu.js";import{F as Y,_ as R,v as w}from"./default-DKET8U34.js";import{h as x}from"./moment-C5S46NFB.js";import{u as y}from"./useQueryParam-xm9iNkis.js";import{u as M}from"./useTranslation-Bh5zzBC_.js";import{B as m}from"./Button-CdshqBqI.js";import{R as V}from"./Row-DaX0pFtU.js";import{C as h}from"./Col-BERnSmBs.js";import{F as f}from"./Form-C6Oq7frR.js";import"./index-B7rcZTdA.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";const G=({onFilter:u})=>{const{t:r,i18n:D}=M(),i=d.useRef(null),[n,p]=d.useState(!1),a=y(),g=(a==null?void 0:a.perPage)??"10",j=()=>({search:(a==null?void 0:a.search)??"",createdDateStart:(a==null?void 0:a.createdDateStart)??"",createdDateEnd:(a==null?void 0:a.createdDateEnd)??""}),[t,o]=d.useState(j()),F=()=>{switch(D.language){case"vi":return w.Vietnamese;default:return R.english}},S=(s,l)=>{o(c=>({...c,[s]:l}))},b=s=>{const[l,c]=s;o(k=>({...k,createdDateStart:l?x(l).format("YYYY-MM-DD"):"",createdDateEnd:c?x(c).format("YYYY-MM-DD"):""}))},v=()=>{u(1,Number(g),t)},E=()=>!!(t.search&&t.search.trim()!==""||t.createdDateStart&&t.createdDateStart!==""||t.createdDateEnd&&t.createdDateEnd!==""),N=()=>{const s={search:"",createdDateStart:"",createdDateEnd:""};o(s),i.current&&i.current.flatpickr&&i.current.flatpickr.clear(),u(1,Number(g),s)},C=()=>{p(!n)};return e.jsxs("div",{className:"filter-container mb-5",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[e.jsxs(m,{variant:"outline-primary",onClick:C,className:"d-flex align-items-center",children:[e.jsx("i",{className:`ri-filter-${n?"off":"2"}-line align-bottom me-2`}),r(n?"Hide Filters":"Show Filters")]}),E()&&e.jsxs(m,{variant:"outline-secondary",onClick:N,className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),r("Reset")]})]}),n&&e.jsx("div",{className:"p-3 border rounded bg-light",children:e.jsxs(V,{className:"g-3",children:[e.jsxs(h,{md:3,children:[e.jsx(f.Label,{htmlFor:"filter-name",children:r("Search")}),e.jsx(f.Control,{type:"text",id:"filter-name",placeholder:r("Enter name or email"),value:t.search,onChange:s=>S("search",s.target.value)})]}),e.jsxs(h,{md:3,children:[e.jsx(f.Label,{htmlFor:"filter-date",children:r("Created Date Range")}),e.jsx(Y,{ref:i,className:"form-control",id:"filter-date",placeholder:r("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:F()},value:t.createdDateStart&&t.createdDateEnd?[new Date(t.createdDateStart),new Date(t.createdDateEnd)]:t.createdDateStart?[new Date(t.createdDateStart)]:[],onChange:b})]}),e.jsx(h,{md:3,className:"d-flex align-items-end",children:e.jsxs(m,{variant:"primary",onClick:v,children:[e.jsx("i",{className:"ri-search-line align-bottom me-1"}),r("Filter")]})})]})})]})};export{G as default};
