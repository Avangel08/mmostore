import{X as j,d as l,j as s}from"./ContextMenuProvider-1cB75p-p.js";import{T as y}from"./TableWithContextMenu-CoEvX3uh.js";import{C as T}from"./ContextMenuBuilder-BNNvuvxc.js";import{f as M}from"./helpers-DvROK1GN.js";import{u as v}from"./useTranslation-C7Yq1257.js";import"./index-CZgFu9As.js";import"./index-H0Krwn6i.js";import"./Row-Cp0Qg_e-.js";import"./ThemeProvider-CK0LS3qr.js";import"./Card-BuBc-L9q.js";import"./divWithClassName-B2UmvJl6.js";import"./Col-D0392pNZ.js";import"./Table-DSWSwzg4.js";import"./Button-DzpAM0nN.js";import"./Button-BmeryA7r.js";import"./react-select.esm-CDSERzPd.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-DfFFbtXD.js";import"./useQueryParam-C88XvqE4.js";import"./moment-C5S46NFB.js";const Y=({data:r,onReloadTable:b,onEdit:d,onDelete:p,onSelectionChange:o})=>{const{t}=v(),{statusConst:f}=j().props,[m,a]=l.useState([]),[i,c]=l.useState(!1);l.useEffect(()=>{o&&o(m)},[m,o]),l.useEffect(()=>{a([]),c(!1)},[r]);const h=e=>new T().addCustomOption("permissions",t("Edit"),"ri-edit-2-fill","",()=>{d&&d(e==null?void 0:e.id)}).addDivider().addDeleteOption(t("Delete"),"ri-delete-bin-fill",()=>{p&&p(e==null?void 0:e.id)}).build(),C=l.useCallback(()=>{var e;if(i)a([]);else{const u=((e=r==null?void 0:r.data)==null?void 0:e.map(n=>n.id))||[];a(u)}c(!i)},[i,r]),x=l.useCallback((e,u)=>{u?a(n=>[...n,e]):(a(n=>n.filter(S=>S!==e)),c(!1))},[]),g=l.useMemo(()=>[{header:t("Customer"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"customer.name",enableColumnFilter:!1,enableSorting:!0},{header:t("Payment Method"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"payment_method.name",enableColumnFilter:!1,enableSorting:!0},{header:t("Amount"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"amount_vnd",enableColumnFilter:!1,enableSorting:!0},{header:t("Transaction"),cell:e=>s.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"transaction",enableColumnFilter:!1,enableSorting:!0},{header:t("Date at"),accessorKey:"date_at",enableColumnFilter:!1,enableSorting:!0,cell:e=>s.jsx("span",{children:M(e.getValue())})}],[t,m,i,C,x,f]);return s.jsx("div",{children:s.jsx(y,{columns:g,data:r||[],divClass:"table-responsive table-card mb-3",tableClass:"table align-middle table-nowrap mb-0",theadClass:"table-light",SearchPlaceholder:t("Search..."),enableContextMenu:!0,contextMenuOptions:h,isPaginateTable:!0,onReloadTable:b})})};export{Y as default};
