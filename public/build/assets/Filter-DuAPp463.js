import{d as m,j as e}from"./ContextMenuProvider-BnbZ3Xw_.js";import{F as w,_ as y,v as M}from"./default-DrfVhWEd.js";import{h as p}from"./moment-C5S46NFB.js";import{u as V}from"./useQueryParam-C_CgcfIB.js";import{u as B}from"./useTranslation-CtwHyjpC.js";import{B as f}from"./Button-BRcUTJGP.js";import{R as I}from"./Row-D4DhAVVB.js";import{C as h}from"./Col-DMyGedr-.js";import{F as D}from"./Form-kohAgaPo.js";import"./index-DJrr_1Uz.js";import"./ThemeProvider-C0xt9VP8.js";import"./Button-C_zChQbi.js";const J=({onFilter:g,currentFilters:a})=>{const{t:s,i18n:j}=B(),i=m.useRef(null),[o,u]=m.useState(!1),n=V(),x=(n==null?void 0:n.perPage)??"10",E=()=>({name:(a==null?void 0:a.name)??(n==null?void 0:n.name)??"",createdDateStart:(a==null?void 0:a.createdDateStart)??(n==null?void 0:n.createdDateStart)??"",createdDateEnd:(a==null?void 0:a.createdDateEnd)??(n==null?void 0:n.createdDateEnd)??""}),[t,l]=m.useState(E());m.useEffect(()=>{a&&l(a)},[a]);const S=()=>{switch(j.language){case"vi":return M.Vietnamese;default:return y.english}},b=(r,d)=>{l(c=>({...c,[r]:d}))},N=r=>{const[d,c]=r;l(R=>({...R,createdDateStart:d?p(d).format("YYYY-MM-DD"):"",createdDateEnd:c?p(c).format("YYYY-MM-DD"):""}))},v=()=>{g(1,Number(x),t)},C=()=>!!(t.name&&t.name.trim()!==""||t.createdDateStart&&t.createdDateStart!==""||t.createdDateEnd&&t.createdDateEnd!==""),k=()=>{const r={name:"",createdDateStart:"",createdDateEnd:""};l(r),i.current&&i.current.flatpickr&&i.current.flatpickr.clear(),g(1,Number(x),r)},Y=()=>{u(!o)};return e.jsxs("div",{className:"filter-container mb-3",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[e.jsxs(f,{variant:"outline-primary",onClick:Y,className:"d-flex align-items-center",children:[e.jsx("i",{className:`ri-filter-${o?"off":"2"}-line align-bottom me-2`}),s(o?"Hide Filters":"Show Filters")]}),C()&&e.jsxs(f,{variant:"outline-secondary",onClick:k,className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),s("Reset")]})]}),o&&e.jsx("div",{className:"p-3 border rounded bg-light",children:e.jsxs(I,{className:"g-3",children:[e.jsxs(h,{md:3,children:[e.jsx(D.Label,{htmlFor:"filter-name",children:s("Name")}),e.jsx(D.Control,{type:"text",id:"filter-name",placeholder:s("Enter name or transaction"),value:t.name,onChange:r=>b("name",r.target.value)})]}),e.jsxs(h,{md:3,children:[e.jsx(D.Label,{htmlFor:"filter-date",children:s("Created Date Range")}),e.jsx(w,{ref:i,className:"form-control",id:"filter-date",placeholder:s("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:S()},value:t.createdDateStart&&t.createdDateEnd?[new Date(t.createdDateStart),new Date(t.createdDateEnd)]:t.createdDateStart?[new Date(t.createdDateStart)]:[],onChange:N})]}),e.jsx(h,{md:3,className:"d-flex align-items-end",children:e.jsxs(f,{variant:"primary",onClick:v,children:[e.jsx("i",{className:"ri-search-line align-bottom me-1"}),s("Filter")]})})]})})]})};export{J as default};
