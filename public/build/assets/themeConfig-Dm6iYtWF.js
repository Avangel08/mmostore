import{d as y,X as h,A as $,j as e,R as w}from"./ContextMenuProvider-BnbZ3Xw_.js";import{u as D,c as _,a as x,g as p}from"./index.esm-bbsQyNAz.js";import{C as B}from"./CustomCKEditor-B8wkvf5w.js";import{s as g}from"./showToast-CDGTjd8l.js";import{F as E,r as R,p as P,a as V}from"./filepond-plugin-image-preview.esm-Ivd8rGAe.js";import{i as M,a as q,b as U}from"./theme-store-3-P91gzE90.js";import{u as G}from"./useTranslation-CtwHyjpC.js";import{F as o}from"./Form-kohAgaPo.js";import{R as H}from"./Row-D4DhAVVB.js";import{C as k}from"./Col-DMyGedr-.js";import{B as z}from"./Button-BRcUTJGP.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-D_S65KpP.js";/* empty css                  */import"./react-toastify.esm-Dj3bmGVf.js";import"./ThemeProvider-C0xt9VP8.js";import"./index-DJrr_1Uz.js";import"./Button-C_zChQbi.js";R(P,V);const A=[{key:"theme_1",label:"Theme 1",image:M},{key:"theme_2",label:"Theme 2",image:q},{key:"theme_3",label:"Theme 3",image:U}],ce=({activeTab:F})=>{var j,f;const{t}=G(),[T,C]=y.useState(null),[I,L]=y.useState([]),l=h().props.errors,m=h().props.storageUrl,{settings:a,currency_options:K}=h().props,u=!!a,r=D({enableReinitialize:!0,initialValues:{theme:(a==null?void 0:a.theme)||"theme_1",storeName:(a==null?void 0:a.storeName)||"",storeLogo:null,pageHeaderImage:null,pageHeaderText:(a==null?void 0:a.pageHeaderText)||"Hello, welcome to my store",currency:(a==null?void 0:a.currency)||"VND",metaDescription:(a==null?void 0:a.metaDescription)||""},validationSchema:_({storeName:x().required(t("Please enter store name")),pageHeaderImage:a!=null&&a.pageHeaderImage?p().nullable():p().required(t("Please select a page header image")),storeLogo:a!=null&&a.storeLogo?p().nullable():p().required(t("Please select a logo store")),pageHeaderText:x().required(t("Please enter page header text")),currency:x().required(t("Please choose currency"))}),onSubmit:s=>{const i=new FormData;i.append("theme",s.theme),i.append("storeName",s.storeName),s.storeLogo&&i.append("storeLogo",s.storeLogo),s.pageHeaderImage&&i.append("pageHeaderImage",s.pageHeaderImage),i.append("pageHeaderText",s.pageHeaderText),i.append("currency",s.currency),i.append("metaDescription",s.metaDescription),i.append("tab",F);const n=route("seller.theme-settings.update",{id:a.id});$.post(n,i,{preserveScroll:!0,onSuccess:d=>{var c,b,N,v;if((b=(c=d.props)==null?void 0:c.message)!=null&&b.error){g(t(d.props.message.error),"error");return}(v=(N=d.props)==null?void 0:N.message)!=null&&v.success?(g(t(d.props.message.success),"success"),r.resetForm()):g(t("Settings updated successfully"),"success")},onError:d=>{Object.keys(d).forEach(c=>{g(t(d[c]),"error")})}})}}),S=s=>{const i=s.target.files[0],n=new FileReader;n.onload=d=>{C(d.target.result),r.setFieldValue("storeLogo",i),r.setFieldTouched("storeLogo",!0)},n.readAsDataURL(i)};return e.jsx(w.Fragment,{children:e.jsxs(o,{noValidate:!0,onSubmit:r.handleSubmit,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsx("h5",{className:"mb-0",children:t("Store")})}),e.jsx(H,{children:e.jsxs(k,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"fs-13 mb-3 fw-medium",children:e.jsxs("span",{children:[t("Theme")," ",e.jsx("span",{className:"text-danger",children:"*"})]})}),e.jsx(H,{children:A.map(s=>e.jsx(k,{xs:"4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:s.image,className:"rounded avatar-xl mb-2"}),e.jsxs(o.Group,{className:"d-flex align-items-center justify-content-center gap-2",children:[e.jsx(o.Check,{type:"radio",name:"theme",value:String(s.key),id:`${s.key}`,disabled:s.key==="theme_2"||s.key==="theme_3",onChange:r.handleChange,onBlur:r.handleBlur,checked:r.values.theme===String(s.key)}),e.jsx(o.Label,{htmlFor:`${s.key}`,className:`text-muted mb-0 ${s.key==="theme_2"||s.key==="theme_3"?"cursor-default":"cursor-pointer"}`,children:t(s.label)})]}),s.key==="theme_2"||s.key==="theme_3"?e.jsx("div",{style:{fontSize:12,fontStyle:"italic",color:"#fd7e14"},children:t("Coming soon")}):null]})},s.key))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(o.Group,{children:[e.jsxs(o.Label,{className:"form-label",htmlFor:"setting-title-input",children:[t("Store name")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(o.Control,{type:"text",className:"form-control",onChange:r.handleChange,onBlur:r.handleBlur,name:"storeName",id:"setting-title-input",placeholder:t("Enter name store"),value:r.values.storeName,isInvalid:!!((j=r.touched)!=null&&j.storeName&&((f=r.errors)!=null&&f.storeName))})]}),e.jsxs(o.Control.Feedback,{type:"invalid",className:"invalid-feedback d-block",children:[" ",r.errors.storeName," "]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs(o.Group,{children:[e.jsx(o.Label,{className:"form-label",htmlFor:"setting-meta-description-input",children:t("Meta description")}),e.jsx("p",{className:"text-muted fst-italic",children:t("Meta description for a website on search engines")}),e.jsx(o.Control,{type:"text",className:"form-control",onChange:r.handleChange,onBlur:r.handleBlur,name:"metaDescription",id:"setting-meta-description-input",placeholder:t("Enter meta description"),value:r.values.metaDescription})]})}),u&&(a==null?void 0:a.storeLogo)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"fs-13 mb-3 fw-medium",children:e.jsx("span",{children:t("Current store logo")})}),e.jsx("a",{target:"_blank",href:`${m}/${a==null?void 0:a.storeLogo}`,children:e.jsx("img",{src:`${m}/${a==null?void 0:a.storeLogo}?v=${Date.now()}`,style:{maxWidth:"200px",maxHeight:"200px",objectFit:"contain",border:"1px solid #dee2e6",borderRadius:"4px"}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"fs-14 mb-2",children:[t("Logo")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("p",{className:"text-muted fst-italic",children:"KÃ­ch thÆ°á»›c tá»‘i thiá»ƒu: 124 Ã— 17 px"}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsx("div",{className:"position-absolute top-100 start-100 translate-middle",children:e.jsxs(o.Group,{children:[e.jsx(o.Label,{htmlFor:"customer-image-input",className:"mb-0","data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Select Image",children:e.jsx("div",{className:"avatar-xs cursor-pointer",children:e.jsx("div",{className:"avatar-title bg-light border rounded-circle text-muted",children:e.jsx("i",{className:"ri-image-fill"})})})}),e.jsx(o.Control,{className:"form-control d-none",id:"customer-image-input",type:"file",name:"storeLogo",accept:"image/png, image/gif, image/jpeg",onChange:S})]})}),e.jsx("div",{className:"avatar-lg",children:e.jsx("div",{className:"avatar-title bg-light rounded",children:e.jsx("img",{src:T,id:"product-img",alt:"",className:"avatar-md h-auto"})})})]})}),r.errors.storeLogo&&r.touched.storeLogo?e.jsx("div",{className:"invalid-feedback d-block",children:t(r.errors.storeLogo||(l==null?void 0:l.storeLogo))}):null]}),u&&(a==null?void 0:a.pageHeaderImage)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"fs-13 mb-3 fw-medium",children:e.jsx("span",{children:t("Current page header image")})}),e.jsx("a",{target:"_blank",href:`${m}/${a==null?void 0:a.pageHeaderImage}`,children:e.jsx("img",{src:`${m}/${a==null?void 0:a.pageHeaderImage}?v=${Date.now()}`,style:{maxWidth:"200px",maxHeight:"200px",objectFit:"contain",border:"1px solid #dee2e6",borderRadius:"4px"}})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(o.Label,{children:[t("Page header image")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("p",{className:"text-muted fst-italic",children:"KÃ­ch thÆ°á»›c yÃªu cáº§u: 262 Ã— 195 px"}),e.jsx(E,{files:I,onupdatefiles:s=>{if(L(s),s.length>0&&s[0].file){const i=s[0].file;r.setFieldValue("pageHeaderImage",i),r.setFieldTouched("pageHeaderImage",!0)}else r.setFieldValue("pageHeaderImage",null),r.setFieldTouched("pageHeaderImage",!0)},allowMultiple:!1,maxFiles:1,name:"pageHeaderImage",acceptedFileTypes:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],labelIdle:t(`ðŸ“· ${t("Drag & Drop your image or")} <span class="filepond--label-action">${t("Choose file")}</span>`),maxFileSize:"2MB",instantUpload:!1,credits:!1,className:r.touched.pageHeaderImage&&r.errors.pageHeaderImage||l!=null&&l.pageHeaderImage?"is-invalid":""}),(r.touched.pageHeaderImage&&r.errors.pageHeaderImage||(l==null?void 0:l.pageHeaderImage))&&e.jsx(o.Control.Feedback,{type:"invalid",className:"invalid-feedback d-block",children:t(r.errors.pageHeaderImage||(l==null?void 0:l.pageHeaderImage))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o.Label,{children:t("Page header text")}),e.jsx(B,{data:r.values.pageHeaderText,onChange:s=>{r.setFieldValue("pageHeaderText",s)},onBlur:()=>r.setFieldTouched("pageHeaderText",!0),placeholder:t("Enter detailed description")}),(r.touched.pageHeaderText&&r.errors.pageHeaderText||(l==null?void 0:l.pageHeaderText))&&e.jsx(o.Control.Feedback,{type:"invalid",className:"invalid-feedback d-block",children:t(r.errors.pageHeaderText||(l==null?void 0:l.pageHeaderText))})]})]})})]}),e.jsx("div",{className:"text-start",children:e.jsx(z,{type:"submit",variant:"success",children:t("Update")})})]})})};export{ce as default};
