import{X as y,d as s,j as l}from"./ContextMenuProvider-DK3oxQYr.js";import{T as j}from"./TableWithContextMenu-Bakbo1hf.js";import{C as T}from"./ContextMenuBuilder-BNNvuvxc.js";import{f as F}from"./helpers-CS5hhEhL.js";import{u as K}from"./useTranslation-DPKXtvuf.js";import"./index-BYuVoWqq.js";import"./index-H0Krwn6i.js";import"./Row-yXb5PzTN.js";import"./ThemeProvider-Ct_rgNLL.js";import"./Card-D2trc0lm.js";import"./divWithClassName-D5EYi2Il.js";import"./Col-CTtgbep0.js";import"./Table-CpJjHnPb.js";import"./Button-CFXbok-i.js";import"./Button-V6sZ7J-q.js";import"./react-select.esm-BelfbI4k.js";import"./inherits-BJ6TuR_q.js";import"./setPrototypeOf-DgZC2w_0.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-BFqQA52f.js";import"./hoist-non-react-statics.cjs-CLORWFEJ.js";import"./useQueryParam-C_Ie3zdw.js";import"./moment-C5S46NFB.js";const Y=({data:r,onReloadTable:b,onEdit:d,onDelete:p,onSelectionChange:o})=>{const{t}=K(),{statusConst:f}=y().props,[m,a]=s.useState([]),[i,c]=s.useState(!1);s.useEffect(()=>{o&&o(m)},[m,o]),s.useEffect(()=>{a([]),c(!1)},[r]);const h=e=>new T().addCustomOption("permissions",t("Edit"),"ri-edit-2-fill","",()=>{d&&d(e==null?void 0:e.id)}).addDivider().addDeleteOption(t("Delete"),"ri-delete-bin-fill",()=>{p&&p(e==null?void 0:e.id)}).build(),C=s.useCallback(()=>{var e;if(i)a([]);else{const u=((e=r==null?void 0:r.data)==null?void 0:e.map(n=>n.id))||[];a(u)}c(!i)},[i,r]),x=s.useCallback((e,u)=>{u?a(n=>[...n,e]):(a(n=>n.filter(S=>S!==e)),c(!1))},[]),g=s.useMemo(()=>[{header:t("Customer"),cell:e=>l.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"customer.name",enableColumnFilter:!1,enableSorting:!0},{header:t("Gate Way"),cell:e=>l.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"gate_way",enableColumnFilter:!1,enableSorting:!0},{header:t("Payment Method"),cell:e=>l.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"payment_method.name",enableColumnFilter:!1,enableSorting:!0},{header:t("Amount"),cell:e=>l.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"amount_vnd",enableColumnFilter:!1,enableSorting:!0},{header:t("Transaction"),cell:e=>l.jsx("span",{className:"fw-semibold",children:e.getValue()}),accessorKey:"transaction",enableColumnFilter:!1,enableSorting:!0},{header:t("Date at"),accessorKey:"date_at",enableColumnFilter:!1,enableSorting:!0,cell:e=>l.jsx("span",{children:F(e.getValue())})}],[t,m,i,C,x,f]);return l.jsx("div",{children:l.jsx(j,{columns:g,data:r||[],divClass:"table-responsive table-card mb-3",tableClass:"table align-middle table-nowrap mb-0",theadClass:"table-light",SearchPlaceholder:t("Search..."),enableContextMenu:!0,contextMenuOptions:h,isPaginateTable:!0,onReloadTable:b})})};export{Y as default};
