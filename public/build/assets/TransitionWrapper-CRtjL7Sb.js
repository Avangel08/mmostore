import{R as x,H as C,d as f,j as X}from"./ContextMenuProvider-DoI9LuTu.js";import{o as F,l as M,u as H}from"./useMergedRefs-Cm3LQ1VB.js";import{_ as V}from"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import{_ as A}from"./setPrototypeOf-DgZC2w_0.js";function $(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,A(e,i)}function Y(e){var i=F(e);return i&&i.defaultView||window}function Z(e,i){return Y(e).getComputedStyle(e,i)}var z=/([A-Z])/g;function B(e){return e.replace(z,"-$1").toLowerCase()}var K=/^ms-/;function S(e){return B(e).replace(K,"-ms-")}var q=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J(e){return!!(e&&q.test(e))}function w(e,i){var s="",r="";if(typeof i=="string")return e.style.getPropertyValue(S(i))||Z(e).getPropertyValue(S(i));Object.keys(i).forEach(function(n){var t=i[n];!t&&t!==0?e.style.removeProperty(S(n)):J(n)?r+=n+"("+t+") ":s+=S(n)+": "+t+";"}),r&&(s+="transform: "+r+";"),e.style.cssText+=";"+s}const k={disabled:!1},L=x.createContext(null);var Q=function(i){return i.scrollTop},b="unmounted",E="exited",v="entering",g="entered",y="exiting",l=function(e){$(i,e);function i(r,n){var t;t=e.call(this,r,n)||this;var a=n,o=a&&!a.isMounting?r.enter:r.appear,u;return t.appearStatus=null,r.in?o?(u=E,t.appearStatus=v):u=g:r.unmountOnExit||r.mountOnEnter?u=b:u=E,t.state={status:u},t.nextCallback=null,t}i.getDerivedStateFromProps=function(n,t){var a=n.in;return a&&t.status===b?{status:E}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(n){var t=null;if(n!==this.props){var a=this.state.status;this.props.in?a!==v&&a!==g&&(t=v):(a===v||a===g)&&(t=y)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var n=this.props.timeout,t,a,o;return t=a=o=n,n!=null&&typeof n!="number"&&(t=n.exit,a=n.enter,o=n.appear!==void 0?n.appear:a),{exit:t,enter:a,appear:o}},s.updateStatus=function(n,t){if(n===void 0&&(n=!1),t!==null)if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:C.findDOMNode(this);a&&Q(a)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===E&&this.setState({status:b})},s.performEnter=function(n){var t=this,a=this.props.enter,o=this.context?this.context.isMounting:n,u=this.props.nodeRef?[o]:[C.findDOMNode(this),o],c=u[0],p=u[1],d=this.getTimeouts(),N=o?d.appear:d.enter;if(!n&&!a||k.disabled){this.safeSetState({status:g},function(){t.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:v},function(){t.props.onEntering(c,p),t.onTransitionEnd(N,function(){t.safeSetState({status:g},function(){t.props.onEntered(c,p)})})})},s.performExit=function(){var n=this,t=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:C.findDOMNode(this);if(!t||k.disabled){this.safeSetState({status:E},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:y},function(){n.props.onExiting(o),n.onTransitionEnd(a.exit,function(){n.safeSetState({status:E},function(){n.props.onExited(o)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},s.setNextCallback=function(n){var t=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,t.nextCallback=null,n(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},s.onTransitionEnd=function(n,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:C.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=u[0],p=u[1];this.props.addEndListener(c,p)}n!=null&&setTimeout(this.nextCallback,n)},s.render=function(){var n=this.state.status;if(n===b)return null;var t=this.props,a=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var o=V(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(L.Provider,{value:null},typeof a=="function"?a(n,o):x.cloneElement(x.Children.only(a),o))},i}(x.Component);l.contextType=L;l.propTypes={};function T(){}l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:T,onEntering:T,onEntered:T,onExit:T,onExiting:T,onExited:T};l.UNMOUNTED=b;l.EXITED=E;l.ENTERING=v;l.ENTERED=g;l.EXITING=y;function ct(e){return e.code==="Escape"||e.keyCode===27}function tt(){const e=f.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function pt(e){if(!e||typeof e=="function")return null;const{major:i}=tt();return i>=19?e.props.ref:e.ref}function et(e,i,s,r){if(r===void 0&&(r=!0),e){var n=document.createEvent("HTMLEvents");n.initEvent(i,s,r),e.dispatchEvent(n)}}function nt(e){var i=w(e,"transitionDuration")||"",s=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*s}function rt(e,i,s){s===void 0&&(s=5);var r=!1,n=setTimeout(function(){r||et(e,"transitionend",!0)},i+s),t=M(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(n),t()}}function it(e,i,s,r){s==null&&(s=nt(e)||0);var n=rt(e,s,r),t=M(e,"transitionend",i);return function(){n(),t()}}function O(e,i){const s=w(e,i)||"",r=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*r}function dt(e,i){const s=O(e,"transitionDuration"),r=O(e,"transitionDelay"),n=it(e,t=>{t.target===e&&(n(),i(t))},s+r)}function ht(e){e.offsetHeight}function st(e){return e&&"setState"in e?C.findDOMNode(e):e??null}const at=x.forwardRef(({onEnter:e,onEntering:i,onEntered:s,onExit:r,onExiting:n,onExited:t,addEndListener:a,children:o,childRef:u,...c},p)=>{const d=f.useRef(null),N=H(d,u),D=m=>{N(st(m))},h=m=>R=>{m&&d.current&&m(d.current,R)},P=f.useCallback(h(e),[e]),_=f.useCallback(h(i),[i]),I=f.useCallback(h(s),[s]),U=f.useCallback(h(r),[r]),j=f.useCallback(h(n),[n]),G=f.useCallback(h(t),[t]),W=f.useCallback(h(a),[a]);return X.jsx(l,{ref:p,...c,onEnter:P,onEntered:I,onEntering:_,onExit:U,onExited:G,onExiting:j,addEndListener:W,nodeRef:d,children:typeof o=="function"?(m,R)=>o(m,{...R,ref:D}):x.cloneElement(o,{ref:D})})});at.displayName="TransitionWrapper";export{g as E,at as T,dt as a,v as b,y as c,E as d,it as e,st as f,pt as g,ct as i,w as s,ht as t};
