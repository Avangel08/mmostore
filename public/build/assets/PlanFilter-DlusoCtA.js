import{d as r,j as t}from"./ContextMenuProvider-CS5NKwgS.js";import{F as te,_ as ae,v as ne}from"./default-BfqrZCtT.js";import{S as N}from"./react-select.esm-BDAzNT5j.js";import{N as R}from"./react-number-format.es-D5ox8Tg0.js";import{h as Y}from"./moment-C5S46NFB.js";import{u as le}from"./useQueryParam-CTIdJAs5.js";import{u as se}from"./useTranslation-DnvQPSkm.js";import{B as M}from"./Button-DZTXdnKE.js";import{R as oe}from"./Row-otC0J6R6.js";import{C as p}from"./Col-B1uPAtVO.js";import{a as G,F as u}from"./Form-CpSIa-j7.js";import{u as L,c as A}from"./ThemeProvider-D15W9jxa.js";import{c as ie}from"./InputGroupContext-D9hiN3cM.js";import"./index-Dff2WCxi.js";import"./setPrototypeOf-B4fUID9J.js";import"./extends-CF3RwP-h.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./Button-QujDZnew.js";const y=r.forwardRef(({className:o,bsPrefix:n,as:f="span",...d},h)=>(n=L(n,"input-group-text"),t.jsx(f,{ref:h,className:A(o,n),...d})));y.displayName="InputGroupText";const ce=o=>t.jsx(y,{children:t.jsx(G,{type:"checkbox",...o})}),re=o=>t.jsx(y,{children:t.jsx(G,{type:"radio",...o})}),$=r.forwardRef(({bsPrefix:o,size:n,hasValidation:f,className:d,as:h="div",...D},e)=>{o=L(o,"input-group");const g=r.useMemo(()=>({}),[]);return t.jsx(ie.Provider,{value:g,children:t.jsx(h,{ref:e,...D,className:A(d,o,n&&`${o}-${n}`,f&&"has-validation")})})});$.displayName="InputGroup";const V=Object.assign($,{Text:y,Radio:re,Checkbox:ce}),Me=({onFilter:o})=>{const{t:n,i18n:f}=se(),d=r.useRef(null),[h,D]=r.useState(!1),e=le(),g=(e==null?void 0:e.perPage)??"10",K=()=>({name:(e==null?void 0:e.name)??"",type:(e==null?void 0:e.type)??"",priceMin:(e==null?void 0:e.priceMin)??"",priceMax:(e==null?void 0:e.priceMax)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??"",showPublic:(e==null?void 0:e.showPublic)??""}),[c,x]=r.useState(K()),S=[{value:"",label:n("All")},{value:0,label:n("Default")},{value:1,label:n("Normal")}],b=[{value:"",label:n("All")},{value:1,label:n("Active")},{value:0,label:n("Inactive")}],j=[{value:"",label:n("All")},{value:1,label:n("Yes")},{value:0,label:n("No")}],[O,w]=r.useState(S[0]),[B,P]=r.useState(b[0]),[z,C]=r.useState(j[0]);r.useEffect(()=>{const a=e==null?void 0:e.type;if(a!==null){const i=S.find(m=>m.value.toString()===a);i&&w(i)}const l=e==null?void 0:e.status;if(l!==null){const i=b.find(m=>m.value.toString()===l);i&&P(i)}const s=e==null?void 0:e.showPublic;if(s!==null){const i=j.find(m=>m.value.toString()===s);i&&C(i)}},[]);const _=()=>{switch(f.language){case"vi":return ne.Vietnamese;default:return ae.english}},v=(a,l)=>{x(s=>({...s,[a]:l}))},H=a=>{const[l,s]=a;x(i=>({...i,createdDateStart:l?Y(l).format("YYYY-MM-DD"):"",createdDateEnd:s?Y(s).format("YYYY-MM-DD"):""}))},Q=a=>{w(a),v("type",a.value)},q=a=>{P(a),v("status",a.value)},J=a=>{C(a),v("showPublic",a.value)},W=a=>{const{floatValue:l}=a;x(s=>({...s,priceMin:l?l.toString():""}))},X=a=>{const{floatValue:l}=a;x(s=>({...s,priceMax:l?l.toString():""}))},I=()=>{o(1,Number(g),c)},F=a=>{a.key==="Enter"&&I()},Z=()=>{const a=(e==null?void 0:e.name)||"",l=(e==null?void 0:e.type)||"",s=(e==null?void 0:e.priceMin)||"",i=(e==null?void 0:e.priceMax)||"",m=(e==null?void 0:e.createdDateStart)||"",E=(e==null?void 0:e.createdDateEnd)||"",T=(e==null?void 0:e.status)||"",k=(e==null?void 0:e.showPublic)||"";return a!==null&&a!==""||l!==null&&l!==""||s!==null&&s!==""||i!==null&&i!==""||m!==null&&m!==""||E!==null&&E!==""||T!==null&&T!==""||k!==null&&k!==""},U=()=>{const a={name:"",type:"",priceMin:"",priceMax:"",createdDateStart:"",createdDateEnd:"",status:"",showPublic:""};x(a),w(S[0]),P(b[0]),C(j[0]),d.current&&d.current.flatpickr&&d.current.flatpickr.clear(),o(1,Number(g),a)},ee=()=>{D(!h)};return t.jsxs("div",{className:"filter-container mb-3",children:[t.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[t.jsxs(M,{variant:"outline-primary",onClick:ee,className:"d-flex align-items-center",children:[t.jsx("i",{className:`ri-filter-${h?"off":"2"}-line align-bottom me-2`}),n(h?"Hide Filters":"Show Filters")]}),Z()&&t.jsxs(M,{variant:"outline-danger",onClick:U,className:"d-flex align-items-center",children:[t.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),n("Reset")]})]}),h&&t.jsx("div",{className:"p-3 border rounded bg-light",children:t.jsxs(oe,{className:"g-3",children:[t.jsxs(p,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-name",children:n("Plan name")}),t.jsx(u.Control,{type:"text",id:"filter-name",placeholder:n("Enter plan name"),value:c.name,onChange:a=>v("name",a.target.value),onKeyDown:F})]}),t.jsxs(p,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-type",children:n("Type")}),t.jsx(N,{id:"filter-type",value:O,onChange:Q,options:S,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select type"),menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}})]}),t.jsxs(p,{md:6,children:[t.jsx(u.Label,{children:n("Price range")}),t.jsxs(V,{children:[t.jsx(R,{customInput:u.Control,id:"filter-price-min",value:c.priceMin,onValueChange:W,onKeyDown:F,thousandSeparator:!0,placeholder:n("From"),allowNegative:!1,decimalScale:2,fixedDecimalScale:!1}),t.jsx(V.Text,{children:"â€“"}),t.jsx(R,{customInput:u.Control,id:"filter-price-max",value:c.priceMax,onValueChange:X,onKeyDown:F,thousandSeparator:!0,placeholder:n("To"),allowNegative:!1,decimalScale:2,fixedDecimalScale:!1})]})]}),t.jsxs(p,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-date",children:n("Created Date Range")}),t.jsx(te,{ref:d,className:"form-control",id:"filter-date",placeholder:n("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:_()},value:c.createdDateStart&&c.createdDateEnd?[new Date(c.createdDateStart),new Date(c.createdDateEnd)]:c.createdDateStart?[new Date(c.createdDateStart)]:[],onChange:H})]}),t.jsxs(p,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-status",children:n("Status")}),t.jsx(N,{id:"filter-status",value:B,onChange:q,options:b,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select status"),menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}})]}),t.jsxs(p,{md:3,children:[t.jsx(u.Label,{htmlFor:"filter-show-public",children:n("Show public")}),t.jsx(N,{id:"filter-show-public",value:z,onChange:J,options:j,classNamePrefix:"select",isSearchable:!0,placeholder:n("Select visibility"),menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}})]}),t.jsx(p,{md:12,children:t.jsxs(M,{variant:"primary",onClick:I,children:[t.jsx("i",{className:"ri-search-line align-bottom me-1"}),n("Filter")]})})]})})]})};export{Me as default};
