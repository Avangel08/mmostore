import{X as C,d,j as e,R as S,S as R,x as B,A as f}from"./ContextMenuProvider-DK3oxQYr.js";import{u as P,c as E,a as i,b as F}from"./index.esm-BSLmOO6X.js";import{Q as _}from"./react-toastify.esm-9xgEgjS9.js";/* empty css                      */import{s as q}from"./showToast-CF18EvDS.js";import{S as z}from"./sweetalert2.esm.all-5zhdP7Ax.js";import{u as I}from"./useTranslation-DPKXtvuf.js";import{C as T}from"./Container-CKD4fvms.js";import{R as A}from"./Row-yXb5PzTN.js";import{C as b}from"./Col-CTtgbep0.js";import{C as w}from"./Card-D2trc0lm.js";import{F as r}from"./Form-BL_QAQYe.js";import{B as L}from"./Button-CFXbok-i.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-CLORWFEJ.js";import"./ThemeProvider-Ct_rgNLL.js";import"./divWithClassName-D5EYi2Il.js";import"./index-DBORkYtJ.js";import"./Button-V6sZ7J-q.js";function oe(){const{t:s}=I(),{errors:m,token:j,email:g}=C().props,[n,y]=d.useState(!1),[l,N]=d.useState(!1),v=()=>{const t=window.location.hostname.split(".");if(t.length>=3){const o=t[0];return o.charAt(0).toUpperCase()+o.slice(1)}return"Merdify"},k=s("Reset password")+" - "+v(),a=P({initialValues:{token:j||"",email:g||"",password:"",password_confirmation:""},validationSchema:E({token:i().required(s("Token is required")),email:i().email(s("Invalid email")).required(s("Email is required")),password:i().min(8,s("Password must be at least 8 characters")).required(s("Password is required")),password_confirmation:i().oneOf([F("password")],s("Passwords must match")).required(s("Please confirm your password"))}),onSubmit:c=>{const t=route("buyer.password.store");f.post(t,c,{onSuccess:o=>{var p,x,u,h;if((x=(p=o.props)==null?void 0:p.message)!=null&&x.error){q(s(o.props.message.error),"error");return}(h=(u=o.props)==null?void 0:u.message)!=null&&h.success&&z.fire({title:s("Success"),text:s(o.props.message.success),icon:"success",confirmButtonText:"OK",allowOutsideClick:!1}).then(()=>{f.get(route("buyer.home"))})},onFinish:()=>{a.setSubmitting(!1)}})}});return d.useEffect(()=>{a.setErrors(m||{})},[m]),e.jsxs(S.Fragment,{children:[e.jsx(_,{}),e.jsx(R,{title:k}),e.jsx("div",{className:"min-vh-100 d-flex align-items-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx(T,{fluid:!0,children:e.jsxs(A,{className:"h-100",children:[e.jsx(b,{lg:6,className:"d-flex align-items-center justify-content-center",children:e.jsx("div",{className:"w-100",style:{maxWidth:"600px"},children:e.jsx(w,{className:"border-0 shadow-lg",style:{borderRadius:"25px"},children:e.jsxs(w.Body,{className:"p-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h2",{className:"fw-bold text-dark mb-2",style:{fontSize:"25px"},children:[s("Reset password")," ðŸ”’"]}),e.jsx("div",{className:"text-muted",children:s("Enter your new password to reset your account")})]}),e.jsxs(r,{onSubmit:a.handleSubmit,noValidate:!0,children:[e.jsx(r.Control,{type:"hidden",name:"token",value:a.values.token}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r.Label,{className:"form-label fw-semibold text-dark",children:"Email"}),e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"ri-mail-line position-absolute top-50 translate-middle-y ms-3 text-muted"}),e.jsx(r.Control,{id:"email",type:"email",name:"email",placeholder:s("Your email address"),className:"ps-5 pe-3 "+(a.touched.email&&a.errors.email?"is-invalid":""),value:a.values.email,onChange:a.handleChange,onBlur:a.handleBlur,disabled:!0,style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px 16px 12px 40px",fontSize:"14px",backgroundImage:"none",backgroundColor:"#f8f9fa",color:"#6c757d"}})]}),e.jsx(r.Control.Feedback,{type:"invalid",className:"d-block mt-2",children:s(a.errors.email)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r.Label,{className:"form-label fw-semibold text-dark",children:s("New Password")}),e.jsx("span",{className:"text-danger ms-1",children:"*"}),e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"ri-lock-line position-absolute top-50 translate-middle-y ms-3 text-muted"}),e.jsx(r.Control,{id:"password",type:n?"text":"password",name:"password",placeholder:s("Enter your new password"),className:"ps-5 pe-5 "+(a.touched.password&&a.errors.password?"is-invalid":""),autoComplete:"new-password",value:a.values.password,onChange:a.handleChange,onBlur:a.handleBlur,style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px 16px 12px 40px",fontSize:"14px",backgroundImage:"none"}}),e.jsx("button",{className:"btn btn-link position-absolute end-0 top-50 translate-middle-y text-decoration-none text-muted p-0 me-3",type:"button",onClick:()=>y(!n),style:{border:"none",background:"none"},children:e.jsx("i",{className:n?"ri-eye-off-line":"ri-eye-line"})})]}),e.jsx(r.Control.Feedback,{type:"invalid",className:"d-block mt-2",children:s(a.errors.password)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r.Label,{className:"form-label fw-semibold text-dark",children:s("Confirm New Password")}),e.jsx("span",{className:"text-danger ms-1",children:"*"}),e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"ri-lock-line position-absolute top-50 translate-middle-y ms-3 text-muted"}),e.jsx(r.Control,{id:"password_confirmation",type:l?"text":"password",name:"password_confirmation",placeholder:s("Confirm your new password"),className:"ps-5 pe-5 "+(a.touched.password_confirmation&&a.errors.password_confirmation?"is-invalid":""),autoComplete:"new-password",value:a.values.password_confirmation,onChange:a.handleChange,onBlur:a.handleBlur,style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px 16px 12px 40px",fontSize:"14px",backgroundImage:"none"}}),e.jsx("button",{className:"btn btn-link position-absolute end-0 top-50 translate-middle-y text-decoration-none text-muted p-0 me-3",type:"button",onClick:()=>N(!l),style:{border:"none",background:"none"},children:e.jsx("i",{className:l?"ri-eye-off-line":"ri-eye-line"})})]}),e.jsx(r.Control.Feedback,{type:"invalid",className:"d-block mt-2",children:s(a.errors.password_confirmation)})]}),e.jsx(L,{type:"submit",className:"w-100 py-3 fw-semibold",disabled:a.isSubmitting,style:{background:"#4f46e5",border:"none",borderRadius:"8px",fontSize:"16px"},children:a.isSubmitting?s("Sending")+"...":s("Reset password")})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-muted mb-0",children:[s("Remember your password?"),e.jsx(B,{href:route("buyer.home"),className:"text-primary text-decoration-none fw-semibold ms-1",children:s("Back to Sign In")})]})})]})})})}),e.jsx(b,{lg:6,className:"d-flex align-items-center justify-content-center p-0 position-relative",children:e.jsx("div",{className:"position-relative w-100 h-100 d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-lock-password-line",style:{fontSize:"120px",color:"rgba(255,255,255,0.7)"}}),e.jsx("h3",{className:"text-white mt-3 fw-bold",children:s("Create new password")}),e.jsx("p",{className:"text-white-50 fs-5",children:s("Create new password after forgot password")})]})})})]})})})]})}export{oe as default};
