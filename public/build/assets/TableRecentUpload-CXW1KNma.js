import{d as c,j as t,X as d,A as u}from"./ContextMenuProvider-C-NiMYiY.js";import{h as b}from"./moment-C5S46NFB.js";import{T as g}from"./TableWithContextMenu-CL7Tmzuf.js";import{u as f}from"./useTranslation-BNKLQupd.js";import{u as h,c as x}from"./ThemeProvider-BgYZLYsX.js";import"./index-D81Ll3x1.js";import"./Row-DLeSa6Vj.js";import"./Card-CNjXVCPF.js";import"./CardHeaderContext-D5kuT5dZ.js";import"./divWithClassName-Ds82THrL.js";import"./Col-B9d4cz6j.js";import"./Button-Dx-n7Ou5.js";import"./Button-4b-n1YSh.js";import"./react-select.esm-BF0MRd_6.js";import"./setPrototypeOf-B4fUID9J.js";import"./extends-CF3RwP-h.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./useQueryParam-BLtftc8W.js";const n=c.forwardRef(({bsPrefix:a,bg:o="primary",pill:i=!1,text:l,className:r,as:e="span",...s},m)=>{const p=h(a,"badge");return t.jsx(e,{ref:m,...s,className:x(r,p,i&&"rounded-pill",l&&`text-${l}`,o&&`bg-${o}`)})});n.displayName="Badge";const Y=()=>{const{t:a}=f(),{importHistory:o}=d().props,i=c.useCallback((r=1,e=10,s)=>{u.reload({only:["importHistory"],data:{importPage:r,importPerPage:e,...s}})},[]),l=c.useMemo(()=>[{header:a("File name"),accessorKey:"file_path",enableColumnFilter:!1,enableSorting:!0,cell:r=>t.jsx("span",{children:r.getValue().split("/").pop()})},{header:a("Upload date"),accessorKey:"created_at",enableColumnFilter:!1,enableSorting:!0,cell:r=>t.jsx("span",{children:b(r.getValue()).format("DD/MM/YYYY HH:mm")})},{header:a("Result"),accessorKey:"result",enableColumnFilter:!1,enableSorting:!0,cell:r=>{const e=r.getValue()||{};return t.jsxs("div",{children:[t.jsxs(n,{bg:"secondary",children:[a("Total"),": ",(e==null?void 0:e.total_count)||0]})," ",t.jsxs(n,{bg:"success",children:[a("Success"),": ",(e==null?void 0:e.success_count)||0]})," ",t.jsxs(n,{bg:"danger",children:[a("Error"),": ",(e==null?void 0:e.error_count)||0]})]})}},{header:a("Status"),accessorKey:"status",enableColumnFilter:!1,enableSorting:!0,cell:r=>{const e=r.getValue()||"Unknown",s={FINISH:"bg-success",RUNNING:"bg-primary",ERROR:"bg-danger",Unknown:"bg-dark"};return t.jsx("span",{className:`badge ${(s==null?void 0:s[e])||"bg-dark"} fs-6 fw-medium`,children:a(e)})}}],[a]);return t.jsx("div",{children:t.jsx(g,{columns:l,data:o||[],divClass:"table-responsive table-card mb-3",tableClass:"table align-middle table-nowrap mb-0",theadClass:"table-light",enableContextMenu:!1,isPaginateTable:!0,onReloadTable:i,keyPageParam:"importPage",keyPerPageParam:"importPerPage"})})};export{Y as default};
