import{X as w,d as x,j as r,A as f}from"./ContextMenuProvider-BhVN3MI2.js";import{u as j,c as g,a as l,b}from"./index.esm-C_ZlIYoE.js";import{s as u}from"./showToast-BKDwzp8a.js";import{u as v}from"./useTranslation-ZbZFIHja.js";import{T as C}from"./Tab-CswdKGbW.js";import{F as o}from"./Form-B_1_SP-R.js";import{R as t}from"./Row-DTCryV-T.js";import{C as a}from"./Col-CDTbDU3W.js";import{B as N}from"./Button-CT1W-dlW.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-3lIPCjJv.js";import"./react-toastify.esm-Bzp-JuTX.js";import"./index-CMi1q9xw.js";import"./SSRProvider-CdYR2PPq.js";import"./TabContext-BvLUMeJu.js";import"./SelectableContext-C5rX9-0C.js";import"./NoopTransition-Ba3l4ZU6.js";import"./useEventCallback-kYw4fXYA.js";import"./TransitionWrapper-CHWC6Aev.js";import"./useMergedRefs-BdX62CzH.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./setPrototypeOf-DgZC2w_0.js";import"./Fade-DZUndS-E.js";import"./ThemeProvider-CUiVOj3n.js";import"./Button-ItoOpMhW.js";function Q(){const{t:e}=v(),d=w().props.errors,s=j({initialValues:{current_password:"",password:"",password_confirmation:""},validationSchema:g({current_password:l().required(e("Please enter your current password")),password:l().min(8,e("Password must be at least 8 characters")).required(e("Please enter your new password")),password_confirmation:l().oneOf([b("password")],e("Passwords must match")).required(e("Please confirm your password"))}),onSubmit:h=>{f.put(route("buyer.profile.change-password"),h,{onSuccess:n=>{var i,c,p,m;if((c=(i=n.props)==null?void 0:i.message)!=null&&c.error){u(e(n.props.message.error),"error");return}s.resetForm(),(m=(p=n.props)==null?void 0:p.message)!=null&&m.success&&u(e(n.props.message.success),"success")}})}});return x.useEffect(()=>{s.setErrors(d||{})},[d]),r.jsx(C.Pane,{eventKey:"change-password",children:r.jsx(o,{onSubmit:s.handleSubmit,noValidate:!0,children:r.jsxs(t,{children:[r.jsx(a,{lg:12,children:r.jsx("div",{className:"mb-3",children:r.jsxs(o.Group,{as:t,controlId:"current_password",children:[r.jsxs(o.Label,{column:!0,lg:3,className:"fw-semibold",children:[e("Old Password"),r.jsx("span",{className:"text-danger",children:"*"})," :"]}),r.jsxs(a,{lg:9,children:[r.jsx(o.Control,{type:"password",className:"form-control",placeholder:e("Enter current password"),value:s.values.current_password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.current_password&&s.errors.current_password)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.current_password??"")})]})]})})}),r.jsx(a,{lg:12,children:r.jsx("div",{className:"mb-3",children:r.jsxs(o.Group,{as:t,controlId:"password",children:[r.jsxs(o.Label,{column:!0,lg:3,className:"fw-semibold",children:[e("New Password"),r.jsx("span",{className:"text-danger",children:"*"})," :"]}),r.jsxs(a,{lg:9,children:[r.jsx(o.Control,{type:"password",className:"form-control",placeholder:e("Enter new password"),value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password&&s.errors.password)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.password??"")})]})]})})}),r.jsx(a,{lg:12,children:r.jsx("div",{className:"mb-3",children:r.jsxs(o.Group,{as:t,controlId:"password_confirmation",children:[r.jsxs(o.Label,{column:!0,lg:3,className:"fw-semibold",children:[e("Confirm Password"),r.jsx("span",{className:"text-danger",children:"*"})," :"]}),r.jsxs(a,{lg:9,children:[r.jsx(o.Control,{type:"password",className:"form-control",placeholder:e("Confirm password"),value:s.values.password_confirmation,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password_confirmation&&s.errors.password_confirmation)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.password_confirmation??"")})]})]})})}),r.jsx(a,{lg:12,children:r.jsx("div",{className:"hstack gap-2 justify-content-end",children:r.jsx(N,{type:"submit",variant:"success",children:e("Change Password")})})})]})})})}export{Q as default};
