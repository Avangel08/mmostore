import{d as i,j as s}from"./ContextMenuProvider-CS5NKwgS.js";import{F as T,_ as z,v as B}from"./default-BfqrZCtT.js";import{S as C}from"./react-select.esm-BDAzNT5j.js";import{h as E}from"./moment-C5S46NFB.js";import{u as _}from"./useQueryParam-CTIdJAs5.js";import{u as $}from"./useTranslation-DnvQPSkm.js";import{B as p}from"./Button-DZTXdnKE.js";import{R as H}from"./Row-otC0J6R6.js";import{C as d}from"./Col-B1uPAtVO.js";import{F as c}from"./Form-CpSIa-j7.js";import"./index-Dff2WCxi.js";import"./setPrototypeOf-B4fUID9J.js";import"./extends-CF3RwP-h.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./ThemeProvider-D15W9jxa.js";import"./Button-QujDZnew.js";const ct=({onFilter:v})=>{const{t:l,i18n:I}=$(),u=i.useRef(null),[h,N]=i.useState(!1),t=_(),F=(t==null?void 0:t.accountPerPage)??"10",y=()=>({product:(t==null?void 0:t.product)??"",createdDateStart:(t==null?void 0:t.createdDateStart)??"",createdDateEnd:(t==null?void 0:t.createdDateEnd)??"",status:(t==null?void 0:t.status)??"",orderId:(t==null?void 0:t.orderId)??"",sellStatus:(t==null?void 0:t.sellStatus)??"unsold"}),[n,x]=i.useState(y()),m=[{value:"",label:l("All")},{value:"LIVE",label:l("LIVE")}],f=[{value:"unsold",label:l("Unsold")},{value:"sold",label:l("Sold")}],[P,j]=i.useState(m[0]),[k,D]=i.useState(f[0]);i.useEffect(()=>{const e=t==null?void 0:t.status;if(e!==null){const o=m.find(g=>g.value.toString()===e);o&&j(o)}const r=(t==null?void 0:t.sellStatus)??"unsold",a=f.find(o=>o.value===r);a&&D(a)},[]);const Y=()=>{switch(I.language){case"vi":return B.Vietnamese;default:return z.english}},S=(e,r)=>{x(a=>({...a,[e]:r}))},L=e=>{const[r,a]=e;x(o=>({...o,createdDateStart:r?E(r).format("YYYY-MM-DD"):"",createdDateEnd:a?E(a).format("YYYY-MM-DD"):""}))},R=e=>{j(e),S("status",e.value)},w=e=>{D(e),S("sellStatus",e.value)},V=()=>{v(1,Number(F),n)},M=()=>{const e=(t==null?void 0:t.product)||"",r=(t==null?void 0:t.createdDateStart)||"",a=(t==null?void 0:t.createdDateEnd)||"",o=(t==null?void 0:t.status)||"",g=(t==null?void 0:t.orderId)||"",b=(t==null?void 0:t.sellStatus)||"";return e!==null&&e!==""||r!==null&&r!==""||a!==null&&a!==""||o!==null&&o!==""||g!==null&&g!==""||b!==null&&b!==""&&b!=="unsold"},O=()=>{const e={product:"",createdDateStart:"",createdDateEnd:"",status:"",orderId:"",sellStatus:"unsold"};x(e),j(m[0]),D(f[0]),u.current&&u.current.flatpickr&&u.current.flatpickr.clear(),v(1,Number(F),e)},A=()=>{N(!h)};return s.jsxs("div",{className:"filter-container mb-3",children:[s.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[s.jsxs(p,{variant:"outline-primary",onClick:A,className:"d-flex align-items-center",children:[s.jsx("i",{className:`ri-filter-${h?"off":"2"}-line align-bottom me-2`}),l(h?"Hide Filters":"Show Filters")]}),M()&&s.jsxs(p,{variant:"outline-secondary",onClick:O,className:"d-flex align-items-center",children:[s.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),l("Reset")]})]}),h&&s.jsx("div",{className:"p-3 border rounded bg-light",children:s.jsxs(H,{className:"g-3",children:[s.jsxs(d,{md:6,lg:2,children:[s.jsx(c.Label,{htmlFor:"filter-sell-status",children:l("Sell Status")}),s.jsx(C,{id:"filter-sell-status",value:k,onChange:w,options:f,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select sell status"),menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})}})]}),s.jsxs(d,{md:4,lg:3,children:[s.jsx(c.Label,{htmlFor:"filter-product",children:l("Product")}),s.jsx(c.Control,{type:"text",id:"filter-product",placeholder:l("Enter product"),value:n.product,onChange:e=>S("product",e.target.value)})]}),s.jsxs(d,{md:4,lg:3,children:[s.jsx(c.Label,{htmlFor:"filter-date",children:l("Created Date Range")}),s.jsx(T,{ref:u,className:"form-control",id:"filter-date",placeholder:l("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:Y()},value:n.createdDateStart&&n.createdDateEnd?[new Date(n.createdDateStart),new Date(n.createdDateEnd)]:n.createdDateStart?[new Date(n.createdDateStart)]:[],onChange:L})]}),s.jsxs(d,{md:4,lg:2,children:[s.jsx(c.Label,{htmlFor:"filter-status",children:l("Status")}),s.jsx(C,{id:"filter-status",value:P,onChange:R,options:m,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select status"),menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})}})]}),s.jsxs(d,{md:6,lg:2,children:[s.jsx(c.Label,{htmlFor:"filter-order",children:l("Order ID")}),s.jsx(c.Control,{type:"text",id:"filter-order",placeholder:l("Enter Order ID"),value:n.orderId,onChange:e=>S("orderId",e.target.value)})]}),s.jsx(d,{md:12,className:"d-flex justify-content-end",children:s.jsxs(p,{variant:"primary",onClick:V,children:[s.jsx("i",{className:"ri-search-line align-bottom me-1"}),l("Filter")]})})]})})]})};export{ct as default};
