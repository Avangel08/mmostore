import{d as l,j as t}from"./ContextMenuProvider-CUf15T8b.js";import{F as P,_ as I,v as M}from"./default-BGFmWfjn.js";import{S as L}from"./react-select.esm-CjmYAKcX.js";import{h as p}from"./moment-C5S46NFB.js";import{u as V}from"./useQueryParam-D7xq7Pe-.js";import{u as A}from"./useTranslation-CcWHtvoZ.js";import{B as x}from"./Button-D8tMtwFd.js";import{R as B}from"./Row-Cl0apHvl.js";import{C as u}from"./Col-6EOqiNtv.js";import{F as f}from"./Form-tX-X8fEq.js";import"./index-DKnNWrZg.js";import"./inherits-0xqp8bJF.js";import"./setPrototypeOf-B4fUID9J.js";import"./extends-CF3RwP-h.js";import"./hoist-non-react-statics.cjs-BQLgnwv_.js";import"./ThemeProvider-B97jU0sy.js";import"./Button-NCU6JKbY.js";const ae=({onFilter:S})=>{const{t:s,i18n:v}=A(),o=l.useRef(null),[c,b]=l.useState(!1),e=V(),D=(e==null?void 0:e.perPage)??"10",F=()=>({name:(e==null?void 0:e.name)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??""}),[i,h]=l.useState(F()),d=[{value:"",label:s("All")},{value:1,label:s("Active")},{value:0,label:s("Inactive")}],[N,g]=l.useState(d[0]);l.useEffect(()=>{const a=e==null?void 0:e.status;if(a!==null){const n=d.find(r=>r.value.toString()===a);n&&g(n)}},[]);const C=()=>{switch(v.language){case"vi":return M.Vietnamese;default:return I.english}},j=(a,n)=>{h(r=>({...r,[a]:n}))},E=a=>{const[n,r]=a;h(m=>({...m,createdDateStart:n?p(n).format("YYYY-MM-DD"):"",createdDateEnd:r?p(r).format("YYYY-MM-DD"):""}))},y=a=>{g(a),j("status",a.value)},k=()=>{S(1,Number(D),i)},Y=()=>{const a=(e==null?void 0:e.name)||"",n=(e==null?void 0:e.createdDateStart)||"",r=(e==null?void 0:e.createdDateEnd)||"",m=(e==null?void 0:e.status)||"";return a!==null&&a!==""||n!==null&&n!==""||r!==null&&r!==""||m!==null&&m!==""},R=()=>{const a={name:"",createdDateStart:"",createdDateEnd:"",status:""};h(a),g(d[0]),o.current&&o.current.flatpickr&&o.current.flatpickr.clear(),S(1,Number(D),a)},w=()=>{b(!c)};return t.jsxs("div",{className:"filter-container mb-3",children:[t.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[t.jsxs(x,{variant:"outline-primary",onClick:w,className:"d-flex align-items-center",children:[t.jsx("i",{className:`ri-filter-${c?"off":"2"}-line align-bottom me-2`}),s(c?"Hide Filters":"Show Filters")]}),Y()&&t.jsxs(x,{variant:"outline-secondary",onClick:R,className:"d-flex align-items-center",children:[t.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),s("Reset")]})]}),c&&t.jsx("div",{className:"p-3 border rounded bg-light",children:t.jsxs(B,{className:"g-3",children:[t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-name",children:s("Name")}),t.jsx(f.Control,{type:"text",id:"filter-name",placeholder:s("Enter category name"),value:i.name,onChange:a=>j("name",a.target.value)})]}),t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-date",children:s("Created Date Range")}),t.jsx(P,{ref:o,className:"form-control",id:"filter-date",placeholder:s("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:C()},value:i.createdDateStart&&i.createdDateEnd?[new Date(i.createdDateStart),new Date(i.createdDateEnd)]:i.createdDateStart?[new Date(i.createdDateStart)]:[],onChange:E})]}),t.jsxs(u,{md:3,children:[t.jsx(f.Label,{htmlFor:"filter-status",children:s("Status")}),t.jsx(L,{id:"filter-status",value:N,onChange:y,options:d,classNamePrefix:"select",isSearchable:!0,placeholder:s("Select status"),menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}})]}),t.jsx(u,{md:3,className:"d-flex align-items-end",children:t.jsxs(x,{variant:"primary",onClick:k,children:[t.jsx("i",{className:"ri-search-line align-bottom me-1"}),s("Filter")]})})]})})]})};export{ae as default};
