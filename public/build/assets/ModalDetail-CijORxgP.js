import{A as y,d,j as e}from"./ContextMenuProvider-BFxymaqq.js";import{u as b,c as f,a as l}from"./index.esm-CYVgAW6Q.js";import{s as u}from"./showToast-CHSo4yL7.js";import{u as L}from"./useTranslation-CbGFTFQu.js";import{M as o}from"./Modal-C8BdQF8f.js";import{F as t}from"./Form-Dh6txPNM.js";import{B as h}from"./Button-Bat_AVxJ.js";import"./isSymbol-Bhs3vyb9.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./react-toastify.esm-BlVP_fq6.js";import"./ThemeProvider-csuTxzVc.js";import"./TransitionWrapper-Bl7u5kWO.js";import"./setPrototypeOf-C3V6guyq.js";import"./useEventCallback-B5xc_hqM.js";import"./AbstractModalHeader-C-AQu26N.js";import"./useEventCallback-CNzSWQ2S.js";import"./NoopTransition-Db10qvtm.js";import"./DataKey-DjdvojM5.js";import"./CloseButton-BfkCqEz1.js";import"./index-CC-D2dxc.js";import"./Fade-CNIYri0d.js";import"./divWithClassName-7EuOlmAI.js";import"./Col-Q4ggFOwY.js";import"./Button-Cdfic9EL.js";const X=({show:i,onHide:m,dataEdit:a})=>{const{t:s}=L(),n=!!a,r=b({initialValues:{name:"",email:"",type:"",status:""},validationSchema:f({name:l().max(50,"Must be 50 characters or less").required(s("Please enter this field")),email:l().max(50,"Must be 50 characters or less").required(s("Please enter this field")),type:l().required(s("Please enter this field")),status:l().required(s("Please enter this field"))}),onSubmit:p=>{const x=n?route("admin.user.update",{id:a.id}):route("admin.user.add"),j=n?"put":"post",v={...p};y[j](x,v,{onSuccess:()=>{r.resetForm(),m()},onError:c=>{if(typeof c=="object"){const g=Object.values(c).flat().join(", ");u(g,"error")}else u("An error occurred","error")}})}});return d.useEffect(()=>{a?r.setValues({name:a.name||"",email:a.email||"",type:a.type||"",status:a.status||""}):r.setValues({name:"",email:"",type:"",status:""})},[a]),d.useEffect(()=>{i||r.resetForm()},[i]),e.jsx(o,{id:"myModal",backdrop:"static",show:i,onHide:()=>{r.resetForm(),m()},centered:!0,children:e.jsxs(t,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx("h5",{children:s(n?"Edit":"Add")})}),e.jsxs(o.Body,{children:[e.jsxs(t.Group,{className:"mb-3",controlId:"name",children:[e.jsxs(t.Label,{children:[s("Name")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(t.Control,{type:"text",placeholder:s("Enter name"),maxLength:50,onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.name,isInvalid:!!(r.touched.name&&r.errors.name)}),e.jsx(t.Control.Feedback,{type:"invalid",children:r.errors.name})]}),e.jsxs(t.Group,{className:"mb-3",controlId:"email",children:[e.jsxs(t.Label,{children:[s("Email")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(t.Control,{type:"text",placeholder:s("Enter email"),maxLength:50,onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.email,isInvalid:!!(r.touched.email&&r.errors.email)}),e.jsx(t.Control.Feedback,{type:"invalid",children:r.errors.email})]}),e.jsxs(t.Group,{className:"mb-3",controlId:"type",children:[e.jsxs(t.Label,{children:[s("Type")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(t.Select,{name:"type",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.type,isInvalid:!!(r.touched.type&&r.errors.type),children:[e.jsx("option",{value:"",children:s("Select type")}),e.jsx("option",{value:"ADMIN",children:"ADMIN"}),e.jsx("option",{value:"SELLER",children:"SELLER"})]}),e.jsx(t.Control.Feedback,{type:"invalid",children:r.errors.type})]}),e.jsxs(t.Group,{className:"mb-3",controlId:"status_user",children:[e.jsxs(t.Label,{children:[s("Status")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(t.Select,{name:"status",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.status,isInvalid:!!(r.touched.status&&r.errors.status),children:[e.jsx("option",{value:"",children:s("Select status")}),e.jsx("option",{value:"0",children:s("Inactive")}),e.jsx("option",{value:"1",children:s("Active")}),e.jsx("option",{value:"2",children:s("Block")})]}),e.jsx(t.Control.Feedback,{type:"invalid",children:r.errors.status})]})]}),e.jsxs(o.Footer,{children:[e.jsx(h,{variant:"light",onClick:()=>{r.resetForm(),m()},children:s("Close")}),e.jsx(h,{variant:"primary",type:"submit",children:s(n?"Update":"Save changes")})]})]})})};export{X as ModalDetail};
