import{d as l,G as z,j as s,R as F,S as D,A}from"./ContextMenuProvider-DK3oxQYr.js";import{a as B}from"./auth-login-illustration-light-ChluNNnZ.js";import{u as I}from"./useTranslation-DPKXtvuf.js";import{C as L}from"./Container-CKD4fvms.js";import{R as V}from"./Row-yXb5PzTN.js";import{C as h}from"./Col-CTtgbep0.js";import{C as j}from"./Card-D2trc0lm.js";import{A as f}from"./Alert-BkcyX1yf.js";import{F as i}from"./Form-BL_QAQYe.js";import{B as c}from"./Button-CFXbok-i.js";import"./ThemeProvider-Ct_rgNLL.js";import"./divWithClassName-D5EYi2Il.js";import"./hook-CKvhJRCT.js";import"./extends-BFqQA52f.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./useEventCallback-vOopJezb.js";import"./Anchor-CwUEsFps.js";import"./useEventCallback-CkenMm09.js";import"./Button-V6sZ7J-q.js";import"./Fade-BVcVAuqg.js";import"./TransitionWrapper-Cd1cgGa9.js";import"./useMergedRefs-DpVwXFtQ.js";import"./setPrototypeOf-DgZC2w_0.js";import"./CloseButton-moyFQeDE.js";import"./index-DBORkYtJ.js";function cs({token:b,email:g,tokenExpired:N}){const{t:e}=I(),[a,d]=l.useState({}),[v,y]=l.useState(!1),[m,k]=l.useState(!1),[p,C]=l.useState(!1),{data:o,setData:w,post:S,processing:u,errors:t,reset:_}=z({token:b,email:g,password:"",password_confirmation:""});l.useEffect(()=>()=>{_("password","password_confirmation")},[]);const R=r=>r.length>=8,P=()=>{d({}),y(!0);const r={};return o.password?R(o.password)||(r.password=e("Password must be at least 8 characters")):r.password=e("Password is required"),o.password_confirmation?o.password!==o.password_confirmation&&(r.password_confirmation=e("Passwords do not match")):r.password_confirmation=e("Password confirmation is required"),Object.keys(r).length>0?(d(r),!1):!0},E=r=>{r.preventDefault(),P()&&S(route("seller.reset-password.post"),{onSuccess:()=>{A.visit(route("seller.login")+"?reset=success")},onError:()=>{}})};return s.jsxs(F.Fragment,{children:[s.jsx(D,{title:e("Reset password")}),s.jsx("div",{className:"min-vh-100 d-flex align-items-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:s.jsx(L,{fluid:!0,children:s.jsxs(V,{className:"h-100",children:[s.jsx(h,{lg:6,className:"d-flex align-items-center justify-content-center",children:s.jsx("div",{className:"w-100",style:{maxWidth:"600px"},children:s.jsx(j,{className:"border-0 shadow-lg",style:{borderRadius:"25px"},children:s.jsxs(j.Body,{className:"p-5",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"d-inline-flex align-items-center justify-content-center rounded-circle",style:{width:"80px",height:"80px",backgroundColor:"#10b981",color:"white",fontSize:"40px"},children:s.jsx("i",{className:"ri-lock-line"})})}),s.jsx("h2",{className:"fw-bold text-dark mb-3",style:{fontSize:"25px"},children:e("Reset password")})]}),t.email&&s.jsx("div",{className:"mb-4",children:s.jsxs(f,{className:"border-0 alert-danger mb-0",style:{backgroundColor:"#fdecea",color:"#611a15",fontSize:"14px",borderRadius:"8px"},children:[s.jsx("i",{className:"ri-error-warning-line me-2"}),e(String(t.email))]})}),N?s.jsx("div",{className:"mb-4",children:s.jsxs(f,{className:"border-0 alert-danger mb-4",style:{backgroundColor:"#fdecea",color:"#611a15",fontSize:"14px",borderRadius:"8px"},children:[s.jsx("i",{className:"ri-error-warning-line me-2"}),e("Invalid or expired reset link")]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs(f,{className:"border-0 alert-success mb-4",style:{backgroundColor:"#d1fae5",color:"#065f46",fontSize:"14px",borderRadius:"8px"},children:[s.jsx("i",{className:"ri-shield-check-line me-2"}),s.jsx("strong",{children:e("Reset password for:")})," ",o.email]})}),s.jsxs(i,{noValidate:!0,validated:v,onSubmit:E,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(i.Label,{className:"form-label fw-semibold text-dark",children:e("New Password")}),s.jsx("span",{className:"text-danger ms-1",children:"*"}),s.jsxs("div",{className:"position-relative",children:[s.jsx("i",{className:"ri-lock-line position-absolute top-50 translate-middle-y ms-3 text-muted"}),s.jsx(i.Control,{id:"password",type:m?"text":"password",name:"password",placeholder:e("Enter new password"),className:"ps-5 pe-5 "+(t.password||a.password?"is-invalid":""),autoComplete:"new-password",value:o.password,onChange:r=>{w("password",r.target.value),a.password&&d(x=>{const n={...x};return delete n.password,n})},style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px 16px 12px 40px",fontSize:"14px"}}),s.jsx(c,{variant:"link",className:"position-absolute top-50 translate-middle-y end-0 me-3 p-0",onClick:()=>k(!m),style:{color:"#6c757d",textDecoration:"none"},children:m?s.jsx("i",{className:"ri-eye-off-line"}):s.jsx("i",{className:"ri-eye-line"})})]}),s.jsx(i.Control.Feedback,{type:"invalid",className:"d-block mt-2",children:a.password?a.password:t.password?e(String(t.password)):null})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(i.Label,{className:"form-label fw-semibold text-dark",children:e("Confirm Password")}),s.jsx("span",{className:"text-danger ms-1",children:"*"}),s.jsxs("div",{className:"position-relative",children:[s.jsx("i",{className:"ri-lock-line position-absolute top-50 translate-middle-y ms-3 text-muted"}),s.jsx(i.Control,{id:"password_confirmation",type:p?"text":"password",name:"password_confirmation",placeholder:e("Confirm new password"),className:"ps-5 pe-5 "+(t.password_confirmation||a.password_confirmation?"is-invalid":""),autoComplete:"new-password",value:o.password_confirmation,onChange:r=>{w("password_confirmation",r.target.value),a.password_confirmation&&d(x=>{const n={...x};return delete n.password_confirmation,n})},style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px 16px 12px 40px",fontSize:"14px"}}),s.jsx(c,{variant:"link",className:"position-absolute top-50 translate-middle-y end-0 me-3 p-0",onClick:()=>C(!p),style:{color:"#6c757d",textDecoration:"none"},children:p?s.jsx("i",{className:"ri-eye-off-line"}):s.jsx("i",{className:"ri-eye-line"})})]}),s.jsx(i.Control.Feedback,{type:"invalid",className:"d-block mt-2",children:a.password_confirmation?a.password_confirmation:t.password_confirmation?e(String(t.password_confirmation)):null})]}),s.jsx(c,{type:"submit",className:"w-100 py-3 fw-semibold",disabled:u,style:{background:"#10b981",border:"none",borderRadius:"8px",fontSize:"16px"},children:e("Update Password")})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(c,{variant:"link",className:"p-0 text-muted d-flex align-items-center justify-content-center mx-auto",onClick:()=>window.location.href=route("seller.login"),style:{textDecoration:"none",fontSize:"14px",fontWeight:"500"},children:e("Back to login")})})]})]})})})}),s.jsx(h,{lg:6,className:"d-flex align-items-center justify-content-center p-0 position-relative",children:s.jsx("div",{className:"position-relative w-100 h-100 d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:s.jsx("img",{src:B,alt:"Login Illustration",className:"img-fluid",style:{maxHeight:"80%",maxWidth:"90%"}})})})]})})})]})}export{cs as default};
