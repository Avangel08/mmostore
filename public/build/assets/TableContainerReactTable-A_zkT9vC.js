import{r as n,j as e,R as F}from"./app-DntMRITx.js";import{u as A,f as v,g as J,a as K,b as L,c as Q,r as U}from"./index-Bl9rdQ2w.js";import{u as W}from"./useTranslation-CiqvPkjI.js";import{R as g}from"./Row-UP0Gav0p.js";import{C as X}from"./Card-7B5ctb8K.js";import{C as Y}from"./Col-Bo7Bv9yU.js";import{T as Z}from"./Table-CnbOfsS2.js";import{B as u}from"./Button-DEo2cG8s.js";const _=({column:a})=>{const l=a.getFilterValue();return e.jsxs(e.Fragment,{children:[e.jsx(w,{type:"text",value:l??"",onChange:r=>a.setFilterValue(r),placeholder:"Search...",className:"w-36 border shadow rounded",list:a.id+"list"}),e.jsx("div",{className:"h-1"})]})},w=({value:a,onChange:l,debounce:r=500,...o})=>{const[i,m]=n.useState(a);return n.useEffect(()=>{m(a)},[a]),n.useEffect(()=>{const c=setTimeout(()=>{l(i)},r);return()=>clearTimeout(c)},[r,i]),e.jsx("input",{...o,value:i,id:"search-bar-0",className:"form-control border-0 search",onChange:c=>m(c.target.value)})},oe=({columns:a,data:l,isGlobalFilter:r,customPageSize:o,borderClass:i,tableClass:m,theadClass:c,trClass:R,thClass:k,divClass:P,SearchPlaceholder:S,onSubmit:M=d=>{d.preventDefault()}})=>{var N;const{t:d}=W(),[T,y]=n.useState([]),[x,h]=n.useState(""),j=(t,s,O,q)=>{const C=U(t.getValue(s),O);return q({itemRank:C}),C.passed},p=A({columns:a,data:l.data,filterFns:{fuzzy:j},state:{columnFilters:T,globalFilter:x},onColumnFiltersChange:y,onGlobalFilterChange:h,globalFilterFn:j,getCoreRowModel:Q(),getFilteredRowModel:L(),getPaginationRowModel:K(),getSortedRowModel:J(),manualPagination:!0,rowCount:((N=l==null?void 0:l.data)==null?void 0:N.rowCount)??0}),{getHeaderGroups:E,getRowModel:b,getCanPreviousPage:I,getCanNextPage:D,getPageOptions:V,setPageIndex:z,nextPage:B,previousPage:G,setPageSize:f,getState:H}=p;return n.useEffect(()=>{Number(o)&&f(Number(o))},[o,f]),e.jsxs(n.Fragment,{children:[r&&e.jsx(g,{className:"mb-3",children:e.jsx(X.Body,{className:"border border-dashed border-end-0 border-start-0",children:e.jsx("form",{onSubmit:M,children:e.jsx(g,{children:e.jsx(Y,{sm:5,children:e.jsxs("div",{className:"search-box me-2 mb-2 d-inline-block col-12",children:[e.jsx(w,{value:x??"",onChange:t=>h(String(t)),placeholder:S}),e.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})})})}),e.jsx("div",{className:P,children:e.jsxs(Z,{hover:!0,className:m,bordered:i,children:[e.jsx("thead",{className:c,children:E().map(t=>e.jsx("tr",{className:R,children:t.headers.map(s=>e.jsx("th",{className:k,onClick:s.column.getToggleSortingHandler(),children:s.isPlaceholder?null:e.jsxs(F.Fragment,{children:[v(s.column.columnDef.header,s.getContext()),{asc:" ",desc:" "}[s.column.getIsSorted()]??null,s.column.getCanFilter()?e.jsx("div",{children:e.jsx(_,{column:s.column,table:p})}):null]})},s.id))},t.id))}),e.jsx("tbody",{children:b().rows.map(t=>e.jsx("tr",{children:t.getVisibleCells().map(s=>e.jsx("td",{children:v(s.column.columnDef.cell,s.getContext())},s.id))},t.id))})]})}),e.jsxs(g,{className:"align-items-center mt-2 g-3 text-center text-sm-start",children:[e.jsx("div",{className:"col-sm",children:e.jsxs("div",{className:"text-muted",children:[d("Showing"),e.jsx("span",{className:"fw-semibold ms-1",children:b().rows.length})," ",d("on")," ",e.jsx("span",{className:"fw-semibold",children:l.length})," ",d("results")]})}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("ul",{className:"pagination pagination-separated pagination-md justify-content-center justify-content-sm-start mb-0",children:[e.jsx("li",{className:I()?"page-item":"page-item disabled",children:e.jsx(u,{className:"page-link",onClick:G,variant:"link",children:"<"})}),V().map((t,s)=>e.jsx(F.Fragment,{children:e.jsx("li",{className:"page-item",children:e.jsx(u,{variant:"link",className:H().pagination.pageIndex===t?"page-link active":"page-link",onClick:()=>z(t),children:t+1})})},s)),e.jsx("li",{className:D()?"page-item":"page-item disabled",children:e.jsx(u,{variant:"link",className:"page-link",onClick:B,children:">"})})]})})]})]})};export{oe as T};
