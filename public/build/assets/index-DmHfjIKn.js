import{d as S,j as e,X as N,A as F,R as w,S as C}from"./ContextMenuProvider-C-NiMYiY.js";import{Q as B}from"./react-toastify.esm-FfPBQoob.js";import{u as R,c as _,g as $}from"./index.esm-sQntuOkJ.js";import{s as f}from"./showToast-BUL3EPn5.js";import{L as k}from"./index-BcEo4Zou.js";import E from"./TableRecentUpload-CXW1KNma.js";import A from"./TableSellingProduct-ClLcByGc.js";import{u as D}from"./useTranslation-BNKLQupd.js";import{C as L}from"./Container-CFQ00J51.js";import{R as h}from"./Row-DLeSa6Vj.js";import{C as l}from"./Col-B9d4cz6j.js";import{C as p}from"./Card-CNjXVCPF.js";import{F as c}from"./Form-D2aw0oX0.js";import{B as u}from"./Button-Dx-n7Ou5.js";import{u as T,c as U}from"./ThemeProvider-BgYZLYsX.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./index-BIvY_0Em.js";import"./RightSidebar-9e4RaWSX.js";import"./vn-Ub71kd_w.js";import"./index-CaFW8DW6.js";import"./AbstractModalHeader-D7wlj6T7.js";import"./TransitionWrapper-CIOo0-du.js";import"./setPrototypeOf-B4fUID9J.js";import"./useEventCallback-Bqw6mw8o.js";import"./NoopTransition-HZfgzg2o.js";import"./DataKey-DjdvojM5.js";import"./useEventCallback-BbnC7Pc4.js";import"./CloseButton-DPIqKeUN.js";import"./SSRProvider-BeKCIydq.js";import"./useIsomorphicEffect-DK9zD9Lq.js";import"./SelectableContext-DU39_bad.js";import"./NavbarContext-T4Uzzxve.js";import"./Button-4b-n1YSh.js";import"./hook-Bge2gDtS.js";import"./extends-CF3RwP-h.js";import"./Anchor-CnFUefbU.js";import"./thunk-DEyopZAW.js";import"./reselect-CiXCCDx7.js";import"./Fade-DLwfh3Nt.js";import"./divWithClassName-Ds82THrL.js";import"./Collapse-BBXnDvUu.js";import"./logo-dark-Dh4DV6bR.js";import"./logo-light-D3OEWz0M.js";import"./avatar-1-PHP4S1R6.js";import"./moment-C5S46NFB.js";import"./TableWithContextMenu-CL7Tmzuf.js";import"./index-D81Ll3x1.js";import"./react-select.esm-BF0MRd_6.js";import"./inherits-B2gPeQio.js";import"./useQueryParam-BLtftc8W.js";import"./CardHeaderContext-D5kuT5dZ.js";const v=S.forwardRef(({bsPrefix:r,variant:i,animation:t="border",size:m,as:d="div",className:o,...n},a)=>{r=T(r,"spinner");const s=`${r}-${t}`;return e.jsx(d,{ref:a,...n,className:U(o,s,m&&`${s}-${m}`,i&&`text-${i}`)})});v.displayName="Spinner";const V=()=>{const{t:r}=D(),i=N().props.errors,{subProduct:t}=N().props,[m,d]=S.useState(!1),o=R({initialValues:{file:null},validationSchema:_({file:$().required(r("Please select a file to upload"))}),onSubmit:n=>{d(!0);const a=new FormData;a.append("sub_product_id",(t==null?void 0:t.id)||""),a.append("product_id",(t==null?void 0:t.product_id)||""),n.file&&a.append("file",n.file),F.post(route("seller.account.store"),a,{preserveScroll:!0,onSuccess:s=>{var j,g,b,y;if((g=(j=s.props)==null?void 0:j.message)!=null&&g.error){f(r(s.props.message.error),"error");return}(y=(b=s.props)==null?void 0:b.message)!=null&&y.success&&f(r(s.props.message.success),"success"),o.resetForm();const x=document.querySelector('input[type="file"]');x&&(x.value="")},onError:s=>{Object.keys(s).forEach(x=>{f(r(s[x]),"error")})},onFinish:()=>d(!1)})}});return e.jsxs(w.Fragment,{children:[e.jsx(C,{title:r("Account")}),e.jsxs("div",{className:"page-content",children:[e.jsx(B,{}),e.jsx(L,{fluid:!0,children:e.jsx(h,{children:e.jsx(l,{xs:12,children:e.jsxs(p,{children:[e.jsx(p.Header,{children:e.jsx("h5",{className:"card-title mb-0",children:r("Account")})}),e.jsxs(p.Body,{children:[e.jsxs(h,{style:{marginBottom:"32px"},children:[e.jsx(l,{lg:6,children:e.jsxs(c,{onSubmit:o.handleSubmit,noValidate:!0,children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsxs(c.Label,{children:[r("Upload file")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(c.Control,{type:"file",name:"file",accept:".txt",onChange:n=>{var s;const a=((s=n.target.files)==null?void 0:s[0])||null;o.setFieldValue("file",a)},onBlur:o.handleBlur,isInvalid:!!(o.touched.file&&o.errors.file||i!=null&&i.file)}),e.jsx(c.Control.Feedback,{type:"invalid",children:r(o.errors.file||(i==null?void 0:i.file))})]}),e.jsx(u,{variant:"primary",type:"submit",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),r("Uploading...")]}):r("Upload")})]})}),e.jsx(l,{lg:6,children:e.jsx(p,{bg:"light",className:"mb-3",children:e.jsxs(p.Body,{children:[e.jsx("h5",{children:r("Note: Each line in the uploaded file will be 1 product")}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("strong",{children:[r("Format"),":"]})," key|data1|data2|..."]}),e.jsx("div",{className:"mb-2",children:e.jsxs("strong",{children:[r("Example"),":"]})}),e.jsxs("div",{className:"font-monospace small bg-white p-2 rounded",children:["email|abc@gmail.com|password123|2fa",e.jsx("br",{}),"another_key|some_data|more_info"]})]})})})]}),e.jsx("hr",{}),e.jsxs(h,{className:"my-5",children:[e.jsx(l,{lg:12,className:"mb-4",children:e.jsx("h5",{children:r("Recent uploaded files")})}),e.jsx(l,{lg:12,children:e.jsx(E,{})})]}),e.jsx("hr",{}),e.jsxs(h,{className:"my-5",children:[e.jsxs(l,{lg:12,className:"d-flex justify-content-between mb-4",children:[e.jsx("h5",{children:r("Products for sale")}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(u,{variant:"danger",children:r("Delete all")}),e.jsx(u,{variant:"success",children:r("Download unsold products")})]})]}),e.jsx(l,{lg:12,className:"px-4",children:e.jsx(A,{})})]})]})]})})})})]})]})};V.layout=r=>e.jsx(k,{children:r});export{V as default};
