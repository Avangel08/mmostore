import{f as V,o as ie,s as y,g as ae,l as ee,i as Te}from"./TransitionWrapper-Bl7u5kWO.js";import{d as r,j as u,f as Oe}from"./ContextMenuProvider-BFxymaqq.js";import{u as R}from"./useEventCallback-CNzSWQ2S.js";import{u as ce,N as we}from"./NoopTransition-Db10qvtm.js";import{d as ke}from"./DataKey-DjdvojM5.js";import{u as Me}from"./useEventCallback-B5xc_hqM.js";import{C as Ne}from"./CloseButton-BfkCqEz1.js";function je(){const e=r.useRef(!0),t=r.useRef(()=>e.current);return r.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ae(e){const t=r.useRef(null);return r.useEffect(()=>{t.current=e}),t.current}const Le=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Be=typeof document<"u",te=Be||Le?r.useLayoutEffect:r.useEffect;var Se=Function.prototype.bind.call(Function.prototype.call,[].slice);function b(e,t){return Se(e.querySelectorAll(t))}function ne(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const le=r.createContext(V?window:void 0);le.Provider;function $(){return r.useContext(le)}function _(e){e===void 0&&(e=ie());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function De(e){const t=r.useRef(e);return t.current=e,t}function Fe(e){const t=De(e);r.useEffect(()=>()=>t.current(),[])}function We(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const oe=ke("modal-open");class U{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return We(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[o]:s.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(y(s,o)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(oe,""),y(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(oe),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const G=(e,t)=>V?e==null?(t||ie()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Pe(e,t){const n=$(),[o,s]=r.useState(()=>G(e,n==null?void 0:n.document));if(!o){const i=G(e);i&&s(i)}return r.useEffect(()=>{},[t,o]),r.useEffect(()=>{const i=G(e);i!==o&&s(i)},[e,o]),o}const Ie=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _e(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Ge(e){let{onEnter:t,onEntering:n,onEntered:o,onExit:s,onExiting:i,onExited:d,addEndListener:f,children:h}=e,l=_e(e,Ie);const g=r.useRef(null),E=ce(g,ae(h)),m=p=>C=>{p&&g.current&&p(g.current,C)},M=r.useCallback(m(t),[t]),N=r.useCallback(m(n),[n]),j=r.useCallback(m(o),[o]),A=r.useCallback(m(s),[s]),L=r.useCallback(m(i),[i]),B=r.useCallback(m(d),[d]),T=r.useCallback(m(f),[f]);return Object.assign({},l,{nodeRef:g},t&&{onEnter:M},n&&{onEntering:N},o&&{onEntered:j},s&&{onExit:A},i&&{onExiting:L},d&&{onExited:B},f&&{addEndListener:T},{children:typeof h=="function"?(p,C)=>h(p,Object.assign({},C,{ref:E})):r.cloneElement(h,{ref:E})})}const He=["component"];function Ke(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}const Ve=r.forwardRef((e,t)=>{let{component:n}=e,o=Ke(e,He);const s=Ge(o);return u.jsx(n,Object.assign({ref:t},s))});function $e({in:e,onTransition:t}){const n=r.useRef(null),o=r.useRef(!0),s=R(t);return te(()=>{if(!n.current)return;let i=!1;return s({in:e,element:n.current,initial:o.current,isStale:()=>i}),()=>{i=!0}},[e,s]),te(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function Ue({children:e,in:t,onExited:n,onEntered:o,transition:s}){const[i,d]=r.useState(!t);t&&i&&d(!1);const f=$e({in:!!t,onTransition:l=>{const g=()=>{l.isStale()||(l.in?o==null||o(l.element,l.initial):(d(!0),n==null||n(l.element)))};Promise.resolve(s(l)).then(g,E=>{throw l.in||d(!0),E})}}),h=ce(f,ae(e));return i&&!t?null:r.cloneElement(e,{ref:h})}function re(e,t,n){return e?u.jsx(Ve,Object.assign({},n,{component:e})):t?u.jsx(Ue,Object.assign({},n,{transition:t})):u.jsx(we,Object.assign({},n))}const qe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xe(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}let H;function Ye(e){return H||(H=new U({ownerDocument:e==null?void 0:e.document})),H}function ze(e){const t=$(),n=e||Ye(t),o=r.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:r.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:r.useCallback(s=>{o.current.backdrop=s},[])})}const ue=r.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:s,style:i,children:d,backdrop:f=!0,keyboard:h=!0,onBackdropClick:l,onEscapeKeyDown:g,transition:E,runTransition:m,backdropTransition:M,runBackdropTransition:N,autoFocus:j=!0,enforceFocus:A=!0,restoreFocus:L=!0,restoreFocusOptions:B,renderDialog:T,renderBackdrop:p=a=>u.jsx("div",Object.assign({},a)),manager:C,container:de,onShow:q,onHide:X=()=>{},onExit:fe,onExited:Y,onExiting:he,onEnter:ge,onEntering:me,onEntered:Ee}=e,pe=Xe(e,qe);const v=$(),O=Pe(de),c=ze(C),ve=je(),be=Ae(n),[S,z]=r.useState(!n),w=r.useRef(null);r.useImperativeHandle(t,()=>c,[c]),V&&!be&&n&&(w.current=_(v==null?void 0:v.document)),n&&S&&z(!1);const J=R(()=>{if(c.add(),W.current=ee(document,"keydown",Ce),F.current=ee(document,"focus",()=>setTimeout(xe),!0),q&&q(),j){var a,Z;const I=_((a=(Z=c.dialog)==null?void 0:Z.ownerDocument)!=null?a:v==null?void 0:v.document);c.dialog&&I&&!ne(c.dialog,I)&&(w.current=I,c.dialog.focus())}}),D=R(()=>{if(c.remove(),W.current==null||W.current(),F.current==null||F.current(),L){var a;(a=w.current)==null||a.focus==null||a.focus(B),w.current=null}});r.useEffect(()=>{!n||!O||J()},[n,O,J]),r.useEffect(()=>{S&&D()},[S,D]),Fe(()=>{D()});const xe=R(()=>{if(!A||!ve()||!c.isTopModal())return;const a=_(v==null?void 0:v.document);c.dialog&&a&&!ne(c.dialog,a)&&c.dialog.focus()}),Re=R(a=>{a.target===a.currentTarget&&(l==null||l(a),f===!0&&X())}),Ce=R(a=>{h&&Te(a)&&c.isTopModal()&&(g==null||g(a),a.defaultPrevented||X())}),F=r.useRef(),W=r.useRef(),ye=(...a)=>{z(!0),Y==null||Y(...a)};if(!O)return null;const Q=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},pe,{style:i,className:s,tabIndex:-1});let P=T?T(Q):u.jsx("div",Object.assign({},Q,{children:r.cloneElement(d,{role:"document"})}));P=re(E,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:fe,onExiting:he,onExited:ye,onEnter:ge,onEntering:me,onEntered:Ee,children:P});let k=null;return f&&(k=p({ref:c.setBackdropRef,onClick:Re}),k=re(M,N,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k})),u.jsx(u.Fragment,{children:Oe.createPortal(u.jsxs(u.Fragment,{children:[k,P]}),O)})});ue.displayName="Modal";const ut=Object.assign(ue,{Manager:U});function Je(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Qe(e,t){e.classList?e.classList.add(t):Je(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function se(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ze(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=se(e.className,t):e.setAttribute("class",se(e.className&&e.className.baseVal||"",t))}const x={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class et extends U{adjustAndStore(t,n,o){const s=n.style[t];n.dataset[t]=s,y(n,{[t]:`${parseFloat(y(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],y(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Qe(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";b(n,x.FIXED_CONTENT).forEach(i=>this.adjustAndStore(o,i,t.scrollBarWidth)),b(n,x.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-t.scrollBarWidth)),b(n,x.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Ze(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";b(n,x.FIXED_CONTENT).forEach(i=>this.restore(o,i)),b(n,x.STICKY_CONTENT).forEach(i=>this.restore(s,i)),b(n,x.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let K;function dt(e){return K||(K=new et(e)),K}const tt=r.createContext({onHide(){}}),nt=r.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:s,...i},d)=>{const f=r.useContext(tt),h=Me(()=>{f==null||f.onHide(),o==null||o()});return u.jsxs("div",{ref:d,...i,children:[s,n&&u.jsx(Ne,{"aria-label":e,variant:t,onClick:h})]})});nt.displayName="AbstractModalHeader";export{nt as A,ut as B,tt as M,$ as a,Ae as b,ne as c,et as d,dt as g,b as q,je as u};
