import{d as p,j as e}from"./ContextMenuProvider-DK3oxQYr.js";import{F as R,_ as k,v as A}from"./default-gjMU6hcX.js";import{h as D}from"./moment-C5S46NFB.js";import{u as I}from"./useQueryParam-C_Ie3zdw.js";import{u as Y}from"./useTranslation-DPKXtvuf.js";import{B as j}from"./Button-CFXbok-i.js";import{R as y}from"./Row-yXb5PzTN.js";import{C as l}from"./Col-CTtgbep0.js";import{F as i}from"./Form-BL_QAQYe.js";import"./index-DBORkYtJ.js";import"./ThemeProvider-Ct_rgNLL.js";import"./Button-V6sZ7J-q.js";const J=({onFilter:f,categories:m=[],products:x=[]})=>{const{t:a,i18n:F}=Y(),o=p.useRef(null),[d,_]=p.useState(!1),s=I(),v=(s==null?void 0:s.perPage)??"10",b=()=>({search:(s==null?void 0:s.search)??"",createdDateStart:(s==null?void 0:s.createdDateStart)??"",createdDateEnd:(s==null?void 0:s.createdDateEnd)??"",status:(s==null?void 0:s.status)??"",payment_status:(s==null?void 0:s.payment_status)??"",category_id:(s==null?void 0:s.category_id)??"",product_id:(s==null?void 0:s.product_id)??""}),[t,g]=p.useState(b()),E=()=>{switch(F.language){case"vi":return A.Vietnamese;default:return k.english}},n=(r,c)=>{g(u=>{const h={...u,[r]:c};return r==="category_id"&&(h.product_id=""),h})},S=r=>{const[c,u]=r;g(h=>({...h,createdDateStart:c?D(c).format("YYYY-MM-DD"):"",createdDateEnd:u?D(u).format("YYYY-MM-DD"):""}))},C=()=>{f(1,Number(v),t)},N=()=>!!(t.search&&t.search.trim()!==""||t.createdDateStart&&t.createdDateStart!==""||t.createdDateEnd&&t.createdDateEnd!==""||t.status&&t.status!==""||t.payment_status&&t.payment_status!==""||t.category_id&&t.category_id!==""||t.product_id&&t.product_id!==""),P=()=>{const r={search:"",createdDateStart:"",createdDateEnd:"",status:"",payment_status:"",category_id:"",product_id:""};g(r),o.current&&o.current.flatpickr&&o.current.flatpickr.clear(),f(1,Number(v),r)},L=()=>{_(!d)};return e.jsxs("div",{className:"filter-container mb-5",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[e.jsxs(j,{variant:"outline-primary",onClick:L,className:"d-flex align-items-center",children:[e.jsx("i",{className:`ri-filter-${d?"off":"2"}-line align-bottom me-2`}),a(d?"Hide Filters":"Show Filters")]}),N()&&e.jsxs(j,{variant:"outline-secondary",onClick:P,className:"d-flex align-items-center",children:[e.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),a("Reset")]})]}),d&&e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsxs(y,{className:"g-2 align-items-end",style:{marginBottom:"10px"},children:[e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-search",children:a("Order number")}),e.jsx(i.Control,{type:"text",id:"filter-search",placeholder:a("Enter order number"),value:t.search,onChange:r=>n("search",r.target.value)})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-date",children:a("Created Date Range")}),e.jsx(R,{ref:o,className:"form-control",id:"filter-date",placeholder:a("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:E()},value:t.createdDateStart&&t.createdDateEnd?[new Date(t.createdDateStart),new Date(t.createdDateEnd)]:t.createdDateStart?[new Date(t.createdDateStart)]:[],onChange:S})]})]}),e.jsxs(y,{className:"g-2 align-items-end",style:{marginBottom:"10px"},children:[e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-status",children:a("Status")}),e.jsxs(i.Select,{id:"filter-status",value:t.status,onChange:r=>n("status",r.target.value),children:[e.jsx("option",{value:"",children:a("All Status")}),e.jsx("option",{value:"PENDING",children:a("Pending")}),e.jsx("option",{value:"PROCESSING",children:a("Processing")}),e.jsx("option",{value:"COMPLETED",children:a("Completed")}),e.jsx("option",{value:"CANCELLED",children:a("Cancelled")}),e.jsx("option",{value:"FAILED",children:a("Failed")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-payment-status",children:a("Payment Status")}),e.jsxs(i.Select,{id:"filter-payment-status",value:t.payment_status,onChange:r=>n("payment_status",r.target.value),children:[e.jsx("option",{value:"",children:a("All Status")}),e.jsx("option",{value:"PENDING",children:a("Pending")}),e.jsx("option",{value:"PAID",children:a("Paid")}),e.jsx("option",{value:"FAILED",children:a("Failed")}),e.jsx("option",{value:"REFUNDED",children:a("Refunded")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-category",children:a("Category")}),e.jsxs(i.Select,{id:"filter-category",value:t.category_id,onChange:r=>n("category_id",r.target.value),children:[e.jsx("option",{value:"",children:a("All Categories")}),m&&m.length>0?m.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)):e.jsx("option",{value:"",disabled:!0,children:a("No categories available")})]})]}),e.jsxs(l,{md:2,children:[e.jsx(i.Label,{htmlFor:"filter-product",children:a("Product")}),e.jsxs(i.Select,{id:"filter-product",value:t.product_id,onChange:r=>n("product_id",r.target.value),children:[e.jsx("option",{value:"",children:a("All Products")}),x&&x.length>0?x.filter(r=>!t.category_id||r.category_id===t.category_id).map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)):e.jsx("option",{value:"",disabled:!0,children:a("No products available")})]})]})]}),e.jsx(l,{md:1,className:"d-flex gap-1",children:e.jsxs(j,{variant:"primary",onClick:C,children:[e.jsx("i",{className:"ri-search-line align-bottom me-1"}),a("Filter")]})})]})]})};export{J as default};
