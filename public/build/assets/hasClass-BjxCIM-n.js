import{d as r,j as x}from"./ContextMenuProvider-DFREiPcv.js";import{e as h,o as D,g as p}from"./TransitionWrapper-C34d5mhF.js";import{u as v,N as M}from"./NoopTransition-BAZ5VDex.js";import{u as P}from"./useEventCallback-Dzm3lM-z.js";function J(){const n=r.useRef(!0),e=r.useRef(()=>n.current);return r.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const N=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",S=typeof document<"u",b=S||N?r.useLayoutEffect:r.useEffect;function K(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const C=r.createContext(h?window:void 0);C.Provider;function W(){return r.useContext(C)}const R=(n,e)=>h?n==null?(e||D()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Q(n,e){const i=W(),[t,s]=r.useState(()=>R(n,i==null?void 0:i.document));if(!t){const o=R(n);o&&s(o)}return r.useEffect(()=>{},[e,t]),r.useEffect(()=>{const o=R(n);o!==t&&s(o)},[n,t]),t}const I=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function F(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}function G(n){let{onEnter:e,onEntering:i,onEntered:t,onExit:s,onExiting:o,onExited:c,addEndListener:d,children:l}=n,u=F(n,I);const f=r.useRef(null),E=v(f,p(l)),a=m=>g=>{m&&f.current&&m(f.current,g)},j=r.useCallback(a(e),[e]),O=r.useCallback(a(i),[i]),w=r.useCallback(a(t),[t]),y=r.useCallback(a(s),[s]),T=r.useCallback(a(o),[o]),L=r.useCallback(a(c),[c]),k=r.useCallback(a(d),[d]);return Object.assign({},u,{nodeRef:f},e&&{onEnter:j},i&&{onEntering:O},t&&{onEntered:w},s&&{onExit:y},o&&{onExiting:T},c&&{onExited:L},d&&{addEndListener:k},{children:typeof l=="function"?(m,g)=>l(m,Object.assign({},g,{ref:E})):r.cloneElement(l,{ref:E})})}const _=["component"];function $(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}const z=r.forwardRef((n,e)=>{let{component:i}=n,t=$(n,_);const s=G(t);return x.jsx(i,Object.assign({ref:e},s))});function A({in:n,onTransition:e}){const i=r.useRef(null),t=r.useRef(!0),s=P(e);return b(()=>{if(!i.current)return;let o=!1;return s({in:n,element:i.current,initial:t.current,isStale:()=>o}),()=>{o=!0}},[n,s]),b(()=>(t.current=!1,()=>{t.current=!0}),[]),i}function B({children:n,in:e,onExited:i,onEntered:t,transition:s}){const[o,c]=r.useState(!e);e&&o&&c(!1);const d=A({in:!!e,onTransition:u=>{const f=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),i==null||i(u.element)))};Promise.resolve(s(u)).then(f,E=>{throw u.in||c(!0),E})}}),l=v(d,p(n));return o&&!e?null:r.cloneElement(n,{ref:l})}function X(n,e,i){return n?x.jsx(z,Object.assign({},i,{component:n})):e?x.jsx(B,Object.assign({},i,{transition:e})):x.jsx(M,Object.assign({},i))}function Y(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{Q as a,J as b,K as c,Y as h,X as r,W as u};
