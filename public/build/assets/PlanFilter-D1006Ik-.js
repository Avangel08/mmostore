import{d as u,j as a}from"./ContextMenuProvider-DoI9LuTu.js";import{F as W,_ as X,v as Z}from"./default-DKET8U34.js";import{S as D}from"./react-select.esm-Ci0lS3LH.js";import{N as T}from"./react-number-format.es-CUqECRIb.js";import{h as I}from"./moment-C5S46NFB.js";import{u as U}from"./useQueryParam-xm9iNkis.js";import{u as ee}from"./useTranslation-Bh5zzBC_.js";import{B as P}from"./Button-CdshqBqI.js";import{R as te}from"./Row-DaX0pFtU.js";import{C as d}from"./Col-BERnSmBs.js";import{F as c}from"./Form-C6Oq7frR.js";import{I as k}from"./InputGroup-CDI3KljJ.js";import"./index-B7rcZTdA.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./inherits-B2gPeQio.js";import"./hoist-non-react-statics.cjs-BsRiVy2U.js";import"./ThemeProvider-CQKb4rSK.js";import"./Button-lElTeqs9.js";import"./InputGroupContext-CIB_KQgH.js";const De=({onFilter:w})=>{const{t:l,i18n:Y}=ee(),m=u.useRef(null),[f,R]=u.useState(!1),e=U(),F=(e==null?void 0:e.perPage)??"10",V=()=>({name:(e==null?void 0:e.name)??"",type:(e==null?void 0:e.type)??"",priceMin:(e==null?void 0:e.priceMin)??"",priceMax:(e==null?void 0:e.priceMax)??"",createdDateStart:(e==null?void 0:e.createdDateStart)??"",createdDateEnd:(e==null?void 0:e.createdDateEnd)??"",status:(e==null?void 0:e.status)??"",showPublic:(e==null?void 0:e.showPublic)??""}),[s,h]=u.useState(V()),x=[{value:"",label:l("All")},{value:0,label:l("Default")},{value:1,label:l("Normal")}],p=[{value:"",label:l("All")},{value:1,label:l("Active")},{value:0,label:l("Inactive")}],S=[{value:"",label:l("All")},{value:1,label:l("Yes")},{value:0,label:l("No")}],[L,b]=u.useState(x[0]),[A,v]=u.useState(p[0]),[K,j]=u.useState(S[0]);u.useEffect(()=>{const t=e==null?void 0:e.type;if(t!==null){const o=x.find(r=>r.value.toString()===t);o&&b(o)}const n=e==null?void 0:e.status;if(n!==null){const o=p.find(r=>r.value.toString()===n);o&&v(o)}const i=e==null?void 0:e.showPublic;if(i!==null){const o=S.find(r=>r.value.toString()===i);o&&j(o)}},[]);const z=()=>{switch(Y.language){case"vi":return Z.Vietnamese;default:return X.english}},g=(t,n)=>{h(i=>({...i,[t]:n}))},O=t=>{const[n,i]=t;h(o=>({...o,createdDateStart:n?I(n).format("YYYY-MM-DD"):"",createdDateEnd:i?I(i).format("YYYY-MM-DD"):""}))},B=t=>{b(t),g("type",t.value)},_=t=>{v(t),g("status",t.value)},$=t=>{j(t),g("showPublic",t.value)},G=t=>{const{floatValue:n}=t;h(i=>({...i,priceMin:n?n.toString():""}))},H=t=>{const{floatValue:n}=t;h(i=>({...i,priceMax:n?n.toString():""}))},C=()=>{w(1,Number(F),s)},y=t=>{t.key==="Enter"&&C()},Q=()=>{const t=(e==null?void 0:e.name)||"",n=(e==null?void 0:e.type)||"",i=(e==null?void 0:e.priceMin)||"",o=(e==null?void 0:e.priceMax)||"",r=(e==null?void 0:e.createdDateStart)||"",M=(e==null?void 0:e.createdDateEnd)||"",N=(e==null?void 0:e.status)||"",E=(e==null?void 0:e.showPublic)||"";return t!==null&&t!==""||n!==null&&n!==""||i!==null&&i!==""||o!==null&&o!==""||r!==null&&r!==""||M!==null&&M!==""||N!==null&&N!==""||E!==null&&E!==""},q=()=>{const t={name:"",type:"",priceMin:"",priceMax:"",createdDateStart:"",createdDateEnd:"",status:"",showPublic:""};h(t),b(x[0]),v(p[0]),j(S[0]),m.current&&m.current.flatpickr&&m.current.flatpickr.clear(),w(1,Number(F),t)},J=()=>{R(!f)};return a.jsxs("div",{className:"filter-container mb-3",children:[a.jsxs("div",{className:"mb-3 d-flex align-items-center gap-2",children:[a.jsxs(P,{variant:"outline-primary",onClick:J,className:"d-flex align-items-center",children:[a.jsx("i",{className:`ri-filter-${f?"off":"2"}-line align-bottom me-2`}),l(f?"Hide Filters":"Show Filters")]}),Q()&&a.jsxs(P,{variant:"outline-danger",onClick:q,className:"d-flex align-items-center",children:[a.jsx("i",{className:"ri-refresh-line align-bottom me-1"}),l("Reset")]})]}),f&&a.jsx("div",{className:"p-3 border rounded bg-light",children:a.jsxs(te,{className:"g-3",children:[a.jsxs(d,{md:3,children:[a.jsx(c.Label,{htmlFor:"filter-name",children:l("Plan name")}),a.jsx(c.Control,{type:"text",id:"filter-name",placeholder:l("Enter plan name"),value:s.name,onChange:t=>g("name",t.target.value),onKeyDown:y})]}),a.jsxs(d,{md:3,children:[a.jsx(c.Label,{htmlFor:"filter-type",children:l("Type")}),a.jsx(D,{id:"filter-type",value:L,onChange:B,options:x,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select type"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsxs(d,{md:6,children:[a.jsx(c.Label,{children:l("Price range")}),a.jsxs(k,{children:[a.jsx(T,{customInput:c.Control,id:"filter-price-min",value:s.priceMin,onValueChange:G,onKeyDown:y,thousandSeparator:".",decimalSeparator:",",decimalScale:2,placeholder:l("From"),allowNegative:!1,fixedDecimalScale:!1}),a.jsx(k.Text,{children:"â€“"}),a.jsx(T,{customInput:c.Control,id:"filter-price-max",value:s.priceMax,onValueChange:H,onKeyDown:y,thousandSeparator:".",decimalSeparator:",",decimalScale:2,placeholder:l("To"),allowNegative:!1,fixedDecimalScale:!1})]})]}),a.jsxs(d,{md:3,children:[a.jsx(c.Label,{htmlFor:"filter-date",children:l("Created Date Range")}),a.jsx(W,{ref:m,className:"form-control",id:"filter-date",placeholder:l("Select date range"),options:{mode:"range",dateFormat:"d/m/Y",locale:z()},value:s.createdDateStart&&s.createdDateEnd?[new Date(s.createdDateStart),new Date(s.createdDateEnd)]:s.createdDateStart?[new Date(s.createdDateStart)]:[],onChange:O})]}),a.jsxs(d,{md:3,children:[a.jsx(c.Label,{htmlFor:"filter-status",children:l("Status")}),a.jsx(D,{id:"filter-status",value:A,onChange:_,options:p,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select status"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsxs(d,{md:3,children:[a.jsx(c.Label,{htmlFor:"filter-show-public",children:l("Show public")}),a.jsx(D,{id:"filter-show-public",value:K,onChange:$,options:S,classNamePrefix:"select",isSearchable:!0,placeholder:l("Select visibility"),menuPortalTarget:document.body,styles:{menuPortal:t=>({...t,zIndex:9999})}})]}),a.jsx(d,{md:12,children:a.jsxs(P,{variant:"primary",onClick:C,children:[a.jsx("i",{className:"ri-search-line align-bottom me-1"}),l("Filter")]})})]})})]})};export{De as default};
