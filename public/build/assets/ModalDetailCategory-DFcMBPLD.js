import{X as v,A as N,d,j as e}from"./ContextMenuProvider-CUf15T8b.js";import{u as f}from"./formik.esm-D3LnCktS.js";import{c as b,f as C,a as F}from"./index.esm-Dr9W4QE-.js";import{s as y}from"./showToast-BZsJ5i2w.js";import{u as B}from"./useTranslation-CcWHtvoZ.js";import{M as n}from"./Modal-Cq5Iof0F.js";import{F as a}from"./Form-tX-X8fEq.js";import{B as x}from"./Button-D8tMtwFd.js";import"./toString-DZQbVhdU.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-BQLgnwv_.js";import"./react-toastify.esm-ZGmoa_RU.js";import"./ThemeProvider-B97jU0sy.js";import"./useMergedRefs-DxqJFB1B.js";import"./useEventCallback-D9rniTUJ.js";import"./useWillUnmount-CgiG1D_7.js";import"./TransitionWrapper-BiovwvO2.js";import"./setPrototypeOf-B4fUID9J.js";import"./AbstractModalHeader-BnVnJchn.js";import"./useWindow-BmGtZXAu.js";import"./querySelectorAll-a65Eisif.js";import"./useEventCallback-BkinHRQ0.js";import"./hasClass-B-lVPIr_.js";import"./NoopTransition-CYuCxw2t.js";import"./DataKey-DjdvojM5.js";import"./CloseButton-CjwmBX8Z.js";import"./index-DKnNWrZg.js";import"./Fade-PIrusN3V.js";import"./divWithClassName-F6D8z14O.js";import"./Col-6EOqiNtv.js";import"./Button-NCU6JKbY.js";const me=({show:l,onHide:i,dataEdit:o})=>{const{t}=B(),m=!!o,s=v().props.errors,r=f({initialValues:{categoryName:(o==null?void 0:o.name)||"",categoryStatus:(o==null?void 0:o.status)??1},validationSchema:b({categoryName:F().max(150,"Must be 150 characters or less").required(t("Please enter this field")),categoryStatus:C().required(t("Please select status"))}),onSubmit:j=>{const S=m?route("seller.category.update",{id:o.id}):route("seller.category.store");N[m?"put":"post"](S,j,{replace:!0,preserveScroll:!0,preserveState:!0,onSuccess:c=>{var p,u,g,h;if((u=(p=c.props)==null?void 0:p.message)!=null&&u.error){y(t(c.props.message.error),"error");return}r.resetForm(),i(),(h=(g=c.props)==null?void 0:g.message)!=null&&h.success&&y(t(c.props.message.success),"success")}})}});return d.useEffect(()=>{l?r.setValues({categoryName:(o==null?void 0:o.name)||"",categoryStatus:(o==null?void 0:o.status)??1}):r.resetForm()},[l,o]),e.jsx(n,{id:"myModal",backdrop:"static",show:l,onHide:()=>{r.resetForm(),i()},centered:!0,children:e.jsxs(a,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsx(n.Header,{closeButton:!0,children:e.jsx("h5",{children:t(m?"Edit category":"Add category")})}),e.jsxs(n.Body,{children:[e.jsxs(a.Group,{className:"mb-3",controlId:"categoryName",children:[e.jsxs(a.Label,{children:[t("Category name"),e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(a.Control,{type:"text",placeholder:t("Enter category name"),maxLength:150,onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.categoryName,isInvalid:!!(r.touched.categoryName&&r.errors.categoryName||s!=null&&s.categoryName)}),e.jsx(a.Control.Feedback,{type:"invalid",children:t(r.errors.categoryName||(s==null?void 0:s.categoryName))})]}),e.jsxs(a.Group,{className:"mb-3",controlId:"categoryStatus",children:[e.jsxs(a.Label,{children:[t("Status")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(a.Select,{onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.categoryStatus,isInvalid:!!(r.touched.categoryStatus&&r.errors.categoryStatus||s!=null&&s.categoryStatus),children:[e.jsx("option",{value:1,children:t("Active")}),e.jsx("option",{value:0,children:t("Inactive")})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:t(r.errors.categoryStatus||(s==null?void 0:s.categoryStatus))})]})]}),e.jsxs(n.Footer,{children:[e.jsx(x,{variant:"light",onClick:()=>{r.resetForm(),i()},children:t("Close")}),e.jsx(x,{variant:"primary",type:"submit",children:t(m?"Update":"Save changes")})]})]})})};export{me as ModalDetailCategory};
