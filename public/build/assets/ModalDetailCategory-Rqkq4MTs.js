import{X as v,A as f,d,j as e}from"./ContextMenuProvider-C-NiMYiY.js";import{u as b,c as C,e as F,a as B}from"./index.esm-sQntuOkJ.js";import{s as y}from"./showToast-BUL3EPn5.js";import{u as L}from"./useTranslation-BNKLQupd.js";import{M as m}from"./Modal-B2xb3fXw.js";import{F as a}from"./Form-D2aw0oX0.js";import{B as x}from"./Button-Dx-n7Ou5.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./react-toastify.esm-FfPBQoob.js";import"./ThemeProvider-BgYZLYsX.js";import"./TransitionWrapper-CIOo0-du.js";import"./setPrototypeOf-B4fUID9J.js";import"./useEventCallback-BbnC7Pc4.js";import"./AbstractModalHeader-D7wlj6T7.js";import"./useEventCallback-Bqw6mw8o.js";import"./NoopTransition-HZfgzg2o.js";import"./DataKey-DjdvojM5.js";import"./CloseButton-DPIqKeUN.js";import"./index-BIvY_0Em.js";import"./Fade-DLwfh3Nt.js";import"./divWithClassName-Ds82THrL.js";import"./Col-B9d4cz6j.js";import"./Button-4b-n1YSh.js";const ee=({show:l,onHide:i,dataEdit:o,refetchData:j})=>{const{t:s}=L(),c=!!o,t=v().props.errors,r=b({initialValues:{categoryName:(o==null?void 0:o.name)||"",categoryStatus:o!=null&&o.status?o.status:1},validationSchema:C({categoryName:B().max(150,"Must be 150 characters or less").required(s("Please enter this field")),categoryStatus:F().required(s("Please select status"))}),onSubmit:N=>{const S=c?route("seller.category.update",{id:o.id}):route("seller.category.store");f[c?"put":"post"](S,N,{onSuccess:n=>{var u,p,g,h;if((p=(u=n.props)==null?void 0:u.message)!=null&&p.error){y(s(n.props.message.error),"error");return}r.resetForm(),i(),(h=(g=n.props)==null?void 0:g.message)!=null&&h.success&&y(s(n.props.message.success),"success"),j()}})}});return d.useEffect(()=>{l?r.setValues({categoryName:(o==null?void 0:o.name)||"",categoryStatus:o!=null&&o.status?o.status:1}):r.resetForm()},[l,o]),e.jsx(m,{id:"myModal",backdrop:"static",show:l,onHide:()=>{r.resetForm(),i()},centered:!0,children:e.jsxs(a,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsx(m.Header,{closeButton:!0,children:e.jsx("h5",{children:s(c?"Edit category":"Add category")})}),e.jsxs(m.Body,{children:[e.jsxs(a.Group,{className:"mb-3",controlId:"categoryName",children:[e.jsxs(a.Label,{children:[s("Category name"),e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(a.Control,{type:"text",placeholder:s("Enter category name"),maxLength:150,onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.categoryName,isInvalid:!!(r.touched.categoryName&&r.errors.categoryName||t!=null&&t.categoryName)}),e.jsx(a.Control.Feedback,{type:"invalid",children:s(r.errors.categoryName||(t==null?void 0:t.categoryName))})]}),e.jsxs(a.Group,{className:"mb-3",controlId:"categoryStatus",children:[e.jsxs(a.Label,{children:[s("Status")," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(a.Select,{onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.categoryStatus,isInvalid:!!(r.touched.categoryStatus&&r.errors.categoryStatus||t!=null&&t.categoryStatus),children:[e.jsx("option",{value:1,children:s("Active")}),e.jsx("option",{value:0,children:s("Inactive")})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:s(r.errors.categoryStatus||(t==null?void 0:t.categoryStatus))})]})]}),e.jsxs(m.Footer,{children:[e.jsx(x,{variant:"light",onClick:()=>{r.resetForm(),i()},children:s("Close")}),e.jsx(x,{variant:"primary",type:"submit",children:s(c?"Update":"Save changes")})]})]})})};export{ee as ModalDetailCategory};
