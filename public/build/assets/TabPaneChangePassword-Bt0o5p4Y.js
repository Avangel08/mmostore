import{X as w,A as h,d as f,j as r}from"./ContextMenuProvider-CUf15T8b.js";import{u as x}from"./formik.esm-D3LnCktS.js";import{c as j,a as t,b as g}from"./index.esm-Dr9W4QE-.js";import{s as c}from"./showToast-BZsJ5i2w.js";import{u as v}from"./useTranslation-CcWHtvoZ.js";import{T as C}from"./Tab-giqs5KUv.js";import{F as e}from"./Form-tX-X8fEq.js";import{R as _}from"./Row-Cl0apHvl.js";import{C as n}from"./Col-6EOqiNtv.js";import{B as b}from"./Button-D8tMtwFd.js";import"./toString-DZQbVhdU.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-BQLgnwv_.js";import"./react-toastify.esm-ZGmoa_RU.js";import"./index-DKnNWrZg.js";import"./SSRProvider-BK0TK1ss.js";import"./TabContext-4dsOJsIb.js";import"./SelectableContext-Vjq9v8CG.js";import"./NoopTransition-CYuCxw2t.js";import"./useEventCallback-BkinHRQ0.js";import"./TransitionWrapper-BiovwvO2.js";import"./useMergedRefs-DxqJFB1B.js";import"./setPrototypeOf-B4fUID9J.js";import"./Fade-PIrusN3V.js";import"./ThemeProvider-B97jU0sy.js";import"./Button-NCU6JKbY.js";function U(){const{t:o}=v(),i=w().props.errors,s=x({initialValues:{current_password:"",password:"",password_confirmation:""},validationSchema:j({current_password:t().required(o("Please enter your current password")),password:t().min(8,o("Password must be at least 8 characters")).required(o("Please enter your new password")),password_confirmation:t().oneOf([g("password")],o("Passwords must match")).required(o("Please confirm your password"))}),onSubmit:u=>{h.put(route("seller.profile.change-password"),u,{onSuccess:a=>{var d,l,p,m;if((l=(d=a.props)==null?void 0:d.message)!=null&&l.error){c(o(a.props.message.error),"error");return}s.resetForm(),(m=(p=a.props)==null?void 0:p.message)!=null&&m.success&&c(o(a.props.message.success),"success")}})}});return f.useEffect(()=>{s.setErrors(i||{})},[i]),r.jsx(C.Pane,{eventKey:"change-password",children:r.jsx(e,{onSubmit:s.handleSubmit,noValidate:!0,children:r.jsxs(_,{className:"g-2",children:[r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(e.Label,{htmlFor:"current_password",className:"form-label",children:[o("Old Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(e.Control,{type:"password",className:"form-control",id:"current_password",name:"current_password",placeholder:o("Enter current password"),value:s.values.current_password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.current_password&&s.errors.current_password)}),r.jsx(e.Control.Feedback,{type:"invalid",children:o(s.errors.current_password??"")})]})}),r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(e.Label,{htmlFor:"password",className:"form-label",children:[o("New Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(e.Control,{type:"password",className:"form-control",id:"password",name:"password",placeholder:o("Enter new password"),value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password&&s.errors.password)}),r.jsx(e.Control.Feedback,{type:"invalid",children:o(s.errors.password??"")})]})}),r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(e.Label,{htmlFor:"password_confirmation",className:"form-label",children:[o("Confirm Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(e.Control,{type:"password",className:"form-control",id:"password_confirmation",name:"password_confirmation",placeholder:o("Confirm password"),value:s.values.password_confirmation,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password_confirmation&&s.errors.password_confirmation)}),r.jsx(e.Control.Feedback,{type:"invalid",children:o(s.errors.password_confirmation??"")})]})}),r.jsx(n,{lg:12,children:r.jsx("div",{className:"text-end",children:r.jsx(b,{type:"submit",variant:"success",children:o("Change Password")})})})]})})})}export{U as default};
