import{X as w,A as h,d as f,j as r}from"./ContextMenuProvider-DoI9LuTu.js";import{u as x,c as j,a as t,b as g}from"./index.esm-yjK6ua4W.js";import{s as m}from"./showToast-BFjkHmvN.js";import{u as v}from"./useTranslation-Bh5zzBC_.js";import{F as o}from"./Form-C6Oq7frR.js";import{R as C}from"./Row-DaX0pFtU.js";import{C as n}from"./Col-BERnSmBs.js";import{B as _}from"./Button-CdshqBqI.js";import"./isSymbol-CYvIzdD2.js";import"./hoist-non-react-statics.cjs-BsRiVy2U.js";import"./react-toastify.esm-8BWsAHON.js";import"./ThemeProvider-CQKb4rSK.js";import"./index-B7rcZTdA.js";import"./Button-lElTeqs9.js";function $(){const{t:e}=v(),d=w().props.errors,s=x({initialValues:{current_password:"",password:"",password_confirmation:""},validationSchema:j({current_password:t().required(e("Please enter your current password")),password:t().min(8,e("Password must be at least 8 characters")).required(e("Please enter your new password")),password_confirmation:t().oneOf([g("password")],e("Passwords must match")).required(e("Please confirm your password"))}),onSubmit:u=>{h.put(route("seller.profile.change-password"),u,{onSuccess:a=>{var l,i,c,p;if((i=(l=a.props)==null?void 0:l.message)!=null&&i.error){m(e(a.props.message.error),"error");return}s.resetForm(),(p=(c=a.props)==null?void 0:c.message)!=null&&p.success&&m(e(a.props.message.success),"success")}})}});return f.useEffect(()=>{s.setErrors(d||{})},[d]),r.jsx(o,{onSubmit:s.handleSubmit,noValidate:!0,children:r.jsxs(C,{className:"g-2",children:[r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(o.Label,{htmlFor:"current_password",className:"form-label",children:[e("Old Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(o.Control,{type:"password",className:"form-control",id:"current_password",name:"current_password",placeholder:e("Enter current password"),value:s.values.current_password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.current_password&&s.errors.current_password)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.current_password??"")})]})}),r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(o.Label,{htmlFor:"password",className:"form-label",children:[e("New Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(o.Control,{type:"password",className:"form-control",id:"password",name:"password",placeholder:e("Enter new password"),value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password&&s.errors.password)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.password??"")})]})}),r.jsx(n,{lg:4,children:r.jsxs("div",{children:[r.jsxs(o.Label,{htmlFor:"password_confirmation",className:"form-label",children:[e("Confirm Password")," ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx(o.Control,{type:"password",className:"form-control",id:"password_confirmation",name:"password_confirmation",placeholder:e("Confirm password"),value:s.values.password_confirmation,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!(s.touched.password_confirmation&&s.errors.password_confirmation)}),r.jsx(o.Control.Feedback,{type:"invalid",children:e(s.errors.password_confirmation??"")})]})}),r.jsx(n,{lg:12,children:r.jsx("div",{className:"text-end",children:r.jsx(_,{type:"submit",variant:"success",children:e("Change Password")})})})]})})}export{$ as default};
